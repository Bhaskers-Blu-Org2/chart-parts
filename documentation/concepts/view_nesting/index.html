<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/chart-parts/component---src-templates-doc-template-tsx.47aa8451f23ac0f45fb1.css">code[class*=language-],pre[class*=language-]{-moz-hyphens:none;-moz-tab-size:4;-ms-hyphens:none;-o-tab-size:4;-webkit-hyphens:none;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal;word-wrap:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}

/*# sourceMappingURL=component---src-templates-doc-template-tsx.47aa8451f23ac0f45fb1.css.map*/</style><style data-href="/chart-parts/3.fc7230274295c61f36ac.css">html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-family:sans-serif}body{display:flex;margin:0;width:100%}body,html{height:100%}#___gatsby,#___gatsby>div{display:flex;flex:1 1}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{box-sizing:border-box;font:112.5%/1.45em georgia,serif;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{-moz-font-feature-settings:"kern","liga","clig","calt";-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";color:rgba(0,0,0,.8);font-family:georgia,serif;font-feature-settings:"kern","liga","clig","calt";-webkit-font-kerning:normal;font-kerning:normal;font-weight:400;word-wrap:break-word}img{margin:0 0 1.45rem;max-width:100%;padding:0}h1{font-size:2.25rem}h1,h2{color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{list-style-image:none;list-style-position:outside;margin:0 0 1.45rem 1.45rem;padding:0}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{background:rgba(0,0,0,.04);border-radius:3px;font-size:.85rem;line-height:1.42;margin:0 0 1.45rem;overflow:auto;padding:1.45rem;word-wrap:normal}table{border-collapse:collapse;font-size:1rem;line-height:1.45rem;width:100%}fieldset,table{margin:0 0 1.45rem;padding:0}blockquote{margin:0 1.45rem 1.45rem;padding:0}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{background:rgba(0,0,0,.2);border:none;height:1px;margin:0 0 calc(1.45rem - 1px);padding:0}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-bottom:.725rem;margin-left:1.45rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{content:" ";letter-spacing:-.2em}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}

/*# sourceMappingURL=3.fc7230274295c61f36ac.css.map*/</style><title data-react-helmet="true">View Nesting</title><meta data-react-helmet="true" name="description" content="A flexible, React-friendly, Grammar of Graphics for data visualization"/><meta data-react-helmet="true" name="keywords" content="visualization, dataviz, grammar of graphics, mark-based visualization"/><style data-styled-components="jkvgsN bUxjSH TArSC eXvAQN kHdOQr kxWVFc dHAQOP dtEbfK fDwUcb jEcfxJ dcWCOQ fFSzG eYrpwl llfdau kyUwdv bgclXM dHOnnJ AXHDN exORAv iWIwrp lkjiDt eXxQXq hHJJQp fJpkJW cpCltJ dqBuPx dIxhCA llkNUL enthGY dJWPxa ezgPfN">
/* sc-component-id: header__Container-s13eiwdg-0 */
.bUxjSH{background:#AA3939;height:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}
/* sc-component-id: header__InnerContainer-s13eiwdg-1 */
.TArSC{-webkit-flex:1;-ms-flex:1;flex:1;margin:0 auto;max-width:960;padding:1.45rem 1.0875rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-self:stretch;-ms-flex-item-align:stretch;align-self:stretch;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: header__Links-s13eiwdg-2 */
.kxWVFc{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: header__Title-s13eiwdg-3 */
.eXvAQN{margin:0;border:none;}
/* sc-component-id: header__TitleLink-s13eiwdg-4 */
.kHdOQr{color:white;-webkit-text-decoration:none;text-decoration:none;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-weight:100;}
/* sc-component-id: header__OuterLink-s13eiwdg-5 */
.dHAQOP{color:white;margin-left:8px;margin-right:8px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-weight:100;}
/* sc-component-id: layout__BodyContent-s1ms8vo4-0 */
.jkvgsN{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}
/* sc-component-id: layout__ContentContainer-s1ms8vo4-1 */
.dtEbfK{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-flex:1;-ms-flex:1;flex:1;padding:0;margin:0;}
/* sc-component-id: layout__Content-s1ms8vo4-2 */
.bgclXM{margin:auto;padding:0px 1.0875rem 1.45rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;-webkit-flex:5;-ms-flex:5;flex:5;padding:1.45rem;overflow:scroll;}
/* sc-component-id: layout__SidebarContainer-s1ms8vo4-3 */
.fDwUcb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;height:100%;padding:1rem;background:#F6F6F6;}
/* sc-component-id: link_tree__IconSpacer-s80n26y-1 */
.kyUwdv{width:15px;}
/* sc-component-id: link_tree__CurrentLevel-s80n26y-2 */
.fFSzG{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: link_tree__CollapsedIcon-s80n26y-4 */
.eYrpwl{color:#999;cursor:pointer;width:15px;}
/* sc-component-id: link_tree__Link-s80n26y-5 */
.llfdau{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;line-height:2.4375;font-weight:100;font-size:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}
/* sc-component-id: sidebar__Container-i1e332-0 */
.jEcfxJ{-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;height:100%;}
/* sc-component-id: slider__Container-vak1f4-0 */
.hHJJQp{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}
/* sc-component-id: slider__NameColumn-vak1f4-1 */
.fJpkJW{width:120px;}
/* sc-component-id: slider__InputColumn-vak1f4-2 */
.cpCltJ{-webkit-flex:2;-ms-flex:2;flex:2;}
/* sc-component-id: dropdown__Container-s15e4nxg-0 */
.enthGY{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}
/* sc-component-id: dropdown__NameColumn-s15e4nxg-1 */
.dJWPxa{width:120px;}
/* sc-component-id: dropdown__InputColumn-s15e4nxg-2 */
.ezgPfN{-webkit-flex:2;-ms-flex:2;flex:2;}
/* sc-component-id: toggle__Container-s6n8hnk-0 */
.dqBuPx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}
/* sc-component-id: toggle__NameColumn-s6n8hnk-1 */
.dIxhCA{width:120px;}
/* sc-component-id: toggle__InputColumn-s6n8hnk-2 */
.llkNUL{-webkit-flex:2;-ms-flex:2;flex:2;}
/* sc-component-id: single-mark-tester__Container-s1dfblu3-0 */
.iWIwrp{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:600px;}
/* sc-component-id: single-mark-tester__ChartContainer-s1dfblu3-1 */
.lkjiDt{border:1px solid grey;margin-right:25px;}
/* sc-component-id: single-mark-tester__ControlsContainer-s1dfblu3-2 */
.eXxQXq{-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}
/* sc-component-id: doc__Container-s18qgqer-0 */
.dHOnnJ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}
/* sc-component-id: doc__Gutter-s18qgqer-1 */
.AXHDN{-webkit-flex:1;-ms-flex:1;flex:1;}
/* sc-component-id: doc__Content-s18qgqer-2 */
.exORAv{-webkit-flex:5;-ms-flex:5;flex:5;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:1.625rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.40625rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:calc(0.8125rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#4078c0;text-decoration:none;}a:hover,a:active{text-decoration:underline;}</style><link as="script" rel="preload" href="/chart-parts/app-85dd2d20cc854346edf8.js"/><link as="script" rel="preload" href="/chart-parts/0-613a778296526eb8237f.js"/><link as="script" rel="preload" href="/chart-parts/2-dc1d84100586aba109e2.js"/><link as="script" rel="preload" href="/chart-parts/1-7ae096e3207ec616154e.js"/><link as="script" rel="preload" href="/chart-parts/component---src-templates-doc-template-tsx-bfad2c8b770705b3994e.js"/><link as="script" rel="preload" href="/chart-parts/3-8c15c16667005d7a98b4.js"/><link as="script" rel="preload" href="/chart-parts/webpack-runtime-9a7561c5a59f8d59bc02.js"/><link rel="preload" href="/chart-parts/static/d/616/path---documentation-concepts-view-nesting-1-ec-6d8-7rP6lLuFwsWdpLAQzvZgi5jQBQ.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="layout__BodyContent-s1ms8vo4-0 jkvgsN"><div class="header__Container-s13eiwdg-0 bUxjSH"><div class="header__InnerContainer-s13eiwdg-1 TArSC" style="opacity:1"><h1 class="header__Title-s13eiwdg-3 eXvAQN"><a class="header__TitleLink-s13eiwdg-4 kHdOQr" href="/chart-parts/">chart-parts</a></h1><div class="header__Links-s13eiwdg-2 kxWVFc"><a class="header__OuterLink-s13eiwdg-5 dHAQOP" href="/chart-parts/">Home</a><a class="header__OuterLink-s13eiwdg-5 dHAQOP" href="/chart-parts/documentation">Docs</a><a class="header__OuterLink-s13eiwdg-5 dHAQOP" href="/chart-parts/blog">Blog</a><a class="header__OuterLink-s13eiwdg-5 dHAQOP" href="/chart-parts/https:/github.com/Microsoft/chart-parts">Github</a></div></div></div><div class="layout__ContentContainer-s1ms8vo4-1 dtEbfK"><div class="layout__SidebarContainer-s1ms8vo4-3 fDwUcb"><div class="sidebar__Container-i1e332-0 jEcfxJ"><div class="link_tree__Container-s80n26y-0 dcWCOQ"><div class="link_tree__CurrentLevel-s80n26y-2 fFSzG"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 256 512" attr="[object Object]" class="undefined link_tree__CollapsedIcon-s80n26y-4 eYrpwl" size="15" height="15" width="15"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"></path></svg><a class="link_tree__Link-s80n26y-5 llfdau" style="margin-left:15px;font-size:16px;color:#3173BD" href="/chart-parts/documentation/introduction">Introduction</a></div></div><div class="link_tree__Container-s80n26y-0 dcWCOQ"><div class="link_tree__CurrentLevel-s80n26y-2 fFSzG"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 256 512" attr="[object Object]" class="undefined link_tree__CollapsedIcon-s80n26y-4 eYrpwl" size="15" height="15" width="15"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"></path></svg><a class="link_tree__Link-s80n26y-5 llfdau" style="margin-left:15px;font-size:16px;color:#3173BD" href="/chart-parts/documentation/concepts">Concepts</a></div></div><div class="link_tree__Container-s80n26y-0 dcWCOQ"><div class="link_tree__CurrentLevel-s80n26y-2 fFSzG"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 256 512" attr="[object Object]" class="undefined link_tree__CollapsedIcon-s80n26y-4 eYrpwl" size="15" height="15" width="15"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"></path></svg><a class="link_tree__Link-s80n26y-5 llfdau" style="margin-left:15px;font-size:16px;color:#3173BD" href="/chart-parts/documentation/apis">Client APIs</a></div></div><div class="link_tree__Container-s80n26y-0 dcWCOQ"><div class="link_tree__CurrentLevel-s80n26y-2 fFSzG"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 256 512" attr="[object Object]" class="undefined link_tree__CollapsedIcon-s80n26y-4 eYrpwl" size="15" height="15" width="15"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"></path></svg><a class="link_tree__Link-s80n26y-5 llfdau" style="margin-left:15px;font-size:16px;color:#3173BD" href="/chart-parts/documentation/examples">Examples</a></div></div><div class="link_tree__Container-s80n26y-0 dcWCOQ"><div class="link_tree__CurrentLevel-s80n26y-2 fFSzG"><span class="link_tree__IconSpacer-s80n26y-1 kyUwdv"></span><a class="link_tree__Link-s80n26y-5 llfdau" style="margin-left:15px;font-size:16px;color:#3173BD" href="/chart-parts/documentation/apidocs">API Documentation</a></div></div><div class="link_tree__Container-s80n26y-0 dcWCOQ"><div class="link_tree__CurrentLevel-s80n26y-2 fFSzG"><span class="link_tree__IconSpacer-s80n26y-1 kyUwdv"></span><a class="link_tree__Link-s80n26y-5 llfdau" style="margin-left:15px;font-size:16px;color:#3173BD" href="/chart-parts/documentation/feedback">Feedback</a></div></div></div></div><div class="layout__Content-s1ms8vo4-2 bgclXM"><div class="doc__Container-s18qgqer-0 dHOnnJ"><div class="doc__Gutter-s18qgqer-1 AXHDN"></div><div class="doc__Content-s18qgqer-2 exORAv"><div><h2>View Nesting</h2>
<p>A common task in charting is to divide the view-space into separate sub-charts. There are a variety of reasons we may want to do this.</p>
<ul>
<li>Rendering different chart types in adjacent areas to focus on different aspects of the data</li>
<li>Rendering a detail view and an overview to allow brush-selection of what&#x27;s show in detail</li>
<li>Data faceting and small-multiple views</li>
</ul>
<img alt="View Nesting" src="/chart-parts/images/view_nesting.png" height="250"/>
<p>To support this, our view model supports the idea of recursively splitting view areas based on data-faceting or manual definition.</p>
<h2>Group Marks</h2>
<p><strong>Group</strong> type marks are how we split views into sub-views. Each group instance provides a localized view-space to marks nested within it. Groups, like any other mark type, can be bound rows in a table or defined as singleton instances. When groups are data-bound they may optionally define a &quot;facet&quot; parameter to facet the source data table.</p>
<h3>Singletons</h3>
<p>Any mark be specified as a <em>singleton</em>, in which case it is unbound to a data-table and emits only a single item. </p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">    <span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">singleton</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></code></pre></div>
<h3>Faceting</h3>
<p>Groups may specify a <strong>facet</strong> value that describes how to facet incoming data. In this case, the data is partitioned into a set of sub-tables, each representing a view of the source table, and one group item is emitted per each data partition. When faceting is used, the data partition is given a name and provided to child marks so that they can render based on the faceted view of the data the group provides.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">    <span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token string">&#x27;my-data&#x27;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">facet</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">&#x27;my-data-facet&#x27;</span><span class="token punctuation">,</span>
        partitionOn<span class="token punctuation">:</span> r <span class="token operator">=&gt;</span> r<span class="token punctuation">.</span>category<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<h4>Faceting Specification Object</h4>
<ul>
<li><strong>name</strong>: The name of the facet table to provide to child-marks.</li>
<li><strong>partitionOn</strong>: A string describing a field to use as a <em>partition key</em>, or a function that returns a <em>partition key</em> for each row of the incoming data set. The partition key is used to separate the data rows into different partitions.</li>
<li><strong>transform</strong>: A function that accepts a partition of data and performs final transformation before providing it to chlidren. Clients may use this to define aggregation, layout-transformations, or any other augmentation that is necessary for child marks to render. Default is an identity function.</li>
</ul></div></div><div class="doc__Gutter-s18qgqer-1 AXHDN"></div></div></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-doc-template-tsx","jsonName":"documentation-concepts-view-nesting-1ec","path":"/documentation/concepts/view_nesting"};window.dataPath="616/path---documentation-concepts-view-nesting-1-ec-6d8-7rP6lLuFwsWdpLAQzvZgi5jQBQ";/*]]>*/</script><script src="/chart-parts/webpack-runtime-9a7561c5a59f8d59bc02.js" async=""></script><script src="/chart-parts/3-8c15c16667005d7a98b4.js" async=""></script><script src="/chart-parts/component---src-templates-doc-template-tsx-bfad2c8b770705b3994e.js" async=""></script><script src="/chart-parts/1-7ae096e3207ec616154e.js" async=""></script><script src="/chart-parts/2-dc1d84100586aba109e2.js" async=""></script><script src="/chart-parts/0-613a778296526eb8237f.js" async=""></script><script src="/chart-parts/app-85dd2d20cc854346edf8.js" async=""></script></body></html>