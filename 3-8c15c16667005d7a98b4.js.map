{"version":3,"sources":["webpack:///../client/interfaces/lib/index.js","webpack:///../util/scales/lib/index.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/util/theme.ts","webpack:///./src/configs/typography.js","webpack:///../processing/scenegraph/lib/elements/items/Item.js","webpack:///../client/react/lib/marks/BaseMark.js","webpack:///../renderers/react-svg/lib/index.js","webpack:///../client/react/lib/index.js","webpack:///../processing/vsvg/lib/element_renderers/util.js","webpack:///./.cache/public-page-renderer.js","webpack:///../processing/scenegraph/lib/index.js","webpack:///../processing/vsvg/lib/element_renderers/interfaces.js","webpack:///./src/components/layout.tsx","webpack:///../processing/vsvg/lib/path/index.js","webpack:///../util/scales/lib/quantitative/QuantitativeScale.js","webpack:///../client/react/lib/scales/quantitative/QuantitativeScale.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/header.tsx","webpack:///../client/builder/lib/index.js","webpack:///../client/react/lib/Context.js","webpack:///../util/scales/lib/DomainRangeScale.js","webpack:///../client/react/lib/scales/DomainRangeScale.js","webpack:///./src/util/convertGraphqlToc.ts","webpack:///../processing/scenegraph/lib/registry.js","webpack:///../util/scales/lib/util.js","webpack:///../util/transform/lib/index.js","webpack:///./src/examples/charts/bar-chart.tsx","webpack:///./src/examples/charts/bar-chart-with-mean.tsx","webpack:///./src/examples/charts/grouped-bar-chart.tsx","webpack:///./src/examples/charts/stacked-bar-chart.tsx","webpack:///./src/examples/charts/line-chart.tsx","webpack:///./src/examples/charts/area-chart.tsx","webpack:///./src/examples/charts/stacked-area-chart.tsx","webpack:///./src/examples/charts/population-pyramid.tsx","webpack:///./src/examples/charts/job-voyager.tsx","webpack:///./src/examples/charts/index.ts","webpack:///./src/examples/mark-testers/util/chart.tsx","webpack:///./src/examples/mark-testers/util/slider.tsx","webpack:///./src/examples/mark-testers/util/constants.ts","webpack:///./src/examples/mark-testers/util/dropdown.tsx","webpack:///./src/examples/mark-testers/util/toggle.tsx","webpack:///./src/examples/mark-testers/util/single-mark-tester.tsx","webpack:///./src/examples/mark-testers/util/palette.ts","webpack:///./src/examples/mark-testers/arc-tester.tsx","webpack:///./src/examples/mark-testers/area-tester-horizontal.tsx","webpack:///./src/examples/mark-testers/area-tester-vertical.tsx","webpack:///./src/examples/mark-testers/group-tester.tsx","webpack:///./src/examples/mark-testers/line-tester.tsx","webpack:///./src/examples/mark-testers/rect-tester.tsx","webpack:///./src/examples/mark-testers/index.ts","webpack:///./src/examples/mark-testers/path-tester.tsx","webpack:///./src/examples/mark-testers/rule-tester.tsx","webpack:///./src/examples/mark-testers/text-tester.tsx","webpack:///./src/examples/index.ts","webpack:///./src/util/processImagesInMarkdownAst.ts","webpack:///./src/util/renderHtmlAst.ts","webpack:///./src/components/sidebar/createTree.ts","webpack:///./src/components/sidebar/link_tree.tsx","webpack:///./src/components/sidebar/index.tsx","webpack:///../processing/scenegraph/lib/elements/SceneNode.js","webpack:///../client/builder/lib/SceneNodeBuilder.js","webpack:///../util/scales/lib/DomainScale.js","webpack:///../util/scales/lib/getBoundRange.js","webpack:///../client/react/lib/scales/DomainScale.js","webpack:///../processing/orchestrator/lib/index.js","webpack:///../processing/scenegraph/lib/elements/index.js","webpack:///../processing/scenegraph/lib/factory.js","webpack:///../processing/vsvg/lib/element_renderers/index.js","webpack:///../processing/vsvg/lib/element_renderers/registry.js","webpack:///../client/builder/lib/MarkBuilder.js","webpack:///../client/builder/lib/ChartOptionsManager.js","webpack:///../processing/scene/lib/scene/processNode.js","webpack:///../client/react/lib/interfaces.js","webpack:///../util/scales/lib/quantitative/index.js","webpack:///../util/scales/lib/discrete/index.js","webpack:///../util/scales/lib/colorSchemeMap.js","webpack:///../util/scales/lib/QuantizeScale.js","webpack:///../util/scales/lib/QuantileScale.js","webpack:///../util/transform/lib/interfaces.js","webpack:///../util/transform/lib/util.js","webpack:///../client/react/lib/Chart.js","webpack:///../processing/orchestrator/lib/Orchestrator.js","webpack:///../processing/scenegraph/lib/parse.js","webpack:///../client/interfaces/lib/common-types.js","webpack:///../client/interfaces/lib/scenegraph.js","webpack:///../client/interfaces/lib/specification/index.js","webpack:///../client/interfaces/lib/specification/scene.js","webpack:///../client/interfaces/lib/specification/axes.js","webpack:///../client/interfaces/lib/util/index.js","webpack:///../client/interfaces/lib/util/getItemSpace.js","webpack:///../client/interfaces/lib/vdom/index.js","webpack:///../client/interfaces/lib/vdom/svg.js","webpack:///../client/interfaces/lib/defaults.js","webpack:///../processing/scenegraph/lib/elements/items/index.js","webpack:///../processing/scenegraph/lib/elements/items/ArcItem.js","webpack:///../processing/scenegraph/lib/elements/items/AreaItem.js","webpack:///../processing/scenegraph/lib/elements/items/GroupItem.js","webpack:///../processing/scenegraph/lib/elements/items/LineItem.js","webpack:///../processing/scenegraph/lib/elements/items/PathItem.js","webpack:///../processing/scenegraph/lib/elements/items/RectItem.js","webpack:///../processing/scenegraph/lib/elements/items/RuleItem.js","webpack:///../processing/scenegraph/lib/elements/items/SymbolItem.js","webpack:///../processing/scenegraph/lib/elements/items/TextItem.js","webpack:///../processing/scenegraph/lib/elements/Mark.js","webpack:///../processing/scenegraph/lib/MarkBuilder.js","webpack:///../processing/vsvg/lib/index.js","webpack:///../processing/vsvg/lib/VirtualSvgConverter.js","webpack:///../processing/vsvg/lib/element_renderers/ArcRenderer.js","webpack:///../util/shapes/lib/index.js","webpack:///../util/shapes/lib/Rectangle.js","webpack:///../util/shapes/lib/symbols.js","webpack:///../util/shapes/lib/parse.js","webpack:///../util/shapes/lib/render.js","webpack:///../util/shapes/lib/arc.js","webpack:///../processing/vsvg/lib/path/curves.js","webpack:///../processing/vsvg/lib/element_renderers/AreaRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/GroupRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/LineRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/PathRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/RectRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/RuleRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/SymbolRenderer.js","webpack:///../processing/vsvg/lib/element_renderers/TextRenderer.js","webpack:///../processing/scene/lib/index.js","webpack:///../processing/scene/lib/scene/index.js","webpack:///../client/builder/lib/AxisBuilder.js","webpack:///../processing/scene/lib/scene/SceneFrame.js","webpack:///../processing/scene/lib/scene/marks/processMark.js","webpack:///../processing/scene/lib/scene/marks/createBoundItem.js","webpack:///../processing/scene/lib/scene/axes/index.js","webpack:///../processing/scene/lib/scene/axes/buildAxis.js","webpack:///../processing/scene/lib/scene/axes/components/index.js","webpack:///../processing/scene/lib/scene/axes/components/domain/index.js","webpack:///../processing/scene/lib/scene/axes/components/domain/crossValue.js","webpack:///../processing/scene/lib/scene/axes/components/tickLines/index.js","webpack:///../processing/scene/lib/scene/axes/components/tickLines/getTickValues.js","webpack:///../processing/scene/lib/scene/axes/components/tickLines/getLabelFormatter.js","webpack:///../processing/scene/lib/scene/axes/components/tickLabels/index.js","webpack:///../processing/scene/lib/scene/axes/getContext.js","webpack:///../client/react/lib/ChartSpec.js","webpack:///../client/react/lib/Axis.js","webpack:///../client/react/lib/scales/index.js","webpack:///../client/react/lib/scales/Scale.js","webpack:///../client/react/lib/scales/quantitative/index.js","webpack:///../client/react/lib/scales/quantitative/LinearScale.js","webpack:///../util/scales/lib/quantitative/LinearScale.js","webpack:///../util/scales/lib/quantitative/LogScale.js","webpack:///../util/scales/lib/quantitative/PowScale.js","webpack:///../util/scales/lib/quantitative/SequentialScale.js","webpack:///../util/scales/lib/quantitative/SqrtScale.js","webpack:///../util/scales/lib/quantitative/TimeScale.js","webpack:///../util/scales/lib/quantitative/UtcScale.js","webpack:///../util/scales/lib/discrete/BandScale.js","webpack:///../util/scales/lib/discrete/OrdinalScale.js","webpack:///../util/scales/lib/discrete/PointScale.js","webpack:///../client/react/lib/scales/quantitative/LogScale.js","webpack:///../client/react/lib/scales/quantitative/PowScale.js","webpack:///../client/react/lib/scales/quantitative/SequentialScale.js","webpack:///../client/react/lib/scales/quantitative/SqrtScale.js","webpack:///../client/react/lib/scales/quantitative/TimeScale.js","webpack:///../client/react/lib/scales/quantitative/UtcScale.js","webpack:///../client/react/lib/scales/discrete/index.js","webpack:///../client/react/lib/scales/discrete/BandScale.js","webpack:///../client/react/lib/scales/discrete/OrdinalScale.js","webpack:///../client/react/lib/scales/discrete/PointScale.js","webpack:///../client/react/lib/scales/QuantizeScale.js","webpack:///../client/react/lib/scales/QuantileScale.js","webpack:///../client/react/lib/marks/index.js","webpack:///../client/react/lib/marks/Arc.js","webpack:///../client/react/lib/marks/Area.js","webpack:///../client/react/lib/marks/Group.js","webpack:///../client/react/lib/marks/Line.js","webpack:///../client/react/lib/marks/Path.js","webpack:///../client/react/lib/marks/Rect.js","webpack:///../client/react/lib/marks/Rule.js","webpack:///../client/react/lib/marks/Symbol.js","webpack:///../client/react/lib/marks/Text.js","webpack:///../client/react/lib/marks/SymbolTypes.js","webpack:///../renderers/react-svg/lib/Renderer.js","webpack:///../util/transform/lib/facade/index.js","webpack:///../util/transform/lib/facade/dataset.js","webpack:///../util/transform/lib/facade/aggregate.js","webpack:///../util/transform/lib/facade/stack.js","webpack:///../util/transform/lib/facade/bin.js","webpack:///../util/transform/lib/facade/collect.js","webpack:///../util/transform/lib/facade/countPattern.js","webpack:///../util/transform/lib/facade/cross.js","webpack:///../util/transform/lib/facade/density/index.js","webpack:///../util/transform/lib/facade/density/interfaces.js","webpack:///../util/transform/lib/facade/density/densityBuilder.js","webpack:///../util/transform/lib/facade/density/normalDistributionBuilder.js","webpack:///../util/transform/lib/facade/density/uniformDistributionBuilder.js","webpack:///../util/transform/lib/facade/density/kdeDistributionBuilder.js","webpack:///../util/transform/lib/facade/density/mixtureDistributionBuilder.js","webpack:///../util/transform/lib/facade/filter.js","webpack:///../util/transform/lib/facade/formula.js"],"names":["__export","m","p","exports","hasOwnProperty","Object","defineProperty","value","__webpack_require__","e","t","n","quantitative_1","discrete_1","QuantizeScale_1","QuantileScale_1","colorSchemeMap_1","CategoricalColorScheme","linear","name","LinearScale","log","LogScale","pow","PowScale","sequential","SequantialScale","sqrt","SqrtScale","time","TimeScale","utc","UtcScale","band","bandwidth","BandScale","bandwidthName","ordinal","OrdinalScale","point","step","PointScale","stepName","quantize","QuantizeScale","quantile","QuantileScale","StaticQueryContext","react__WEBPACK_IMPORTED_MODULE_0___default","a","createContext","StaticQuery","props","createElement","Consumer","staticQueryData","data","query","render","children","graphql","Error","propTypes","prop_types__WEBPACK_IMPORTED_MODULE_1___default","object","string","isRequired","func","topts","dist_default","typography_theme_github_dist_default","options","__webpack_exports__","text","fontFamily","bodyFontFamily","join","lineHeight","baseLineHeight","highlight","palette","primary","rgb","alt","alt2","alt3","grey","whitish","backgrounds","sidebar","header","r","interfaces_1","Item","_this","_SceneNode_1$SceneNod","apply","this","arguments","nodetype","SGNodeType","fill","stroke","strokeCap","StrokeCap","Butt","strokeJoin","StrokeJoin","Miter","zIndex","channels","SceneNode","React","Context_1","builder_1","BaseMark","SceneNodeBuilderConsumer","api","apiInstance","node","addMark","SceneNodeBuilderProvider","mark","createMark","_this$props","table","role","metadata","result","markType","handle","encode","encodings","singleton","_this2","eventHandlers","assign","keys","forEach","propKey","startsWith","encodingProps","captureCommonEncodings","encodeCustomProperties","entries","reduce","prev","_ref","propValue","PureComponent","Dimension","scales_1","assertTypeIs","itemType","marktype","emitMarkGroup","type","attrs","className","commonProps","item","fillOpacity","strokeWidth","strokeOpacity","strokeLinejoin","strokeLinecap","strokeDash","strokeDasharray","strokeDashOffset","strokeDashoffset","tabIndex","module","default","registry_1","registerItemType","translate","x","y","VSvgTransformType","rotate","angle","BodyContent","styled_components__WEBPACK_IMPORTED_MODULE_4__","div","withConfig","displayName","componentId","ContentContainer","Content","SidebarContainer","_util_theme__WEBPACK_IMPORTED_MODULE_6__","_ref$sidebar","logoTo","title","react__WEBPACK_IMPORTED_MODULE_1__","gatsby__WEBPACK_IMPORTED_MODULE_3__","_ref2","_ref3","description","keywords","siteMetadata","site","Fragment","react_helmet__WEBPACK_IMPORTED_MODULE_2___default","meta","content","lang","_header__WEBPACK_IMPORTED_MODULE_5__","_public_static_d_431921337_json__WEBPACK_IMPORTED_MODULE_0__","shapes_1","curves_1","arc","context","arcShape","area","items","first","interp","interpolate","Interpolation","Linear","orient","Orientation","Horizontal","areahShape","areavShape","curve","tension","line","lineShape","rectangle","xOffset","yOffset","rectShape","build","symbol","symbolShape","d3_array_1","d3_interpolate_1","DomainRangeScale_1","getBoundRange_1","util_1","QuantitativeScale","_DomainRangeScale_1$D","defaultZero","clamp","clampValue","optionalArgument","length","nice","niceValue","round","roundValue","padding","paddingValue","zero","zeroValue","getRange","args","range","call","start","end","pad","processDomainValues","values","extent","getZero","domainContainsZero","min","max","domain","handleRangeBind","rangeBind","getBoundRange","addCommonProperties","scale","interpolateRound","DomainRangeScale","ProdPageRenderer","location","pageResources","_loader__WEBPACK_IMPORTED_MODULE_3__","getResourcesForPathname","pathname","_page_renderer__WEBPACK_IMPORTED_MODULE_2__","shape","c","d","l","i","o","s","u","Header","_this$props$logoTo","_this$props$opacity","opacity","react__WEBPACK_IMPORTED_MODULE_2__","_ref$site$siteMetadat","githubUrl","Container","InnerContainer","style","Title","TitleLink","to","Links","OuterLink","_public_static_d_295592476_json__WEBPACK_IMPORTED_MODULE_1__","HEIGHT","_util_theme__WEBPACK_IMPORTED_MODULE_5__","h1","Link","MarkBuilder_1","SceneNodeBuilder_1","AxisBuilder_1","ChartOptionsManager_1","MarkBuilder","group","markWithName","MarkType","Group","scene","cb","opts","optsManager","ChartOptionsManager","SceneNodeBuilder","paddingLeft","paddingTop","width","arg","chartSpace","height","child","Arc","Area","image","Image","Line","path","Path","rect","Rect","rule","Rule","Shape","Symbol","Text","trail","Trail","axis","orientation","AxisBuilder","_a","Provider","DomainScale_1","reverse","rangeValue","Array","isArray","bindRangeValue","reversed","reverseValue","determineRange","reverseRange","concat","bindRange","DomainScale","convertGraphqlToc","input","edges","map","pathItems","frontmatter","split","filter","slice","order","itemTypeRegistry","Map","restrictedPropNames","Set","add","ctor","set","ITEM_TYPE","createItemType","has","get","instance","propName","argLength","defaultWithoutArg","defaultWithArg","renderer","react_svg_lib","Renderer","bar_chart_data","category","amount","bar_chart_BarChart","state","hoverRowIndex","undefined","react","lib","Chart","Height","bandWidth","Width","Axis","interfaces_lib","AxisOrientation","Bottom","Left","ariaTitle","ariaDescription","onMouseEnter","index","setState","onMouseLeave","_ref4","_ref5","_ref6","_ref7","y2","_ref8","_ref9","_ref10","_ref11","baseline","VerticalTextAlignment","align","HorizontalAlignment","Center","Component","bar_chart_with_mean_renderer","dataset","bar_chart_with_mean_BarChart","bar_chart_with_mean_Scales","bar_chart_with_mean_Axes","grouped_bar_chart_renderer","grouped_bar_chart_data","position","grouped_bar_chart_GroupedBarChart","colorScheme","category20","facet","groupBy","categoryHeight","pos","x2","color","rowHeight","Right","Middle","w","stacked_bar_chart_renderer","stacked_bar_chart_ds","transform_lib","addTable","stack","sort","field","stacked_bar_chart_StackedBarChart","getTable","category10","thickness","y0","y1","line_chart_renderer","line_chart_data","line_chart_LineChart","area_chart_renderer","area_chart_data","v","area_chart_AreaChart","tickCount","Monotone","stacked_area_chart_renderer","stacked_area_chart_ds","stacked_area_chart_StackedAreaChart","tables","population","population_pyramid_renderer","population_pyramid_PopulationPyramid","year","handleYearChanged","parseInt","target","ds","addDerivedTable","sex","aggregate","population_pyramid_PyramidChart","population_pyramid_YearPicker","onChange","margin","display","alignItems","population_pyramid_ChartScales","population_pyramid_AgeLabels","population_pyramid_MPerYear","population_pyramid_FPerYear","view","chartSegmentWidth","yband","age","population_pyramid_GenderPerYearSection","xStart","xRange","labelFormat","population_pyramid_GenderPerYearRect","people","_ref12","job_voyager_renderer","source","genderOptions","job_voyager_JobVoyager","gender","onQueryChange","changeGenderSelection","onEnterArea","id","selectedAreaId","onClickArea","job","_this$state","queryRegExp","RegExp","test","offset","Offset","CompareOrder","descending","compute","op","AggregateOperation","sum","as","argmax","flexDirection","job_voyager_JobVoyagerChart","g","key","checked","job_voyager_Scales","job_voyager_Axes","keyRowName","agg","alpha","onMouseOver","onClick","dx","_ref13","perc","fontSize","_ref14","font","_ref15","_ref16","tickSize","charts","bar-chart","grouped-bar-chart","stacked-bar-chart","bar-chart-with-mean","d3_array","mean","line-chart","area-chart","stacked-area-chart","population-pyramid","job-voyager","pipeline","SGChart","_ref$width","_ref$height","_ref$origin","origin","renderScenegraph","styled_components_browser_esm","NameColumn","InputColumn","slider_Slider","_ref$min","_ref$max","_ref$value","_ref$step","_ref$onChange","evt","dropdown_Container","dropdown_NameColumn","dropdown_InputColumn","dropdown_Dropdown","optionDom","toggle_Container","toggle_NameColumn","toggle_InputColumn","toggle_Toggle","single_mark_tester_Container","ChartContainer","ControlsContainer","single_mark_tester_SingleMarkTester","_React$Component","SingleMarkTester","scenegraph","initialScenegraph","inheritsLoose_default","_proto","prototype","_this$props$sliders","sliders","_this$props$dropdowns","dropdowns","_this$props$toggles","toggles","chartWidth","chartHeight","chartOrigin","sliderElements","getParam","_this2$setParam","setParam","parseFloat","dropdownElements","_this2$setParam2","toggleElements","_this2$setParam3","update","updateScenegraph","CRIMSON","GREY","BASE_ITEM","area_tester_horizontal_BASE_ITEM","area_tester_vertical_BASE_ITEM","Vertical","group_tester_BASE_ITEM","line_tester_BASE_ITEM","rect_tester_BASE_ITEM","mark_testers","arc-tester","startAngle","endAngle","padAngle","innerRadius","outerRadius","area-tester-horizontal","interval","area_tester_horizontal_chartHeight","area-tester-vertical","area_tester_vertical_interval","area_tester_vertical_chartWidth","group-tester","clip","cornerRadius","line-tester","path-tester","rect-tester","rule-tester","text-tester","size","groupMark","firstGroup","symbolMark","symbolItem","textMark","textItem","examples","ast","renderAst","components","Compiler","renderHtmlAst","checkNode","tagName","properties","imageSrc","src","gatsby_browser_entry","withPrefix","processImagesInMarkdownAst","err","childrenOf","tree","k","link_tree_LinkTree","LinkTree","onExpandCollapseClick","expanded","hasBeenManuallyToggled","componentDidMount","activePath","childKeys","linkStyle","getLinkStyle","CurrentLevel","renderIcon","pathKey","renderChildren","_this$props2","depth","marginLeft","fontWeight","IconSpacer","ExpandedIcon","CollapsedIcon","_this$props3","childNodes","ck","b","span","fa","FaAngleDown","FaAngleRight","theme","sidebar_Container","rootItem","rootTree","current","splice","pi","pruneTree","newChildren","push","createTree","subtree","markBuilders","axisBuilders","scales","_len","creators","_key","scaleCreator","_this$markBuilders","axes","_this$axisBuilders","marks","nameValue","createScale","domainValue","bindDomainValue","getDomain","tableBind","fieldBind","getDomainFromTableBinding","domainValues","bindDomain","bind","splitIndex","indexOf","_args$viewBounds","viewBounds","addScale","Elements","itemtype","Mark","createItem","buildMark","ArcRenderer_1","AreaRenderer_1","GroupRenderer_1","LineRenderer_1","PathRenderer_1","RectRenderer_1","RuleRenderer_1","SymbolRenderer_1","TextRenderer_1","registerRenderer","ArcRenderer","AreaRenderer","GroupRenderer","LineRenderer","PathRenderer","RectRenderer","RuleRenderer","SymbolRenderer","TextRenderer","itemRendererRegistry","markRenderer","renderMark","nodes","singletonValue","channelsValue","encodingsValue","tableValue","roleValue","idGenerator","generator","itemIdGenerator","metadataValue","MarkEncodingKey","handler","nameVal","handlerVal","encoding","entryEncoding","facetValue","callback","childNode","getPadding","paddingType","DEFAULT_WIDTH","DEFAULT_HEIGHT","paddingRight","paddingBottom","processMark_1","axes_1","scenegraph_1","processNode","parentFrame","space","frame","pushNode","_axes_1$buildAxes","buildAxes","remainingSpace","viewFrame","pushView","markItems","processMark","pv","propVal","category20b","category20c","colorSchemeMap","d3_scale_1","scaleQuantize","applyNice","scaleQuantile","TextCaseTransform","lower","upper","mixed","ascending","center","normalize","getField","createSorter","sorts","_iterator","_isArray","_i","iterator","next","done","_sort$order","valueA","valueB","identity","defaultComparator","defaultEquality","__rest","getOwnPropertySymbols","orchestrator_1","ChartSpec_1","shallowequal","receiveSpec","spec","rendered","renderScene","Orchestrator","shouldComponentUpdate","ChartSpec","onSpecReady","vsvg_1","scene_1","prerenderer","VirtualSvgConverter","rawScene","parseScene","intermediate","console","sg","createScenegraph","vdom","root","channelHandlers","elements_1","KNOWN_KEYS","sceneToJSON","indent","JSON","stringify","json","initializeMark","rawMark","rawItem","parentType","GroupItem","parent","interactive","parse","Basis","Bundle","Cardinal","CatmullRom","Natural","stepAfter","stepBefore","VerticalAlignment","Top","Alphabetic","SymbolType","Circle","Square","Cross","Diamond","TriangleUp","TriangleDown","TriangleRight","TriangleLeft","TextDirection","LTR","RTL","Round","Bevel","xc","yc","strokeMiterLimit","cursor","href","tooltip","defined","url","aspect","dir","dy","ellipsis","fontVariant","fontStyle","limit","radius","theta","getItemSpace","computeDimension","low","high","resultSpan","Math","abs","_computeDimension","originX","resultWidth","_computeDimension2","originY","resultHeight","ArcItem_1","ArcItem","AreaItem_1","AreaItem","GroupItem_1","LineItem_1","LineItem","PathItem_1","PathItem","RectItem_1","RectItem","RuleItem_1","RuleItem","SymbolItem_1","SymbolItem","TextItem_1","TextItem","_Item_1$Item","factory_1","itemsValue","_this$itemsValue","itemProps","clipValue","interactiveValue","zIndexValue","element_renderers_1","interfaces_2","DEFAULT_ORIGIN","_options$width","_options$height","_options$backgroundCo","backgroundColor","_options$origin","_origin$","_origin$2","nextId","defs","transforms","path_1","TARGET_MARK_TYPE","d3_shape_1","Rectangle_1","symbols_1","cr","def","Rectangle","x1","x0","d3_path_1","h","moveTo","lineTo","quadraticCurveTo","closePath","parse_1","render_1","tau","PI","halfSqrt3","builtins","circle","draw","cross","diamond","square","triangle-up","triangle-down","triangle-right","triangle-left","symbolName","symbolPath","custom","parsed","cmdlen","q","regexp","pathstr","replace","command","chunks","trim","cmd","charAt","cmdLength","toLowerCase","chunk","param","arc_1","temp","drawArc","coords","segments","bez","bezierCurveTo","tempX","tempY","tempControlX","tempControlY","previous","controlX","controlY","beginPath","len","match","segmentCache","bezierCache","rx","ry","large","sweep","rotateX","ox","oy","th","sin_th","sin","cos_th","cos","px","py","pl","a00","a01","a10","a11","sfactor_sq","sfactor","th0","atan2","th_arc","segs","ceil","th2","th3","bezier","params","cx","cy","th1","cos_th0","sin_th0","cos_th1","sin_th1","th_half","sin_th_h2","x3","y3","lookup","basis","curveBasis","basis-closed","curveBasisClosed","basis-open","curveBasisOpen","bundle","curveBundle","cardinal","curveCardinal","cardinal-open","curveCardinalOpen","cardinal-closed","curveCardinalClosed","catmull-rom","curveCatmullRom","catmull-rom-closed","curveCatmullRomClosed","catmull-rom-open","curveCatmullRomOpen","curveLinear","linear-closed","curveLinearClosed","monotone","horizontal","curveMonotoneY","vertical","curveMonotoneX","natural","curveNatural","curveStep","step-after","curveStepAfter","step-before","curveStepBefore","entry","curveFactory","areaItems","ai","firstItem","areaItem","index_1","lambda","mappedItems","groupRect","groupRectCommonProps","rectItem","groupRectShape","toString","_renderChildren","renderedChild","groupDefs","groupChildren","_renderGroupClip","clipId","clipPath","renderGroupClip","groupWrapper","lineItem","_item$x","_item$y","alignments","left","right","alignmentBaseline","alignment","textAnchor","_ref$radius","_ref$theta","getTextTransforms","SceneFrame_1","processNode_1","optionsManager","rootFrame","SceneFrame","DEFAULT_COLOR","DEFAULT_TEXT_COLOR","DEFAULT_STROKE","DEFAULT_TICK_SIZE","DEFAULT_FONT_SIZE","DEFAULT_FONT","DEFAULT_LABEL_PADDING","DEFAULT_BAND_POSITION","DEFAULT_THICKNESS","scaleName","orientValue","thicknessValue","domainColorValue","domainWidthValue","ticksValue","tickColorValue","tickOffsetValue","tickRoundValue","tickSizeValue","tickWidthValue","labelsValue","labelFontValue","labelFontSizeValue","labelColorValue","labelPaddingValue","bandPositionValue","domainWidth","domainColor","ticks","tickColor","tickCountValue","tickOffset","tickRound","tickWidth","bandPosition","tickValues","labels","labelFont","labelFontSize","labelColor","labelPadding","labelFontWeight","labelFontWeightValue","labelAngle","labelAngleValue","labelFormatValue","labelAlign","labelAlignValue","viewTL","viewBR","channelId","boundDataItem","parentId","getRecomputedScales","pushMark","registerChannels","pushData","facetKey","dataFrame","pushBoundDataItem","dataItem","xBounds","yBounds","creator","newScales","eventName","registerHandler","createBoundItem_1","markFrame","boundData","row","createBoundItem","facets","_newData","newData","facetFrame","markSourceTable","facetSourceTable","facetSource","getKey","groupByKeys","facetMap","markMap","markRow","newFacet","viewSize","availableWidth","availableHeight","_space$origin","_space$origin$x","_space$origin$y","_space$shape","_space$shape$width","_space$shape$height","drawRect","top","bottom","nextView","itemFrame","buildAxis_1","axisSpace","hard","soft","fontPad","buildAxis","_frame$view","_frame$view$width","_frame$view$height","components_1","getContext_1","getContext","component","groupSize","availableSpace","_availableSpace$heigh2","_availableSpace$width2","_availableSpace$heigh","_availableSpace$width","isScenegraphElementGenerated","createScenegraphElement","domain_1","tickLines_1","tickLabels_1","Domain","TickLines","TickLabels","crossValue_1","maxRange","minRange","domainMinRange","domainMaxRange","domainCross","crossValue","_scenegraph_1$buildMa","rangeProperty","rangeEndProperty","crossProperty","getTickValues_1","getLabelFormatter_1","tickCrossStart","topOrLeft","tickCrossEnd","labelFormatter","getLabelFormatter","getTickValues","tick","_context$axis","crossStart","crossEnd","rangeStart","crossEndProperty","av","label","d3_time_format_1","d3_format_1","__scaletype__","timeFormat","format","_result","labelBaseline","crossPropertyValue","axisFrame","axisThickness","viewHeight","viewWidth","sceneNodeBuilder","sceneBuilder","chartOptions","updateSpec","componentDidUpdate","receiveApi","newAxis","Scale","create","_QuantitativeScale_1$","scaleLinear","base","baseValue","scaleLog","exponent","exponentValue","scalePow","interpolator","interpolatorValue","scaleSequential","scaleSqrt","scaleTime","scaleUtc","bandwidthValue","paddingInner","paddingInnerValue","paddingOuter","paddingOuterValue","alignValue","bandscale","scaleBand","colorSchemeValue","scaleOrdinal","stepNameValue","scalePoint","bandWidthName","_BaseMark_1$BaseMark","nodeBuilder","SymbolOfType","getShape","childrenElements","handlers","createElementFor","_vdom$attrs","_vdom$transforms","vdomTransforms","_vdom$channels","_vdom$metadata","reactAttrs","transform","eventId","reactEventName","event","labelledBy","titleId","descId","Dataflow","changeset","collect","DatasetManagerImpl","pipelines","createTransformPipeline","from","_len2","_key2","dataflow","pulse","insert","run","df","latest","vegaAggregate","vegaCollect","vegaField","count","valid","missing","distinct","variance","variancep","stdev","stdevp","stderr","median","q1","q3","ci0","ci1","argmin","AggregateBuilderImpl","groupByFields","computeFields","dropValue","fields","drop","keyValue","groupby","ops","vegaStack","StackBuilderImpl","stackField","compare","compareValue","offsetValue","asValue","vegaBin","bin","BinBuilderImpl","fieldValue","extentValue","anchor","anchorValue","maxBins","maxBinsValue","stepValue","steps","stepsValue","minStep","minStepValue","divide","divideValue","ref","refValue","maxbins","minstep","binNode","fieldName","CollectBuilderImpl","vegaCountPattern","countpattern","CountPatternBuilderImpl","pattern","patternValue","case","caseValue","stopWords","stopWordsValue","textField","countField","stopwords","countPattern","vegaCross","CrossBuilderImpl","filterValue","field1","field2","DensityMethod","pdf","cdf","vegaDensity","density","DensityBuilderImpl","distribution","distributionValue","method","methodValue","valueString","probabilityField","NormalDistributionBuilderImpl","meanValue","stdevValue","function","normal","UniformDistributionBuilderImpl","minValue","maxValue","uniform","KdeDistributionBuilderImpl","fromValue","kde","MixtureDistributionBuilderImpl","distributions","distributionsValue","weights","weightsValue","mixture","vegaFilter","FilterBuilderImpl","expr","predicate","vegaFormula","formula","FormulaBuilderImpl","formulaValue","initOnly","initOnlyValue","initonly"],"mappings":"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","file":"3-8c15c16667005d7a98b4.js","sourcesContent":["\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./common-types\"));\n__export(require(\"./scenegraph\"));\n__export(require(\"./specification\"));\n__export(require(\"./util\"));\n__export(require(\"./vdom\"));\n__export(require(\"./defaults\"));\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst quantitative_1 = require(\"./quantitative\");\nconst discrete_1 = require(\"./discrete\");\nconst QuantizeScale_1 = require(\"./QuantizeScale\");\nconst QuantileScale_1 = require(\"./QuantileScale\");\n__export(require(\"./quantitative\"));\n__export(require(\"./discrete\"));\n__export(require(\"./QuantizeScale\"));\n__export(require(\"./QuantileScale\"));\nvar colorSchemeMap_1 = require(\"./colorSchemeMap\");\nexports.CategoricalColorScheme = colorSchemeMap_1.CategoricalColorScheme;\n// Quantitative Scale Factories\nexports.linear = (name) => new quantitative_1.LinearScale().name(name);\nexports.log = (name) => new quantitative_1.LogScale().name(name);\nexports.pow = (name) => new quantitative_1.PowScale().name(name);\nexports.sequential = (name) => new quantitative_1.SequantialScale().name(name);\nexports.sqrt = (name) => new quantitative_1.SqrtScale().name(name);\nexports.time = (name) => new quantitative_1.TimeScale().name(name);\nexports.utc = (name) => new quantitative_1.UtcScale().name(name);\n// Discrete Scale Factories\nexports.band = (name, bandwidth) => new discrete_1.BandScale().name(name).bandwidthName(bandwidth);\nexports.ordinal = (name) => new discrete_1.OrdinalScale().name(name);\nexports.point = (name, step) => new discrete_1.PointScale().name(name).stepName(step);\n// Other\nexports.quantize = (name) => new QuantizeScale_1.QuantizeScale().name(name);\nexports.quantile = (name) => new QuantileScale_1.QuantileScale().name(name);\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","import typography from '../configs/typography'\n\nconst { options: topts } = typography\n\nexport default {\n  text: {\n    fontFamily: topts.bodyFontFamily.join(', ') as string,\n    lineHeight: topts.baseLineHeight as number,\n    highlight: '#2D882D',\n  },\n  palette: {\n    primary: {...('#AA3939' as any), rgb: [170, 57, 57]},\n    highlight: '#FFF3B0',\n    alt: '#335C67',\n    alt2: '#E09F3E',\n    alt3: '#540B0E',\n    grey: '#444',\n    whitish: '#FEFEFE',\n  },\n  backgrounds: {\n    sidebar: '#F6F6F6',\n    header: '#AA3939',\n  },\n}\n","import Typography from 'typography'\nimport theme from 'typography-theme-github'\n\nconst typography = new Typography(theme)\n\nexport default typography\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst SceneNode_1 = require(\"../SceneNode\");\nclass Item extends SceneNode_1.SceneNode {\n    constructor() {\n        super(...arguments);\n        this.nodetype = interfaces_1.SGNodeType.Item;\n        /**\n         * The fill color.\n         */\n        this.fill = 'none';\n        /**\n         * The stroke color.\n         */\n        this.stroke = 'none';\n        /**\n         * The stroke cap for line ending style. One of butt (default), round or square.\n         */\n        this.strokeCap = interfaces_1.StrokeCap.Butt;\n        /**\n         * The stroke line join method. One of miter (default), round or bevel.\n         */\n        this.strokeJoin = interfaces_1.StrokeJoin.Miter;\n        /**\n         * An integer z-index indicating the layering order of sibling mark items. The default value is 0.\n         * Higher values (1) will cause marks to be drawn on top of those with lower z-index values. Setting\n         * the z-index as an encoding property only affects ordering among sibling mark items; it will not change\n         * the layering relative to other mark definitions. Unlike the mark-level sort property, zindex changes the\n         * rendering order only; it does not otherwise change mark item order (such as line or area point order).\n         *\n         * The most common use of zindex is to ensure that a mark is drawn over its siblings when selected, such as\n         * by mouse hover.\n         */\n        this.zIndex = 0;\n        /**\n         * Event channels are a mapping of event names to their output channel.\n         */\n        this.channels = {};\n    }\n}\nexports.Item = Item;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst Context_1 = require(\"../Context\");\nconst builder_1 = require(\"@chart-parts/builder\");\nconst interfaces_1 = require(\"../interfaces\");\nclass BaseMark extends React.PureComponent {\n    render() {\n        return (React.createElement(Context_1.SceneNodeBuilderConsumer, null, api => {\n            this.apiInstance = api;\n            const node = this.addMark();\n            return (React.createElement(Context_1.SceneNodeBuilderProvider, { value: node }, this.props.children));\n        }));\n    }\n    get channels() {\n        const eventHandlers = this.props.eventHandlers || {};\n        const channels = Object.assign({}, eventHandlers);\n        Object.keys(this.props).forEach(propKey => {\n            if (propKey.startsWith('on')) {\n                channels[propKey] = this.props[propKey];\n            }\n        });\n        return channels;\n    }\n    get encodings() {\n        const encodingProps = Object.assign({}, interfaces_1.captureCommonEncodings(this.props), this.encodeCustomProperties());\n        return Object.entries(encodingProps).reduce((prev, [name, propValue]) => {\n            prev[name] = (typeof propValue === 'function'\n                ? propValue\n                : (() => propValue));\n            return prev;\n        }, {});\n    }\n    get api() {\n        if (!this.apiInstance) {\n            throw new Error('api must be defined');\n        }\n        return this.apiInstance;\n    }\n    addMark() {\n        return this.api.mark(this.createMark());\n    }\n    createMark() {\n        const { table, name, role, metadata } = this.props;\n        let result = builder_1.mark(this.markType)\n            .handle(this.channels)\n            .encode(this.encodings);\n        if (table) {\n            result = result.table(table).singleton(false);\n        }\n        if (name) {\n            result = result.name(name);\n        }\n        if (role) {\n            result = result.role(role);\n        }\n        if (metadata) {\n            result.metadata(metadata);\n        }\n        return result;\n    }\n}\nexports.BaseMark = BaseMark;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Renderer\"));\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Chart\"));\n__export(require(\"./Axis\"));\n__export(require(\"./interfaces\"));\n__export(require(\"./scales\"));\n__export(require(\"./marks\"));\nvar interfaces_1 = require(\"@chart-parts/interfaces\");\nexports.Dimension = interfaces_1.Dimension;\nvar scales_1 = require(\"@chart-parts/scales\");\nexports.CategoricalColorScheme = scales_1.CategoricalColorScheme;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Perform an invariant assertion that a mark is of a given type\n * @param mark The mark to inspect\n * @param itemType The expected item type\n */\nfunction assertTypeIs(mark, itemType) {\n    if (mark.marktype !== itemType) {\n        throw new Error(`\n            Tried to render a mark with the incorrect mark renderer. \n            Mark must be of type ${itemType}.\n        `);\n    }\n}\nexports.assertTypeIs = assertTypeIs;\nfunction roleClass(role) {\n    return `role-${role || 'mark'}`;\n}\n/**\n *\n * @param marktype\n * @param children\n */\nfunction emitMarkGroup(marktype, role, children) {\n    const markGroup = {\n        type: 'g',\n        attrs: {\n            className: `mark-${marktype} ${roleClass(role)}`,\n        },\n        children,\n    };\n    return [markGroup];\n}\nexports.emitMarkGroup = emitMarkGroup;\n/**\n * Copies shared vsvg props from the given mark into the vsvg node\n * @param item The mark item to copy from\n * @param result The vsvg node to copy into\n */\nfunction commonProps(item) {\n    const result = {};\n    if (item.fill !== undefined) {\n        result.fill = item.fill;\n    }\n    if (item.fillOpacity !== undefined) {\n        result.fillOpacity = item.fillOpacity;\n    }\n    if (item.stroke !== undefined) {\n        result.stroke = item.stroke;\n    }\n    result.strokeWidth = item.strokeWidth || 1;\n    if (item.strokeOpacity !== undefined) {\n        result.strokeOpacity = item.strokeOpacity;\n    }\n    if (item.strokeJoin !== undefined) {\n        result.strokeLinejoin = item.strokeJoin;\n    }\n    if (item.strokeCap !== undefined) {\n        result.strokeLinecap = item.strokeCap;\n    }\n    if (item.strokeDash !== undefined) {\n        result.strokeDasharray = item.strokeDash;\n    }\n    if (item.strokeDashOffset !== undefined) {\n        result.strokeDashoffset = item.strokeDashOffset;\n    }\n    if (item.tabIndex !== undefined) {\n        result.tabIndex = item.tabIndex;\n    }\n    return result;\n}\nexports.commonProps = commonProps;\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar registry_1 = require(\"./registry\");\nexports.registerItemType = registry_1.registerItemType;\n__export(require(\"./parse\"));\n__export(require(\"./factory\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nfunction translate(x, y) {\n    return { type: interfaces_1.VSvgTransformType.translate, value: [x, y] };\n}\nexports.translate = translate;\nfunction rotate(angle) {\n    return { type: interfaces_1.VSvgTransformType.rotate, value: angle };\n}\nexports.rotate = rotate;\n","// tslint:disable jsx-no-lambda\nimport * as React from 'react'\nimport Helmet from 'react-helmet'\nimport { StaticQuery, graphql } from 'gatsby'\nimport styled from 'styled-components'\nimport { SiteMetadata } from '../types'\nimport Header from './header'\nimport theme from '../util/theme'\nimport './layout.css'\n\ninterface LayoutQueryResult {\n  site: {\n    siteMetadata: SiteMetadata\n  }\n}\n\nexport interface LayoutProps {\n  sidebar?: JSX.Element\n  logoTo?: string\n  title?: string\n}\n\nconst Layout: React.SFC<LayoutProps> = ({\n  sidebar = null,\n  logoTo,\n  children,\n  title,\n}) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n            keywords\n            description\n          }\n        }\n      }\n    `}\n    render={({ site: { siteMetadata } }: LayoutQueryResult) => {\n      return (\n        <>\n          <Helmet\n            title={title || siteMetadata.title}\n            meta={getMeta(siteMetadata)}\n          >\n            <html lang=\"en\" />\n          </Helmet>\n          <BodyContent>\n            <Header />\n            <ContentContainer>\n              {sidebar ? <SidebarContainer>{sidebar}</SidebarContainer> : null}\n              <Content>{children}</Content>\n            </ContentContainer>\n          </BodyContent>\n        </>\n      )\n    }}\n  />\n)\n\nfunction getMeta({ description, keywords }: SiteMetadata) {\n  return [\n    { name: 'description', content: description },\n    { name: 'keywords', content: keywords.join(', ') },\n  ]\n}\n\nconst BodyContent = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n`\n\nconst ContentContainer = styled.div`\n  display: flex;\n  height: 100%;\n  flex-direction: row;\n  align-items: stretch;\n  flex: 1;\n  padding: 0;\n  margin: 0;\n`\n\nconst Content = styled.div`\n  margin: auto;\n  padding: 0px 1.0875rem 1.45rem;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  flex: 5;\n  padding: 1.45rem;\n  overflow: scroll;\n`\n\nconst SidebarContainer = styled.div`\n  display: flex;\n  flex: 1;\n  height: 100%;\n  padding: 1rem;\n  background: ${theme.backgrounds.sidebar};\n`\n\nexport default Layout\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst shapes_1 = require(\"@chart-parts/shapes\");\nconst curves_1 = require(\"./curves\");\nfunction arc(item, context) {\n    return shapes_1.arcShape.context(context)(item);\n}\nexports.arc = arc;\nfunction area(items, context) {\n    const first = items[0];\n    const interp = first.interpolate || interfaces_1.Interpolation.Linear;\n    const isHorizontal = first.orient === interfaces_1.Orientation.Horizontal;\n    const variant = isHorizontal ? shapes_1.areahShape : shapes_1.areavShape;\n    return variant\n        .curve(curves_1.default(interp, first.orient, first.tension))\n        .context(context)(items);\n}\nexports.area = area;\nfunction line(items, context) {\n    const item = items[0];\n    const interp = item.interpolate || 'linear';\n    return shapes_1.lineShape\n        .curve(curves_1.default(interp, undefined, item.tension))\n        .context(context)(items);\n}\nexports.line = line;\nfunction rectangle(item, xOffset, yOffset, context) {\n    return shapes_1.rectShape.build(item, xOffset, yOffset, context);\n}\nexports.rectangle = rectangle;\nfunction symbol(item, context) {\n    return shapes_1.symbolShape.context(context)(item);\n}\nexports.symbol = symbol;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_array_1 = require(\"d3-array\");\nconst d3_interpolate_1 = require(\"d3-interpolate\");\nconst DomainRangeScale_1 = require(\"../DomainRangeScale\");\nconst getBoundRange_1 = require(\"../getBoundRange\");\nconst util_1 = require(\"../util\");\nclass QuantitativeScale extends DomainRangeScale_1.DomainRangeScale {\n    constructor() {\n        super(...arguments);\n        this.defaultZero = false;\n    }\n    /**\n     * A boolean indicating if output values should be clamped to the range (default false).\n     * If clamping is disabled and the scale is passed a value outside the domain, the scale\n     *  may return a value outside the range through extrapolation. If clamping is enabled,\n     * the output value of the scale is always within the scale’s range.\n     */\n    clamp(value) {\n        this.clampValue = util_1.optionalArgument(value, arguments.length, true, false);\n        return this;\n    }\n    /**\n     * Extends the domain so that it starts and ends on nice round values.\n     */\n    nice(value) {\n        this.niceValue = util_1.optionalArgument(value, arguments.length, true, false);\n        return this;\n    }\n    /**\n     * Extends the domain so that it starts and ends on nice round values.\n     */\n    round(value) {\n        this.roundValue = util_1.optionalArgument(value, arguments.length, true, false);\n        return this;\n    }\n    /**\n     * Adjusts the range of the scale to account for a pixel-padding on each end.\n     * @param paddingValue The number of pixels to pad each end of the scale's range with.\n     */\n    padding(paddingValue) {\n        this.paddingValue = paddingValue;\n        return this;\n    }\n    /**\n     * Boolean flag indicating if the scale domain should include zero.\n     * The default value is true for linear, sqrt and pow, and false otherwise.\n     */\n    zero(value) {\n        this.zeroValue = util_1.optionalArgument(value, arguments.length, true, false);\n        return this;\n    }\n    getRange(args) {\n        const range = super.getRange(args);\n        if (this.paddingValue !== undefined) {\n            const [start, end] = range;\n            const pad = this.paddingValue;\n            const newStart = start > end ? start - pad : start + pad;\n            const newEnd = end > start ? end - pad : end + pad;\n            return [newStart, newEnd];\n        }\n        else {\n            return range;\n        }\n    }\n    processDomainValues(values) {\n        const result = d3_array_1.extent(values);\n        if (this.getZero() && !this.domainContainsZero(result)) {\n            const [min, max] = result;\n            const zero = 0;\n            return 0 < min ? [zero, max] : [min, zero];\n        }\n        return result;\n    }\n    domainContainsZero(domain) {\n        return 0 >= domain[0] && 0 <= domain[1];\n    }\n    getZero() {\n        return this.zeroValue !== undefined ? this.zeroValue : this.defaultZero;\n    }\n    handleRangeBind(args, rangeBind) {\n        return getBoundRange_1.getBoundRange(args, rangeBind);\n    }\n    addCommonProperties(scale) {\n        if (this.niceValue === true) {\n            scale.nice();\n        }\n        else if (this.niceValue !== undefined) {\n            scale.nice(this.niceValue);\n        }\n        if (this.clampValue !== undefined) {\n            scale.clamp(this.clampValue);\n        }\n        if (this.roundValue === true) {\n            scale.interpolate(d3_interpolate_1.interpolateRound);\n        }\n    }\n}\nexports.QuantitativeScale = QuantitativeScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst DomainRangeScale_1 = require(\"../DomainRangeScale\");\nclass QuantitativeScale extends DomainRangeScale_1.DomainRangeScale {\n}\nexports.QuantitativeScale = QuantitativeScale;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","// tslint:disable jsx-no-lambda\nimport * as React from 'react'\nimport { Link, graphql, StaticQuery } from 'gatsby'\nimport styled from 'styled-components'\nimport theme from '../util/theme'\n\nexport interface HeaderProps {\n  logoTo?: string\n  opacity?: number\n}\n\nexport default class Header extends React.PureComponent<HeaderProps> {\n  public static HEIGHT = 60\n\n  public render() {\n    const { logoTo = '/', opacity = 1.0 } = this.props\n\n    return (\n      <StaticQuery\n        query={graphql`\n        query {\n          site {\n            siteMetadata {\n              title\n              githubUrl\n            }\n          }\n        }\n      `}\n        render={({\n          site: {\n            siteMetadata: { title, githubUrl },\n          },\n        }: any) => (\n          <Container>\n            <InnerContainer  style={{opacity}}>\n              <Title>\n                <TitleLink to={logoTo}>{title}</TitleLink>\n              </Title>\n              <Links>\n                <OuterLink to=\"/\">Home</OuterLink>\n                <OuterLink to=\"/documentation\">Docs</OuterLink>\n                <OuterLink to=\"/blog\">Blog</OuterLink>\n                <OuterLink to={githubUrl}>Github</OuterLink>\n              </Links>\n            </InnerContainer>\n          </Container>\n        )}\n      />\n    )\n  }\n}\n\nconst Container = styled.div`\n  background: ${theme.backgrounds.header};\n  height: ${Header.HEIGHT}px;\n  display: flex;\n`\n\nconst InnerContainer = styled.div`\n  flex: 1;\n  margin: 0 auto;\n  max-width: 960;\n  padding: 1.45rem 1.0875rem;\n  display: flex;\n  justify-content: space-between;\n  align-self: stretch;\n  align-items: center;\n`\n\nconst Links = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`\n\nconst Title = styled.h1`\n  margin: 0;\n  border: none;\n`\n\nconst TitleLink = styled(Link)`\n  color: white;\n  text-decoration: none;\n  font-family: ${theme.text.fontFamily};\n  font-weight: 100;\n`\n\nconst OuterLink = styled(Link)`\n  color: white;\n  margin-left: 8px;\n  margin-right: 8px;\n  font-family: ${theme.text.fontFamily};\n  font-weight: 100;\n`\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst MarkBuilder_1 = require(\"./MarkBuilder\");\nconst SceneNodeBuilder_1 = require(\"./SceneNodeBuilder\");\nconst AxisBuilder_1 = require(\"./AxisBuilder\");\nconst ChartOptionsManager_1 = require(\"./ChartOptionsManager\");\n__export(require(\"./MarkBuilder\"));\n__export(require(\"./SceneNodeBuilder\"));\n__export(require(\"./ChartOptionsManager\"));\n/**\n * A factory function for creating a new scene\n */\nfunction scene(cb, opts) {\n    const optsManager = new ChartOptionsManager_1.ChartOptionsManager(opts);\n    return new SceneNodeBuilder_1.SceneNodeBuilder().mark(group('root')\n        .role('frame')\n        .singleton(true)\n        .zIndex(0)\n        .encode({\n        x: () => optsManager.paddingLeft,\n        y: () => optsManager.paddingTop,\n        width: (arg) => optsManager.chartSpace.shape.width,\n        height: (arg) => optsManager.chartSpace.shape.height,\n    })\n        .child(cb));\n}\nexports.scene = scene;\n/**\n * A factory function for creating a new mark\n * @param type The mark type to create\n */\nfunction mark(type) {\n    return new MarkBuilder_1.MarkBuilder(type);\n}\nexports.mark = mark;\n//\n// Utility functions for creating typed marks\n//\n/**\n * Initiates construction of a new _arc_ typed mark\n * @param name\n */\nfunction arc(name) {\n    return markWithName(interfaces_1.MarkType.Arc, name);\n}\nexports.arc = arc;\nfunction area(name) {\n    return markWithName(interfaces_1.MarkType.Area, name);\n}\nexports.area = area;\nfunction group(name) {\n    return markWithName(interfaces_1.MarkType.Group, name);\n}\nexports.group = group;\nfunction image(name) {\n    return markWithName(interfaces_1.MarkType.Image, name);\n}\nexports.image = image;\nfunction line(name) {\n    return markWithName(interfaces_1.MarkType.Line, name);\n}\nexports.line = line;\nfunction path(name) {\n    return markWithName(interfaces_1.MarkType.Path, name);\n}\nexports.path = path;\nfunction rect(name) {\n    return markWithName(interfaces_1.MarkType.Rect, name);\n}\nexports.rect = rect;\nfunction rule(name) {\n    return markWithName(interfaces_1.MarkType.Rule, name);\n}\nexports.rule = rule;\nfunction shape(name) {\n    return markWithName(interfaces_1.MarkType.Shape, name);\n}\nexports.shape = shape;\nfunction symbol(name) {\n    return markWithName(interfaces_1.MarkType.Symbol, name);\n}\nexports.symbol = symbol;\nfunction text(name) {\n    return markWithName(interfaces_1.MarkType.Text, name);\n}\nexports.text = text;\nfunction trail(name) {\n    return markWithName(interfaces_1.MarkType.Trail, name);\n}\nexports.trail = trail;\nfunction markWithName(markType, name) {\n    const result = mark(markType);\n    return name ? result.name(name) : result;\n}\n/**\n * Creates a new Axis builder\n * @param scale The name of the scale to align the axis with\n * @param orientation The positioning of the axis in the view-space\n */\nfunction axis(scale, orientation) {\n    return new AxisBuilder_1.AxisBuilder(scale, orientation);\n}\nexports.axis = axis;\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst builder_1 = require(\"@chart-parts/builder\");\n_a = React.createContext(new builder_1.SceneNodeBuilder()), exports.SceneNodeBuilderConsumer = _a.Consumer, exports.SceneNodeBuilderProvider = _a.Provider;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst DomainScale_1 = require(\"./DomainScale\");\nconst util_1 = require(\"./util\");\nconst reverse = require('lodash/reverse');\nclass DomainRangeScale extends DomainScale_1.DomainScale {\n    range(arg) {\n        if (typeof arg === 'function') {\n            this.rangeValue = arg;\n        }\n        else if (Array.isArray(arg)) {\n            this.rangeValue = () => arg;\n        }\n        else if (typeof arg !== undefined) {\n            this.bindRangeValue = arg;\n        }\n        else {\n            this.rangeValue = undefined;\n            this.bindRangeValue = undefined;\n        }\n        return this;\n    }\n    reverse(reversed) {\n        this.reverseValue = util_1.optionalArgument(reversed, arguments.length, true, false);\n        return this;\n    }\n    getRange(args) {\n        const range = this.determineRange(args);\n        const result = this.reverseValue ? this.reverseRange(range) : range;\n        return result;\n    }\n    reverseRange(range) {\n        const result = [...range];\n        return reverse(result);\n    }\n    determineRange(args) {\n        if (this.rangeValue) {\n            return this.rangeValue(args);\n        }\n        else {\n            const bindRange = this.bindRangeValue;\n            if (!bindRange) {\n                throw new Error('Either bindRange or range must be set');\n            }\n            return this.handleRangeBind(args, bindRange);\n        }\n    }\n}\nexports.DomainRangeScale = DomainRangeScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst DomainScale_1 = require(\"./DomainScale\");\nclass DomainRangeScale extends DomainScale_1.DomainScale {\n}\nexports.DomainRangeScale = DomainRangeScale;\n","import { SidebarItem } from '../components/sidebar'\n\nexport default function convertGraphqlToc(input: {\n  edges: Array<{\n    node: {\n      frontmatter: {\n        path: string\n        title: string\n        order: number\n      }\n    }\n  }>\n}): SidebarItem[] {\n  return input.edges.map(e => {\n    const pathItems = e.node.frontmatter.path\n      .split('/')\n      .filter(t => !!t)\n      .slice(1)\n\n    return {\n      path: e.node.frontmatter.path,\n      pathItems,\n      title: e.node.frontmatter.title,\n      area: pathItems[0],\n      order: e.node.frontmatter.order,\n    }\n  })\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst itemTypeRegistry = new Map();\nconst restrictedPropNames = new Set();\nrestrictedPropNames.add('marktype');\n/**\n * Registers an item type for use in parsing scene-graphs.\n *\n * @param itemType the name of the item type to register\n * @param ctor The item class representing the item type\n */\nfunction registerItemType(ctor) {\n    itemTypeRegistry.set(ctor.ITEM_TYPE, ctor);\n}\nexports.registerItemType = registerItemType;\n/**\n * Creates a new Item-Type instance\n * @param itemType\n */\nfunction createItemType(itemType, props = {}) {\n    if (!itemTypeRegistry.has(itemType)) {\n        throw new Error(`item type ${itemType} not found`);\n    }\n    const ctor = itemTypeRegistry.get(itemType);\n    if (ctor === undefined) {\n        throw new Error(`item type ${itemType} constructor not valid`);\n    }\n    // Create the new instance\n    const instance = new ctor();\n    // Transfer properties over\n    Object.keys(props).forEach(propName => {\n        if (!restrictedPropNames.has(propName)) {\n            ;\n            instance[propName] = props[propName];\n        }\n    });\n    return instance;\n}\nexports.createItemType = createItemType;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction optionalArgument(value, argLength, defaultWithoutArg, defaultWithArg) {\n    return argLength === 0\n        ? defaultWithoutArg\n        : value === undefined\n            ? defaultWithArg\n            : value;\n}\nexports.optionalArgument = optionalArgument;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./interfaces\"));\n__export(require(\"./facade\"));\n","// tslint:disable\nimport * as React from 'react'\nimport {\n  Axis,\n  Chart,\n  Rect,\n  LinearScale,\n  BandScale,\n  Dimension,\n  Text,\n} from '@chart-parts/react'\nimport {\n  AxisOrientation,\n  VerticalTextAlignment,\n  HorizontalAlignment,\n} from '@chart-parts/interfaces'\nimport { Renderer } from '@chart-parts/react-svg-renderer'\n\nconst renderer = new Renderer()\n\nconst data = [\n  { category: 'A', amount: 28 },\n  { category: 'B', amount: 55 },\n  { category: 'C', amount: 43 },\n  { category: 'D', amount: 91 },\n  { category: 'E', amount: 81 },\n  { category: 'F', amount: 53 },\n  { category: 'G', amount: 19 },\n  { category: 'H', amount: 87 },\n]\n\nexport interface BarChartState {\n  hoverRowIndex: number | undefined\n}\n\n/**\n * Adapted from https://vega.github.io/vega/examples/bar-chart/\n */\nexport default class BarChart extends React.Component<{}, BarChartState> {\n  public state: BarChartState = { hoverRowIndex: undefined }\n\n  public render() {\n    const { hoverRowIndex } = this.state\n    return (\n      <Chart\n        width={400}\n        height={200}\n        renderer={renderer}\n        data={{ data }}\n        title=\"Bar Chart\"\n        description=\"An example bar chart\"\n      >\n        <LinearScale\n          name=\"y\"\n          domain=\"data.amount\"\n          range={Dimension.Height}\n          nice\n          zero\n        />\n        <BandScale\n          name=\"x\"\n          bandWidth=\"band\"\n          domain=\"data.category\"\n          padding={0.05}\n          range={Dimension.Width}\n        />\n        <Axis orient={AxisOrientation.Bottom} scale=\"x\" />\n        <Axis orient={AxisOrientation.Left} scale=\"y\" />\n        <Rect\n          table=\"data\"\n          ariaTitle={({ d }) => `Category ${d.category}`}\n          ariaDescription={({ d }) =>\n            `Category ${d.category} value is ${d.amount}`\n          }\n          tabIndex={1}\n          onMouseEnter={({ index }: any) => {\n            if (hoverRowIndex !== index) {\n              this.setState({ hoverRowIndex: index })\n            }\n          }}\n          onMouseLeave={({ index }: any) => {\n            if (hoverRowIndex === index) {\n              this.setState({ hoverRowIndex: undefined })\n            }\n          }}\n          x={({ d, x }: any) => x(d.category)}\n          y={({ d, y }: any) => y(d.amount)}\n          width={({ band }: any) => band()}\n          y2={({ y }: any) => y(0)}\n          fill={({ index }: any) =>\n            hoverRowIndex === index ? 'firebrick' : 'steelblue'\n          }\n        />\n        {hoverRowIndex === undefined ? null : (\n          <Text\n            text={d => d.data[hoverRowIndex].amount}\n            fill=\"black\"\n            x={({ data, x, band }: any) =>\n              x(data[hoverRowIndex].category) + band() / 2\n            }\n            y={({ data, y }: any) => y(data[hoverRowIndex].amount) - 3}\n            baseline={VerticalTextAlignment.Bottom}\n            align={HorizontalAlignment.Center}\n          />\n        )}\n      </Chart>\n    )\n  }\n}\n","// tslint:disable\nimport * as React from 'react'\nimport {\n  Axis,\n  Chart,\n  Rect,\n  LinearScale,\n  BandScale,\n  Dimension,\n  Rule,\n} from '@chart-parts/react'\nimport { AxisOrientation } from '@chart-parts/interfaces'\nimport { Renderer } from '@chart-parts/react-svg-renderer'\nimport { mean } from 'd3-array'\n\nconst renderer = new Renderer()\n\nconst data = [\n  { category: 'A', amount: 28 },\n  { category: 'B', amount: 55 },\n  { category: 'C', amount: 43 },\n  { category: 'D', amount: 91 },\n  { category: 'E', amount: 81 },\n  { category: 'F', amount: 53 },\n  { category: 'G', amount: 19 },\n  { category: 'H', amount: 87 },\n]\nconst dataset = { data }\n\nconst AugmentedBarChart = () => (\n  <BarChart>\n    <Rule\n      x={0}\n      x2={({ view }) => view.width}\n      y={({ y, data }) => y(mean(data, (d: any) => d.amount))}\n      stroke=\"firebrick\"\n    />\n  </BarChart>\n)\n\nexport default AugmentedBarChart\n\nconst BarChart: React.SFC = ({ children }) => (\n  <Chart width={400} height={200} renderer={renderer} data={dataset}>\n    <Scales />\n    <Axes />\n    <Rect\n      table=\"data\"\n      x={({ d, x }) => x(d.category)}\n      y={({ d, y }) => y(d.amount)}\n      width={({ band }) => band()}\n      y2={({ y }) => y(0)}\n      fill={'steelblue'}\n    />\n    {children}\n  </Chart>\n)\n\nconst Scales = () => (\n  <>\n    <LinearScale\n      name=\"y\"\n      domain=\"data.amount\"\n      range={Dimension.Height}\n      nice\n      zero\n    />\n    <BandScale\n      name=\"x\"\n      bandWidth=\"band\"\n      domain=\"data.category\"\n      padding={0.05}\n      range={Dimension.Width}\n    />\n  </>\n)\n\nconst Axes = () => (\n  <>\n    <Axis orient={AxisOrientation.Bottom} scale=\"x\" />\n    <Axis orient={AxisOrientation.Left} scale=\"y\" />\n  </>\n)\n","// tslint:disable\nimport * as React from 'react'\nimport {\n  HorizontalAlignment,\n  VerticalTextAlignment,\n} from '@chart-parts/interfaces'\nimport {\n  Chart,\n  LinearScale,\n  BandScale,\n  Dimension,\n  OrdinalScale,\n  CategoricalColorScheme,\n  Group,\n  Rect,\n  Text,\n} from '@chart-parts/react'\nimport { Renderer } from '@chart-parts/react-svg-renderer'\nconst renderer = new Renderer()\n\nconst data = [\n  { category: 'A', position: 0, value: 0.1 },\n  { category: 'A', position: 1, value: 0.6 },\n  { category: 'A', position: 2, value: 0.9 },\n  { category: 'A', position: 3, value: 0.4 },\n  { category: 'B', position: 0, value: 0.7 },\n  { category: 'B', position: 1, value: 0.2 },\n  { category: 'B', position: 2, value: 1.1 },\n  { category: 'B', position: 3, value: 0.8 },\n  { category: 'C', position: 0, value: 0.6 },\n  { category: 'C', position: 1, value: 0.1 },\n  { category: 'C', position: 2, value: 0.2 },\n  { category: 'C', position: 3, value: 0.7 },\n]\n\n/**\n * Adapted from https://vega.github.io/vega/examples/grouped-bar-chart/q\n */\nexport default class GroupedBarChart extends React.Component<{}> {\n  public render() {\n    return (\n      <Chart\n        width={300}\n        height={240}\n        padding={5}\n        data={{ data }}\n        renderer={renderer}\n      >\n        <BandScale\n          name=\"y\"\n          bandWidth=\"categoryHeight\"\n          range={Dimension.Height}\n          domain=\"data.category\"\n          padding={0.2}\n        />\n        <LinearScale\n          name=\"x\"\n          range={Dimension.Width}\n          domain=\"data.value\"\n          nice\n          zero\n        />\n        <OrdinalScale\n          name=\"color\"\n          domain=\"data.position\"\n          colorScheme={CategoricalColorScheme.category20}\n        />\n        <Group\n          name=\"chartgroup\"\n          table=\"data\"\n          facet={{ name: 'facet', groupBy: 'category' }}\n          height={({ categoryHeight }: any) => categoryHeight()}\n          y2={({ d, y }: any) => y(d.category)}\n        >\n          <BandScale\n            name=\"pos\"\n            bandWidth=\"rowHeight\"\n            range={Dimension.Height}\n            domain=\"facet.position\"\n          />\n          <Rect\n            name=\"bars\"\n            table=\"facet\"\n            x={({ d, x }) => x(d.value)}\n            y={({ d, pos }) => pos(d.position)}\n            x2={({ x }) => x(0)}\n            fill={({ d, color }) => color(d.position)}\n            height={({ rowHeight }) => rowHeight()}\n          />\n          <Text\n            table=\"facet\"\n            x={({ d, x }) => x(d.value) - 3}\n            y={({ d, pos, rowHeight }) => pos(d.position) + rowHeight() * 0.5}\n            fill=\"white\"\n            align={HorizontalAlignment.Right}\n            baseline={VerticalTextAlignment.Middle}\n            text={({ d }) => d.value}\n          />\n        </Group>\n      </Chart>\n    )\n  }\n}\n","// tslint:disable\nimport * as React from 'react'\nimport {\n  Chart,\n  Rect,\n  LinearScale,\n  Axis,\n  BandScale,\n  Dimension,\n  OrdinalScale,\n  CategoricalColorScheme,\n} from '@chart-parts/react'\nimport { Renderer } from '@chart-parts/react-svg-renderer'\nimport { stack, dataset } from '@chart-parts/transform'\nimport { AxisOrientation } from '@chart-parts/interfaces'\n\nconst renderer = new Renderer()\nconst dataArray = [\n  { x: 0, y: 28, c: 0 },\n  { x: 0, y: 55, c: 1 },\n  { x: 1, y: 43, c: 0 },\n  { x: 1, y: 91, c: 1 },\n  { x: 2, y: 81, c: 0 },\n  { x: 2, y: 53, c: 1 },\n  { x: 3, y: 19, c: 0 },\n  { x: 3, y: 87, c: 1 },\n  { x: 4, y: 52, c: 0 },\n  { x: 4, y: 48, c: 1 },\n  { x: 5, y: 24, c: 0 },\n  { x: 5, y: 49, c: 1 },\n  { x: 6, y: 87, c: 0 },\n  { x: 6, y: 66, c: 1 },\n  { x: 7, y: 17, c: 0 },\n  { x: 7, y: 27, c: 1 },\n  { x: 8, y: 68, c: 0 },\n  { x: 8, y: 16, c: 1 },\n  { x: 9, y: 49, c: 0 },\n  { x: 9, y: 15, c: 1 },\n]\nconst ds = dataset().addTable(\n  'data',\n  dataArray,\n  stack('y')\n    .groupBy('x')\n    .sort({ field: 'c' })\n)\n\nexport interface StackedBarChartState {\n  hoverRowIndex?: number\n}\n\n/**\n * Adapted from https://vega.github.io/vega/examples/stacked-bar-chart/\n */\nexport default class StackedBarChart extends React.Component<\n  {},\n  StackedBarChartState\n> {\n  public state: StackedBarChartState = {}\n\n  public render() {\n    return (\n      <Chart\n        width={500}\n        height={200}\n        data={{ data: ds.getTable('data') as any[] }}\n        renderer={renderer}\n      >\n        {/* Scale Definitions */}\n        <BandScale\n          name=\"x\"\n          bandWidth=\"width\"\n          range={Dimension.Width}\n          domain=\"data.x\"\n        />\n        <LinearScale\n          name=\"y\"\n          range={Dimension.Height}\n          domain=\"data.y1\"\n          nice\n          zero\n        />\n        <OrdinalScale\n          name=\"color\"\n          domain=\"data.c\"\n          colorScheme={CategoricalColorScheme.category10}\n        />\n\n        {/* Axes */}\n        <Axis orient={AxisOrientation.Bottom} scale=\"x\" thickness={20} />\n        <Axis orient={AxisOrientation.Left} scale=\"y\" thickness={30} />\n\n        {/* Marks */}\n        <Rect\n          onMouseEnter={({ index }: any) => {\n            if (this.state.hoverRowIndex !== index) {\n              this.setState({ hoverRowIndex: index })\n            }\n          }}\n          onMouseLeave={({ index }: any) => {\n            if (this.state.hoverRowIndex === index) {\n              this.setState({ hoverRowIndex: undefined })\n            }\n          }}\n          table=\"data\"\n          x={({ d, x }) => x(d.x)}\n          width={({ width }) => width() - 1}\n          y={({ d, y }) => y(d.y0)}\n          y2={({ d, y }) => y(d.y1)}\n          fill={({ d, color }) => color(d.c)}\n          fillOpacity={({ index }) =>\n            this.state.hoverRowIndex === index ? 0.5 : 1\n          }\n        />\n      </Chart>\n    )\n  }\n}\n","// tslint:disable\nimport * as React from 'react'\nimport {\n  Axis,\n  Chart,\n  Line,\n  LinearScale,\n  PointScale,\n  Group,\n  OrdinalScale,\n  Dimension,\n  CategoricalColorScheme,\n} from '@chart-parts/react'\nimport { AxisOrientation } from '@chart-parts/interfaces'\nimport { Renderer } from '@chart-parts/react-svg-renderer'\n\nconst renderer = new Renderer()\n\nconst data = [\n  { x: 0, y: 28, c: 0 },\n  { x: 0, y: 20, c: 1 },\n  { x: 1, y: 43, c: 0 },\n  { x: 1, y: 35, c: 1 },\n  { x: 2, y: 81, c: 0 },\n  { x: 2, y: 10, c: 1 },\n  { x: 3, y: 19, c: 0 },\n  { x: 3, y: 15, c: 1 },\n  { x: 4, y: 52, c: 0 },\n  { x: 4, y: 48, c: 1 },\n  { x: 5, y: 24, c: 0 },\n  { x: 5, y: 28, c: 1 },\n  { x: 6, y: 87, c: 0 },\n  { x: 6, y: 66, c: 1 },\n  { x: 7, y: 17, c: 0 },\n  { x: 7, y: 27, c: 1 },\n  { x: 8, y: 68, c: 0 },\n  { x: 8, y: 16, c: 1 },\n  { x: 9, y: 49, c: 0 },\n  { x: 9, y: 25, c: 1 },\n]\n\n/**\n * Adapted from https://vega.github.io/vega/examples/bar-chart/\n */\nexport default class LineChart extends React.Component {\n  public render() {\n    return (\n      <Chart\n        width={500}\n        height={200}\n        padding={5}\n        renderer={renderer}\n        data={{ data }}\n      >\n        <PointScale\n          name=\"x\"\n          stepName=\"xStep\"\n          domain=\"data.x\"\n          range={Dimension.Width}\n        />\n        <LinearScale\n          name=\"y\"\n          domain=\"data.y\"\n          range={Dimension.Height}\n          nice\n          zero\n        />\n        <OrdinalScale\n          name=\"color\"\n          domain=\"data.c\"\n          colorScheme={CategoricalColorScheme.category10}\n        />\n        <Axis orient={AxisOrientation.Bottom} scale=\"x\" />\n        <Axis orient={AxisOrientation.Left} scale=\"y\" />\n\n        <Group table=\"data\" facet={{ groupBy: 'c', name: 'facetedData' }}>\n          <Line\n            table=\"facetedData\"\n            x={({ d, x }) => x(d.x)}\n            y={({ d, y }) => y(d.y)}\n            stroke={({ d, color }) => color(d.c)}\n            strokeWidth={2}\n          />\n        </Group>\n      </Chart>\n    )\n  }\n}\n","// tslint:disable\nimport * as React from 'react'\nimport { Area, Axis, Chart, LinearScale, Dimension } from '@chart-parts/react'\nimport { AxisOrientation, Interpolation } from '@chart-parts/interfaces'\nimport { Renderer } from '@chart-parts/react-svg-renderer'\n\nconst renderer = new Renderer()\n\nconst data = [\n  { u: 1, v: 28 },\n  { u: 2, v: 55 },\n  { u: 3, v: 43 },\n  { u: 4, v: 91 },\n  { u: 5, v: 81 },\n  { u: 6, v: 53 },\n  { u: 7, v: 19 },\n  { u: 8, v: 87 },\n  { u: 9, v: 52 },\n  { u: 10, v: 48 },\n  { u: 11, v: 24 },\n  { u: 12, v: 49 },\n  { u: 13, v: 87 },\n  { u: 14, v: 66 },\n  { u: 15, v: 17 },\n  { u: 16, v: 27 },\n  { u: 17, v: 68 },\n  { u: 18, v: 16 },\n  { u: 19, v: 49 },\n  { u: 20, v: 15 },\n]\n\n/**\n * Adapted from https://vega.github.io/vega/examples/bar-chart/\n */\nexport default class AreaChart extends React.Component {\n  public render() {\n    return (\n      <Chart\n        width={500}\n        height={200}\n        padding={8}\n        renderer={renderer}\n        data={{ data }}\n      >\n        <LinearScale\n          name=\"x\"\n          domain=\"data.u\"\n          range={Dimension.Width}\n          zero={false}\n        />\n        <LinearScale\n          name=\"y\"\n          domain=\"data.v\"\n          range={Dimension.Height}\n          nice\n          zero\n        />\n\n        <Axis orient={AxisOrientation.Bottom} scale=\"x\" tickCount={20} />\n        <Axis orient={AxisOrientation.Left} scale=\"y\" />\n\n        <Area\n          table=\"data\"\n          x={({ d, x }: any) => x(d.u)}\n          y={({ d, y }: any) => y(d.v)}\n          y2={({ y }: any) => y(0)}\n          fill=\"steelblue\"\n          interpolate={Interpolation.Monotone}\n        />\n      </Chart>\n    )\n  }\n}\n","// tslint:disable\nimport * as React from 'react'\nimport {\n  Area,\n  Axis,\n  Chart,\n  Group,\n  LinearScale,\n  PointScale,\n  OrdinalScale,\n  Dimension,\n  CategoricalColorScheme,\n} from '@chart-parts/react'\nimport { AxisOrientation, Interpolation } from '@chart-parts/interfaces'\nimport { Renderer } from '@chart-parts/react-svg-renderer'\nimport { stack, dataset } from '@chart-parts/transform'\n\nconst renderer = new Renderer()\n\nconst data = [\n  { x: 0, y: 28, c: 0 },\n  { x: 0, y: 55, c: 1 },\n  { x: 1, y: 43, c: 0 },\n  { x: 1, y: 91, c: 1 },\n  { x: 2, y: 81, c: 0 },\n  { x: 2, y: 53, c: 1 },\n  { x: 3, y: 19, c: 0 },\n  { x: 3, y: 87, c: 1 },\n  { x: 4, y: 52, c: 0 },\n  { x: 4, y: 48, c: 1 },\n  { x: 5, y: 24, c: 0 },\n  { x: 5, y: 49, c: 1 },\n  { x: 6, y: 87, c: 0 },\n  { x: 6, y: 66, c: 1 },\n  { x: 7, y: 17, c: 0 },\n  { x: 7, y: 27, c: 1 },\n  { x: 8, y: 68, c: 0 },\n  { x: 8, y: 16, c: 1 },\n  { x: 9, y: 49, c: 0 },\n  { x: 9, y: 15, c: 1 },\n]\n\nconst ds = dataset().addTable(\n  'data',\n  data,\n  stack('y')\n    .groupBy('x')\n    .sort({ field: 'c' })\n)\n\nexport default class StackedAreaChart extends React.Component {\n  public render() {\n    return (\n      <Chart\n        width={500}\n        height={200}\n        padding={8}\n        renderer={renderer}\n        data={ds.tables}\n      >\n        <PointScale name=\"x\" domain=\"data.x\" range={Dimension.Width} />\n        <LinearScale\n          name=\"y\"\n          domain=\"data.y1\"\n          range={Dimension.Height}\n          nice\n          zero\n        />\n        <OrdinalScale\n          name=\"color\"\n          domain=\"data.c\"\n          colorScheme={CategoricalColorScheme.category10}\n        />\n\n        <Axis orient={AxisOrientation.Bottom} scale=\"x\" />\n        <Axis orient={AxisOrientation.Left} scale=\"y\" />\n\n        <Group table=\"data\" facet={{ groupBy: 'c', name: 'faceted' }}>\n          <Area\n            table=\"faceted\"\n            x={({ d, x }) => x(d.x)}\n            y={({ d, y }) => y(d.y0)}\n            y2={({ d, y }) => y(d.y1)}\n            fill={({ d, color }) => color(d.c)}\n            interpolate={Interpolation.Monotone}\n          />\n        </Group>\n      </Chart>\n    )\n  }\n}\n","/**\n * Adapted from https://vega.github.io/vega/examples/population-pyramid/\n */\ndeclare var require: any\n\n// tslint:disable\nimport * as React from 'react'\nimport { dataset, filter, aggregate } from '@chart-parts/transform'\nimport {\n  Axis,\n  Group,\n  Chart,\n  BandScale,\n  Text,\n  Rect,\n  OrdinalScale,\n  LinearScale,\n} from '@chart-parts/react'\nimport {\n  VerticalTextAlignment,\n  HorizontalAlignment,\n  AxisOrientation,\n  ScaleCreationContext,\n} from '@chart-parts/interfaces'\nimport { Renderer } from '@chart-parts/react-svg-renderer'\n\nconst population = require('vega-datasets/data/population.json')\nconst renderer = new Renderer()\n\nconst chartWidth = 600\nconst chartHeight = 500\nconst textLineWidth = 18\nconst AXIS_THICKNESS = 25\nconst chartPadding = 10\nconst chartSegmentWidth = (chartWidth - chartPadding * 2 - textLineWidth) / 2\n\nexport interface PopulationPyramidState {\n  year: number\n}\nexport default class PopulationPyramid extends React.Component<\n  {},\n  PopulationPyramidState\n> {\n  public state: PopulationPyramidState = { year: 2000 }\n  public render() {\n    const { year } = this.state\n    const ds = dataset()\n      .addTable('population', population)\n      .addDerivedTable(\n        'popYear',\n        'population',\n        filter((d: any) => d.year === year)\n      )\n      .addDerivedTable('males', 'popYear', filter((d: any) => d.sex === 1))\n      .addDerivedTable('females', 'popYear', filter((d: any) => d.sex === 2))\n      .addDerivedTable('ageGroups', 'population', aggregate().groupBy('age'))\n\n    return (\n      <div>\n        <PyramidChart data={ds.tables} />\n        <YearPicker year={year} onChange={this.handleYearChanged} />\n      </div>\n    )\n  }\n\n  private handleYearChanged = (arg: React.ChangeEvent<any>) => {\n    const year = parseInt(arg.target.value, 10)\n    this.setState({ year })\n  }\n}\n\ninterface YearPickerProps {\n  year: number\n  onChange: (arg: React.ChangeEvent<HTMLInputElement>) => void\n}\nconst YearPicker: React.SFC<YearPickerProps> = ({ year, onChange }) => (\n  <div style={{ margin: 10, display: 'flex', alignItems: 'center' }}>\n    <input\n      type=\"range\"\n      min=\"1850\"\n      max=\"2000\"\n      step=\"10\"\n      value={year}\n      onChange={onChange}\n    />\n    <p>{year}</p>\n  </div>\n)\n\ninterface PyramidChartProps {\n  data: { [key: string]: any[] }\n}\nconst PyramidChart: React.SFC<PyramidChartProps> = ({ data }) => (\n  <Chart\n    width={chartWidth}\n    height={chartHeight}\n    padding={chartPadding}\n    renderer={renderer}\n    data={data}\n  >\n    <ChartScales />\n    <AgeLabels />\n    <MPerYear />\n    <FPerYear />\n  </Chart>\n)\n\nconst ChartScales: React.SFC = () => (\n  <>\n    <BandScale\n      name=\"y\"\n      bandWidth=\"yband\"\n      range={(arg: ScaleCreationContext) => [\n        arg.view.height - AXIS_THICKNESS,\n        0,\n      ]}\n      domain=\"ageGroups.age\"\n      padding={0.1}\n      round\n    />\n    <OrdinalScale name=\"c\" domain={['1', '2']} range={['#1f77b4', '#e377c2']} />\n  </>\n)\n\nconst AgeLabels: React.SFC = () => (\n  <Text\n    table=\"ageGroups\"\n    x={chartSegmentWidth + textLineWidth / 2}\n    y={({ d, y, yband }) => y(d.age) + yband() / 2}\n    text={({ d }) => d.age}\n    baseline={VerticalTextAlignment.Middle}\n    align={HorizontalAlignment.Center}\n    fill=\"#000\"\n  />\n)\n\nconst FPerYear: React.SFC = () => (\n  <GenderPerYearSection\n    xStart={0}\n    table=\"females\"\n    xRange={[chartSegmentWidth, 0]}\n  />\n)\n\nconst MPerYear: React.SFC = () => (\n  <GenderPerYearSection\n    table=\"males\"\n    xStart={chartSegmentWidth + textLineWidth}\n    xRange={[0, chartSegmentWidth]}\n  />\n)\n\ninterface GenderPerYearSectionProps {\n  table: string\n  xRange: [number, number]\n  xStart: number\n}\nconst GenderPerYearSection: React.SFC<GenderPerYearSectionProps> = ({\n  table,\n  xRange,\n  xStart,\n}) => (\n  <Group\n    x={xStart}\n    height={({ view }) => view.height}\n    width={chartSegmentWidth}\n  >\n    <LinearScale domain=\"population.people\" range={xRange} name=\"x\" nice zero />\n    <Axis\n      orient={AxisOrientation.Bottom}\n      scale=\"x\"\n      labelFormat=\"~s\"\n      thickness={AXIS_THICKNESS}\n    />\n    <GenderPerYearRect table={table} />\n  </Group>\n)\n\ninterface GenderPerYearRectProps {\n  table: string\n}\n\nconst GenderPerYearRect: React.SFC<GenderPerYearRectProps> = ({ table }) => (\n  <Rect\n    table={table}\n    x={({ d, x }) => x(d.people)}\n    x2={({ x }) => x(0)}\n    y={({ d, y }) => y(d.age)}\n    height={({ yband }) => yband()}\n    fillOpacity={0.6}\n    fill={({ d, c }) => c(d.sex)}\n  />\n)\n","// tslint:disable\nimport * as React from 'react'\nimport {\n  Area,\n  Group,\n  Chart,\n  LinearScale,\n  OrdinalScale,\n  SqrtScale,\n  Axis,\n  Text,\n  QuantizeScale,\n  QuantileScale,\n} from '@chart-parts/react'\nimport {\n  Dimension,\n  AxisOrientation,\n  VerticalTextAlignment,\n  HorizontalAlignment,\n} from '@chart-parts/interfaces'\nimport {\n  dataset,\n  stack,\n  CompareOrder,\n  aggregate,\n  AggregateOperation,\n  Offset as StackOffset,\n  filter,\n} from '@chart-parts/transform'\nimport { Renderer } from '@chart-parts/react-svg-renderer'\n\n// TODO:\n// - Axis grid\n// - prevent recomputes of scales to improve perf\n\nconst renderer = new Renderer()\nconst source = require('vega-datasets/data/jobs.json')\nconst genderOptions = ['all', 'women', 'men']\n\nexport interface JobVoyagerState {\n  gender: string\n  selectedAreaId?: string\n  query?: string\n}\n\nexport default class JobVoyager extends React.Component<{}, JobVoyagerState> {\n  public state: JobVoyagerState = { gender: 'all' }\n\n  public render() {\n    const { gender, selectedAreaId, query } = this.state\n    const queryRegExp = query && new RegExp(query)\n\n    const ds = dataset()\n      .addTable(\n        'jobs',\n        source,\n        filter(\n          (d: any) =>\n            (gender === 'all' || d.sex === gender) &&\n            (!queryRegExp || queryRegExp.test(d.job))\n        ),\n        stack('perc')\n          .groupBy('year')\n          .offset(StackOffset.zero)\n          .sort(\n            {\n              field: 'job',\n              order: CompareOrder.descending,\n            },\n            {\n              field: 'sex',\n              order: CompareOrder.descending,\n            }\n          )\n      )\n      .addDerivedTable(\n        'series',\n        'jobs',\n        aggregate()\n          .groupBy('job', 'sex')\n          .compute(\n            { op: AggregateOperation.sum, field: 'perc', as: 'sum' },\n            { op: AggregateOperation.argmax, field: 'perc', as: 'argmax' }\n          )\n      )\n\n    return (\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\n        <JobVoyagerChart\n          data={ds.tables}\n          selectedAreaId={selectedAreaId}\n          onEnterArea={this.onEnterArea}\n          onClickArea={this.onClickArea}\n        />\n        <div>\n          <div>\n            {genderOptions.map(g => [\n              <input\n                id={`gender-option-${g}`}\n                key={`input:${g}`}\n                type=\"radio\"\n                style={{ margin: 4 }}\n                checked={gender === g}\n                value={g}\n                onChange={this.changeGenderSelection}\n              />,\n              <label key={`label:${g}`} style={{ margin: 4 }}>\n                {g}\n              </label>,\n            ])}\n            <input type=\"text\" value={query} onChange={this.onQueryChange} />\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  private onQueryChange = (e: React.ChangeEvent<HTMLInputElement>) =>\n    this.setState({ ...this.state, query: e.target.value })\n\n  private changeGenderSelection = (e: React.ChangeEvent<HTMLInputElement>) =>\n    this.setState({ ...this.state, gender: e.target.value })\n\n  private onEnterArea = (id: string) =>\n    this.setState({ ...this.state, selectedAreaId: id })\n\n  private onClickArea = (job: string) =>\n    this.setState({ ...this.state, query: job })\n}\n\ninterface JobVoyagerChartProps {\n  data: any\n  selectedAreaId?: string\n  onEnterArea: (id: string) => any\n  onClickArea: (job: string) => any\n}\nconst JobVoyagerChart: React.SFC<JobVoyagerChartProps> = ({\n  data,\n  selectedAreaId,\n  onEnterArea,\n  onClickArea,\n}) => (\n  <Chart width={850} height={550} padding={10} renderer={renderer} data={data}>\n    <Scales />\n    <Axes />\n\n    <Group\n      table=\"series\"\n      facet={{\n        groupBy: ['job', 'sex'],\n        keyRowName: 'agg',\n        table: 'jobs',\n        name: 'facet',\n      }}\n    >\n      <Area\n        table=\"facet\"\n        x={({ d, x }) => x(d.year)}\n        y={({ d, y }) => y(d.y0)}\n        y2={({ d, y }) => y(d.y1)}\n        fill={({ d, color }) => color(d.sex)}\n        fillOpacity={({ d, agg, id, alpha }) =>\n          id === selectedAreaId ? 0.2 : alpha(agg.sum)\n        }\n        metadata={({ d: { job } }) => ({ job })}\n        onMouseOver={({ id }) => onEnterArea(id)}\n        onClick={({ job }) => onClickArea(job)}\n      />\n    </Group>\n    <Text\n      table=\"series\"\n      x={({ d, x }) => x(d.argmax.year)}\n      dx={({ d, offset }) => offset(d.argmax.year)}\n      y={({ d, y }) => y(0.5 * (d.argmax.y0 + d.argmax.y1))}\n      fill=\"#000\"\n      fillOpacity={({ d, opacity }) => opacity(d.argmax.perc)}\n      fontSize={({ d, font }) => font(d.argmax.perc)}\n      text={({ d }) => d.job}\n      align={({ d, align }) => align(d.argmax.year)}\n      baseline={VerticalTextAlignment.Middle}\n    />\n  </Chart>\n)\n\nconst Axes: React.SFC = () => (\n  <>\n    <Axis\n      orient={AxisOrientation.Bottom}\n      scale=\"x\"\n      labelFormat=\"d\"\n      tickCount={15}\n      domain={false}\n    />\n    <Axis\n      orient={AxisOrientation.Right}\n      scale=\"y\"\n      labelFormat=\"~%\"\n      domain={false}\n      tickSize={12}\n    />\n  </>\n)\n\nconst Scales: React.SFC = () => (\n  <>\n    <LinearScale\n      name=\"x\"\n      domain=\"jobs.year\"\n      range={Dimension.Width}\n      zero={false}\n      round\n    />\n    <LinearScale\n      name=\"y\"\n      domain=\"jobs.y1\"\n      range={Dimension.Height}\n      zero\n      round\n    />\n    <OrdinalScale\n      name=\"color\"\n      domain={['men', 'women']}\n      range={['#33f', '#f33']}\n    />\n    <LinearScale name=\"alpha\" zero domain=\"series.sum\" range={[0.4, 0.8]} />\n    <SqrtScale\n      name=\"font\"\n      domain=\"series.argmax.perc\"\n      range={[0, 22]}\n      zero\n      round\n    />\n    <QuantizeScale\n      name=\"align\"\n      domain=\"series.argmax.year\"\n      range={[\n        HorizontalAlignment.Left,\n        HorizontalAlignment.Center,\n        HorizontalAlignment.Right,\n      ]}\n    />\n    <QuantizeScale\n      name=\"offset\"\n      domain={[1730, 2130]}\n      range={[6, 0, -6]}\n      zero={false}\n    />\n    <QuantileScale\n      name=\"opacity\"\n      domain=\"series.argmax.perc\"\n      range={[[0, 0, 0, 0, 0, 0.1, 0.2, 0.4, 0.7, 1.0]]}\n    />\n  </>\n)\n","import BarChart from './bar-chart'\nimport BarChartWithMean from './bar-chart-with-mean'\nimport GroupedBarChart from './grouped-bar-chart'\nimport StackedBarChart from './stacked-bar-chart'\nimport LineChart from './line-chart'\nimport AreaChart from './area-chart'\nimport StackedAreaChart from './stacked-area-chart'\nimport PoulationPyramid from './population-pyramid'\nimport JobVoyager from './job-voyager'\n\nexport default {\n  // Bar Charts\n  'bar-chart': BarChart,\n  'grouped-bar-chart': GroupedBarChart,\n  'stacked-bar-chart': StackedBarChart,\n  'bar-chart-with-mean': BarChartWithMean,\n\n  // Line & Area Charts\n  'line-chart': LineChart,\n  'area-chart': AreaChart,\n  'stacked-area-chart': StackedAreaChart,\n  'population-pyramid': PoulationPyramid,\n  'job-voyager': JobVoyager,\n}\n","import * as React from 'react'\nimport { Orchestrator } from '@chart-parts/orchestrator'\nimport { Renderer } from '@chart-parts/react-svg-renderer'\n\nconst pipeline = new Orchestrator(new Renderer())\nexport interface SGChartProps {\n  data: any\n  width?: number\n  height?: number\n  origin?: [number, number]\n}\nexport const SGChart: React.SFC<SGChartProps> = ({\n  data,\n  width = 200,\n  height = 200,\n  origin = [0, 0] as [number, number],\n}) => pipeline.renderScenegraph(data, { width, height, origin })\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport { nameColumnWidth } from './constants'\n\nconst Container = styled.div`\n  display: flex;\n`\nconst NameColumn = styled.div`\n  width: ${nameColumnWidth}px;\n`\nconst InputColumn = styled.input`\n  flex: 2;\n`\n\nexport interface SliderProps {\n  name: string\n  min?: number\n  max?: number\n  value?: number\n  step?: number\n  onChange?: (value: number | string) => void\n}\n\nexport const Slider: React.SFC<SliderProps> = ({\n  name,\n  min = 0,\n  max = 200,\n  value = 0,\n  step = 1,\n  onChange = (v: any) => null,\n}) => {\n  const handleChange = (evt: any) => onChange(evt.target.value)\n  return (\n    <Container>\n      <NameColumn>{name}</NameColumn>\n      <InputColumn\n        type=\"range\"\n        name={name}\n        value={value}\n        min={min}\n        max={max}\n        step={step}\n        onChange={handleChange}\n      />\n      <div>{value}</div>\n    </Container>\n  )\n}\n","export const nameColumnWidth = 120\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport { nameColumnWidth } from './constants'\n\nconst Container = styled.div`\n  display: flex;\n`\nconst NameColumn = styled.div`\n  width: ${nameColumnWidth}px;\n`\nconst InputColumn = styled.div`\n  flex: 2;\n`\n\nexport interface DropdownProps {\n  name: string\n  value: string\n  options: string[]\n  onChange: (v: string) => void\n}\nexport const Dropdown: React.SFC<DropdownProps> = ({\n  name,\n  value,\n  options,\n  onChange = (v: any) => null,\n}) => {\n  const handleChange = (evt: any) => onChange(evt.target.value)\n  const optionDom = options.map(o => (\n    <option key={o} value={o}>\n      {o}\n    </option>\n  ))\n  return (\n    <Container>\n      <NameColumn>{name}</NameColumn>\n      <InputColumn>\n        <select name={name} onChange={handleChange} value={value}>\n          {optionDom}\n        </select>\n      </InputColumn>\n    </Container>\n  )\n}\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport { nameColumnWidth } from './constants'\n\nconst Container = styled.div`\n  display: flex;\n`\nconst NameColumn = styled.div`\n  width: ${nameColumnWidth}px;\n`\nconst InputColumn = styled.input`\n  flex: 2;\n`\n\nexport interface ToggleProps {\n  name: string\n  value?: boolean\n  onChange?: (value: boolean) => void\n}\n\nexport const Toggle: React.SFC<ToggleProps> = ({\n  name,\n  value,\n  onChange = (v: any) => null,\n}) => {\n  const handleChange = (evt: any) => onChange(evt.target.checked)\n  return (\n    <Container>\n      <NameColumn>{name}</NameColumn>\n      <InputColumn\n        type=\"checkbox\"\n        name={name}\n        checked={value}\n        onChange={handleChange}\n      />\n      <div>{value}</div>\n    </Container>\n  )\n}\n","// tslint:disable jsx-no-lambda jsx-no-lambda-props react-component-classes-should-implement-scu\nimport * as React from 'react'\nimport styled from 'styled-components'\nimport { SGChart } from './chart'\nimport { Slider } from './slider'\nimport { Dropdown } from './dropdown'\nimport { Toggle } from './toggle'\n\nexport interface SingleMarkTesterState {\n  scenegraph: any\n}\n\nexport interface SliderSpec {\n  name: string\n  min?: number\n  max?: number\n  step?: number\n}\n\nexport interface DropdownSpec {\n  name: string\n  options: string[]\n}\n\nexport interface ToggleSpec {\n  name: string\n}\n\nexport interface SingleMarkTesterProps {\n  initialScenegraph: any\n  sliders?: SliderSpec[]\n  dropdowns?: DropdownSpec[]\n  toggles?: ToggleSpec[]\n  chartWidth?: number\n  chartHeight?: number\n  chartOrigin?: [number, number]\n  updateScenegraph?: (update?: any, scenegraph?: any) => any\n  getParam?: (name: string, scenegraph: any) => any\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 600px;\n`\nconst ChartContainer = styled.div`\n  border: 1px solid grey;\n  margin-right: 25px;\n`\nconst ControlsContainer = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`\n\nexport class SingleMarkTester extends React.Component<\n  SingleMarkTesterProps,\n  SingleMarkTesterState\n> {\n  constructor(props: SingleMarkTesterProps) {\n    super(props)\n    this.state = { scenegraph: props.initialScenegraph }\n  }\n\n  public render() {\n    const {\n      sliders = [],\n      dropdowns = [],\n      toggles = [],\n      chartWidth,\n      chartHeight,\n      chartOrigin,\n    } = this.props\n    const sliderElements = sliders.map(({ name, min, max, step }) => (\n      <Slider\n        key={name}\n        name={name}\n        min={min}\n        max={max}\n        step={step}\n        value={this.getParam(name)}\n        onChange={v =>\n          this.setParam({ [name]: typeof v === 'string' ? parseFloat(v) : v })\n        }\n      />\n    ))\n    const dropdownElements = dropdowns.map(({ name, options }) => (\n      <Dropdown\n        key={name}\n        name={name}\n        options={options}\n        value={this.getParam(name)}\n        onChange={v => this.setParam({ [name]: v }) as any}\n      />\n    ))\n    const toggleElements = toggles.map(({ name }) => (\n      <Toggle\n        key={name}\n        name={name}\n        value={this.getParam(name)}\n        onChange={v => this.setParam({ [name]: v })}\n      />\n    ))\n    return (\n      <Container>\n        <ChartContainer>\n          <SGChart\n            data={this.state.scenegraph}\n            width={chartWidth}\n            height={chartHeight}\n            origin={chartOrigin}\n          />\n        </ChartContainer>\n        <ControlsContainer>\n          {toggleElements}\n          {sliderElements}\n          {dropdownElements}\n        </ControlsContainer>\n      </Container>\n    )\n  }\n\n  private getParam(name: string) {\n    return this.props.getParam\n      ? this.props.getParam(name, this.state.scenegraph)\n      : this.state.scenegraph.items[0][name]\n  }\n\n  private setParam(update: any) {\n    const scenegraph = this.updateScenegraph(update, this.state.scenegraph)\n    this.setState({ ...this.state, scenegraph })\n  }\n\n  private updateScenegraph(update: any, scenegraph: any) {\n    if (this.props.updateScenegraph) {\n      return this.props.updateScenegraph(update, scenegraph)\n    } else {\n      return {\n        ...scenegraph,\n        items: [\n          {\n            ...scenegraph.items[0],\n            ...update,\n          },\n        ],\n      }\n    }\n  }\n}\n","// Go Cougs\nexport const CRIMSON = '#981e32'\nexport const GREY = '#8d959a'\n","import * as React from 'react'\nimport { SingleMarkTester } from './util/single-mark-tester'\nimport * as palette from './util/palette'\n\nconst BASE_ITEM = {\n  stroke: palette.CRIMSON,\n  fill: palette.GREY,\n}\n\nconst ArcTester: React.SFC = () => (\n  <SingleMarkTester\n    initialScenegraph={{\n      marktype: 'arc',\n      items: [\n        {\n          ...BASE_ITEM,\n          startAngle: -0.73,\n          endAngle: 0.73,\n          padAngle: 0,\n          innerRadius: 0,\n          outerRadius: 50,\n          strokeWidth: 4,\n          x: 100,\n          y: 100,\n        },\n      ],\n    }}\n    sliders={[\n      { name: 'x' },\n      { name: 'y' },\n      { name: 'startAngle', min: -6.28, max: 6.28, step: 0.1 },\n      { name: 'endAngle', min: -6.28, max: 6.28, step: 0.1 },\n      { name: 'padAngle', min: -6.28, max: 6.28, step: 0.1 },\n      { name: 'innerRadius', max: 100 },\n      { name: 'outerRadius', max: 100 },\n      { name: 'strokeWidth', max: 10 },\n    ]}\n  />\n)\n\nexport default ArcTester\n","// tslint:disable jsx-no-lambda\nimport * as React from 'react'\nimport { Orientation } from '@chart-parts/interfaces'\nimport { SingleMarkTester } from './util/single-mark-tester'\nimport * as palette from './util/palette'\n\nconst BASE_ITEM = {\n  stroke: palette.CRIMSON,\n  fill: palette.GREY,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n  strokeWidth: 2,\n  tension: 0,\n  orient: Orientation.Horizontal,\n\n  // Base x2 value\n  x2: 0,\n}\n\nconst chartHeight = 250\nconst interval = chartHeight / 4\n\nconst AreaTesterHorizontal: React.SFC = () => (\n  <SingleMarkTester\n    chartWidth={420}\n    chartHeight={chartHeight}\n    chartOrigin={[10, 0]}\n    initialScenegraph={{\n      marktype: 'area',\n      items: [\n        {\n          y: interval * 0,\n          x: 98.18,\n          ...BASE_ITEM,\n        },\n        {\n          y: interval,\n          x: 20,\n          ...BASE_ITEM,\n        },\n        {\n          y: interval * 2,\n          x: 47.27,\n          ...BASE_ITEM,\n        },\n        {\n          y: interval * 3,\n          x: 76.36,\n          ...BASE_ITEM,\n        },\n        {\n          y: interval * 4,\n          x: 25.4545,\n          ...BASE_ITEM,\n        },\n      ],\n    }}\n    sliders={[\n      { name: 'x2', min: 0, max: 400 },\n      { name: 'tension', min: 0, max: 1, step: 0.1 },\n      { name: 'strokeWidth', max: 10 },\n      { name: 'strokeOpacity', max: 1, min: 0, step: 0.1 },\n      { name: 'fillOpacity', max: 1, min: 0, step: 0.1 },\n    ]}\n    dropdowns={[\n      {\n        name: 'interpolate',\n        options: [\n          'basis',\n          'cardinal',\n          'catmull-rom',\n          'linear',\n          'monotone',\n          'natural',\n          'step',\n          'step-after',\n          'step-before',\n        ],\n      },\n    ]}\n    toggles={[{ name: 'defined' }]}\n    updateScenegraph={(update, scenegraph) => {\n      scenegraph.items.forEach((item: any) => {\n        Object.keys(update).forEach(key => (item[key] = update[key]))\n      })\n      return scenegraph\n    }}\n  />\n)\n\nexport default AreaTesterHorizontal\n","// tslint:disable jsx-no-lambda\nimport * as React from 'react'\nimport { SingleMarkTester } from './util/single-mark-tester'\nimport * as palette from './util/palette'\nimport { Orientation } from '@chart-parts/interfaces'\n\nconst BASE_ITEM = {\n  stroke: palette.CRIMSON,\n  fill: palette.GREY,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n  strokeWidth: 2,\n  tension: 0,\n  orient: Orientation.Vertical,\n\n  // Y baseline\n  y2: 200,\n}\nconst chartHeight = 250\nconst chartWidth = 420\nconst interval = chartWidth / 5\n\nconst AreaTesterVertical: React.SFC = () => (\n  <SingleMarkTester\n    chartWidth={chartWidth}\n    chartHeight={chartHeight}\n    chartOrigin={[10, 0]}\n    initialScenegraph={{\n      marktype: 'area',\n      items: [\n        {\n          x: interval * 0,\n          y: 98.18,\n          ...BASE_ITEM,\n        },\n        {\n          x: interval,\n          y: 0,\n          ...BASE_ITEM,\n        },\n        {\n          x: interval * 2,\n          y: 47.27,\n          ...BASE_ITEM,\n        },\n        {\n          x: interval * 3,\n          y: 76.36,\n          ...BASE_ITEM,\n        },\n        {\n          x: interval * 4,\n          y: 25.4545,\n          ...BASE_ITEM,\n        },\n      ],\n    }}\n    sliders={[\n      { name: 'y2', max: 200, min: 0 },\n      { name: 'tension', min: 0, max: 1, step: 0.1 },\n      { name: 'strokeWidth', max: 10 },\n      { name: 'strokeOpacity', max: 1, min: 0, step: 0.1 },\n      { name: 'fillOpacity', max: 1, min: 0, step: 0.1 },\n    ]}\n    dropdowns={[\n      {\n        name: 'interpolate',\n        options: [\n          'basis',\n          'cardinal',\n          'catmull-rom',\n          'linear',\n          'monotone',\n          'natural',\n          'step',\n          'step-after',\n          'step-before',\n        ],\n      },\n    ]}\n    toggles={[{ name: 'defined' }]}\n    updateScenegraph={(update, scenegraph) => {\n      scenegraph.items.forEach((item: any) => {\n        Object.keys(update).forEach(key => (item[key] = update[key]))\n      })\n      return scenegraph\n    }}\n  />\n)\n\nexport default AreaTesterVertical\n","import * as React from 'react'\nimport { SingleMarkTester } from './util/single-mark-tester'\nimport * as palette from './util/palette'\n\nconst BASE_ITEM = {\n  stroke: palette.CRIMSON,\n  fill: palette.GREY,\n}\n\nconst GroupTester: React.SFC = () => (\n  <SingleMarkTester\n    initialScenegraph={{\n      marktype: 'group',\n      items: [\n        {\n          ...BASE_ITEM,\n          clip: false,\n          x: 25,\n          x2: 150,\n          y: 25,\n          y2: 150,\n          width: 150,\n          height: 150,\n          cornerRadius: 0,\n          strokeWidth: 4,\n          items: [\n            {\n              marktype: 'rect',\n              items: [\n                {\n                  x: 75,\n                  y: -10,\n                  width: 10,\n                  height: 20,\n                  stroke: palette.CRIMSON,\n                  strokeWidth: 2,\n                  fill: 'white',\n                },\n                {\n                  x: -5,\n                  y: 50,\n                  width: 50,\n                  height: 50,\n                  stroke: palette.CRIMSON,\n                  strokeWidth: 2,\n                  fill: 'white',\n                },\n                {\n                  x: 100,\n                  y: 100,\n                  width: 75,\n                  height: 85,\n                  stroke: palette.CRIMSON,\n                  strokeWidth: 2,\n                  fill: 'white',\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    }}\n    toggles={[{ name: 'clip' }]}\n    sliders={[\n      { name: 'x' },\n      { name: 'y' },\n      { name: 'width', min: 25, max: 150 },\n      { name: 'height', min: 25, max: 150 },\n      { name: 'cornerRadius', max: 20 },\n      { name: 'strokeWidth', max: 10 },\n    ]}\n  />\n)\n\nexport default GroupTester\n","// tslint:disable jsx-no-lambda\nimport * as React from 'react'\nimport { SingleMarkTester } from './util/single-mark-tester'\nimport * as palette from './util/palette'\n\nconst BASE_ITEM = {\n  stroke: palette.CRIMSON,\n  strokeOpacity: 1,\n  strokeWidth: 1,\n}\n\nconst LineTester: React.SFC = () => (\n  <SingleMarkTester\n    chartWidth={420}\n    chartOrigin={[10, 0]}\n    initialScenegraph={{\n      marktype: 'line',\n      items: [\n        {\n          x: 0,\n          y: 98.18,\n          y2: 200,\n          ...BASE_ITEM,\n        },\n        {\n          x: 80,\n          y: 0,\n          y2: 200,\n          ...BASE_ITEM,\n        },\n        {\n          x: 160,\n          y: 47.27,\n          y2: 200,\n          ...BASE_ITEM,\n        },\n        {\n          x: 240,\n          y: 76.36,\n          y2: 200,\n          ...BASE_ITEM,\n        },\n        {\n          x: 400,\n          y: 25.4545,\n          y2: 200,\n          ...BASE_ITEM,\n        },\n      ],\n    }}\n    sliders={[\n      { name: 'tension', min: 0, max: 1, step: 0.1 },\n      { name: 'strokeWidth', max: 10 },\n      { name: 'strokeOpacity', max: 1, min: 0, step: 0.1 },\n    ]}\n    dropdowns={[\n      {\n        name: 'interpolate',\n        options: [\n          'basis',\n          'cardinal',\n          'catmull-rom',\n          'linear',\n          'monotone',\n          'natural',\n          'step',\n          'step-after',\n          'step-before',\n        ],\n      },\n    ]}\n    updateScenegraph={(update, scenegraph) => {\n      scenegraph.items.forEach((item: any) => {\n        Object.keys(update).forEach(key => (item[key] = update[key]))\n      })\n      return scenegraph\n    }}\n  />\n)\n\nexport default LineTester\n","import * as React from 'react'\nimport { SingleMarkTester } from './util/single-mark-tester'\nimport * as palette from './util/palette'\n\nconst BASE_ITEM = {\n  stroke: palette.CRIMSON,\n  fill: palette.GREY,\n}\n\nconst RectTester: React.SFC = () => (\n  <SingleMarkTester\n    initialScenegraph={{\n      marktype: 'rect',\n      items: [\n        {\n          ...BASE_ITEM,\n          x: 50,\n          y: 50,\n          width: 75,\n          height: 75,\n          cornerRadius: 0,\n          stroke: palette.CRIMSON,\n          fill: palette.GREY,\n          strokeWidth: 4,\n        },\n      ],\n    }}\n    sliders={[\n      { name: 'x' },\n      { name: 'y' },\n      { name: 'width' },\n      { name: 'height' },\n      { name: 'cornerRadius', max: 15 },\n      { name: 'strokeWidth', max: 10 },\n    ]}\n  />\n)\n\nexport default RectTester\n","import ArcTester from './arc-tester'\nimport AreaTesterHorizontal from './area-tester-horizontal'\nimport AreaTesterVertical from './area-tester-vertical'\nimport GroupTester from './group-tester'\nimport LineTester from './line-tester'\nimport PathTester from './path-tester'\nimport RectTester from './rect-tester'\nimport RuleTester from './rule-tester'\nimport TextTester from './text-tester'\n\nexport default {\n  'arc-tester': ArcTester,\n  'area-tester-horizontal': AreaTesterHorizontal,\n  'area-tester-vertical': AreaTesterVertical,\n  'group-tester': GroupTester,\n  'line-tester': LineTester,\n  'path-tester': PathTester,\n  'rect-tester': RectTester,\n  'rule-tester': RuleTester,\n  'text-tester': TextTester,\n}\n","import * as React from 'react'\n\nconst PathTester: React.SFC = () => <div>TODO</div>\n\nexport default PathTester\n","import * as React from 'react'\nimport { SingleMarkTester } from './util/single-mark-tester'\nimport * as palette from './util/palette'\n\nconst RuleTester: React.SFC = () => (\n  <SingleMarkTester\n    initialScenegraph={{\n      marktype: 'rule',\n      items: [\n        {\n          x: 50,\n          y: 50,\n          x2: 100,\n          y2: 100,\n          stroke: palette.CRIMSON,\n          strokeWidth: 4,\n          strokeCap: 'butt',\n          strokeDash: '[1,0]',\n        },\n      ],\n    }}\n    sliders={[\n      { name: 'x' },\n      { name: 'y' },\n      { name: 'x2' },\n      { name: 'y2' },\n      { name: 'strokeWidth', max: 10 },\n    ]}\n    dropdowns={[\n      { name: 'strokeCap', options: ['butt', 'round', 'square'] },\n      {\n        name: 'strokeDash',\n        options: ['1,0', '8,8', '4,4', '4,2', '2,1', '1,1'],\n      },\n    ]}\n  />\n)\n\nexport default RuleTester\n","// tslint:disable jsx-no-lambda\nimport * as React from 'react'\nimport { SingleMarkTester } from './util/single-mark-tester'\n\nconst TextTester: React.SFC = () => (\n  <SingleMarkTester\n    initialScenegraph={{\n      marktype: 'group',\n      items: [\n        {\n          width: 200,\n          height: 200,\n          items: [\n            {\n              marktype: 'symbol',\n              items: [\n                {\n                  fill: 'firebrick',\n                  size: 25,\n                  x: 100,\n                  y: 100,\n                },\n              ],\n            },\n            {\n              marktype: 'text',\n              items: [\n                {\n                  text: 'Text Label',\n                  x: 100,\n                  y: 100,\n                  font: 'sans-serif',\n                  fontSize: 18,\n                  fill: 'black',\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    }}\n    sliders={[\n      { name: 'x' },\n      { name: 'y' },\n      { name: 'dx', min: -20, max: 20 },\n      { name: 'dy', min: -20, max: 20 },\n      { name: 'angle', min: -180, max: 180 },\n      { name: 'fontSize', min: 1, max: 36 },\n      { name: 'limit', min: 0, max: 150 },\n      { name: 'radius', max: 50 },\n      { name: 'theta', max: 6.28, step: 0.1 },\n    ]}\n    dropdowns={[\n      { name: 'align', options: ['left', 'center', 'right'] },\n      {\n        name: 'baseline',\n        options: ['alphabetic', 'top', 'middle', 'bottom'],\n      },\n      { name: 'font', options: ['sans-serif', 'serif', 'monospace'] },\n      { name: 'fontWeight', options: ['normal', 'bold'] },\n      { name: 'fontStyle', options: ['normal', 'italic'] },\n    ]}\n    getParam={(name, scenegraph) =>\n      // Get item parameters off of the textmark's first item, which is nested a bit\n      scenegraph.items[0].items[1].items[0][name]\n    }\n    updateScenegraph={(update, scenegraph) => {\n      const groupMark = scenegraph\n      const firstGroup = scenegraph.items[0]\n      const symbolMark = firstGroup.items[0]\n      const symbolItem = symbolMark.items[0]\n      const textMark = firstGroup.items[1]\n      const textItem = textMark.items[0]\n      return {\n        ...groupMark,\n        items: [\n          {\n            ...firstGroup,\n            items: [\n              {\n                ...symbolMark,\n                items: [\n                  {\n                    ...symbolItem,\n                    x: update.x || symbolItem.x,\n                    y: update.y || symbolItem.y,\n                  },\n                ],\n              },\n              {\n                ...textMark,\n                items: [\n                  {\n                    ...textItem,\n                    ...update,\n                  },\n                ],\n              },\n            ],\n          },\n        ],\n      }\n    }}\n  />\n)\n\nexport default TextTester\n","import charts from './charts'\nimport markTesters from './mark-testers'\n\nexport default {\n  ...charts,\n  ...markTesters,\n}\n","import { withPrefix } from 'gatsby'\n\nexport interface MarkdownAstNode {\n  tagName?: string\n  type: string\n  properties?: { [key: string]: any }\n  children: MarkdownAstNode[]\n  data: any\n}\n\nexport default function processImagesInMarkdownAst(ast: MarkdownAstNode): void {\n  checkNode(ast)\n}\n\nfunction checkNode(node: MarkdownAstNode) {\n  if (!node) {\n    return\n  }\n  if (node.tagName === 'img') {\n    const properties = node.properties as { [key: string]: any }\n    const imageSrc: string = (properties && properties.src) || ''\n    if (imageSrc.startsWith('/images')) {\n      properties.src = withPrefix(imageSrc)\n    }\n  }\n  const children = node.children || []\n  children.forEach(child => checkNode(child))\n}\n","import { createElement } from 'react'\nimport components from '../examples'\nimport processImages from './processImagesInMarkdownAst'\n// tslint:disable-next-line\nconst log = require('debug')('site:renderHtmlAst')\n\n// tslint:disable-next-line\nconst rehypeReact = require('rehype-react')\nconst renderAst = new rehypeReact({\n  createElement,\n  components,\n}).Compiler\n\nexport default function renderHtmlAst(node: any) {\n  try {\n    processImages(node)\n    return renderAst(node)\n  } catch (err) {\n    // tslint:disable-next-line\n    log('error rendering doc page', err)\n  }\n}\n","import { SidebarItem, TreeNode } from './interfaces'\n\n/**\n * Creates a nested tree of sidebar items given a flat array of items\n * @param items The sidebar items to create the tree from\n */\nexport function createTree(items: SidebarItem[]) {\n  const tree: { [key: string]: TreeNode } = {}\n\n  // Insert each item into the tree\n  items.forEach(i => insertItemIntoTree(i, tree))\n  Object.keys(tree).forEach(key => {\n    const subtree = tree[key]\n    pruneTree(subtree)\n  })\n\n  return Object.keys(tree)\n    .map(k => tree[k])\n    .filter(t => !!t)\n    .sort((a, b) => (a as any).item.order - (b as any).item.order)\n}\n\nfunction pruneTree(tree: TreeNode): TreeNode {\n  if (isLeaf(tree)) {\n    return tree\n  }\n  const children = childrenOf(tree).map(c => pruneTree(c))\n\n  const newChildren: TreeNode[] = []\n  children.forEach(child => {\n    if (child.item === undefined) {\n      newChildren.push(...childrenOf(child))\n    } else {\n      newChildren.push(child)\n    }\n  })\n\n  tree.children = childHash(newChildren)\n  return tree\n}\n\nfunction childHash(children: TreeNode[]) {\n  const result: { [key: string]: TreeNode } = {}\n  children.forEach(child => (result[child.pathKey] = child))\n  return result\n}\n\nfunction childrenOf(tree: TreeNode) {\n  return Object.keys(tree.children).map(k => tree.children[k])\n}\n\nfunction isLeaf(tree: TreeNode) {\n  return childrenOf(tree).length === 0\n}\n\nfunction insertItemIntoTree(\n  item: SidebarItem,\n  tree: { [key: string]: TreeNode }\n) {\n  // Split the path up into \"items\" which will be used to create the three\n  const pathItems = item.path\n    .split('/')\n    .filter(t => !!t)\n    .slice(1)\n\n  const rootItem = pathItems[0]\n  let rootTree = tree[rootItem]\n  if (!rootTree) {\n    rootTree = tree[rootItem] = {\n      item: undefined as any,\n      pathKey: rootItem,\n      children: {},\n    }\n  }\n\n  if (pathItems.length === 1) {\n    rootTree.item = item\n  } else {\n    insertPathItemIntoTree(item, pathItems, rootTree)\n  }\n}\n\nfunction insertPathItemIntoTree(\n  item: SidebarItem,\n  pathItems: string[],\n  tree: TreeNode\n) {\n  // skip the first item since it's been added to the root hash already\n  let current = tree\n  pathItems.splice(1).forEach((pi, index) => {\n    if (!current.children[pi]) {\n      current.children[pi] = {\n        item: undefined as any,\n        pathKey: pi,\n        children: {},\n      }\n    }\n    current = current.children[pi]\n  })\n  current.item = item\n}\n","// tslint:disable no-var-requires no-submodule-imports\nimport * as React from 'react'\nimport { TreeNode } from './interfaces'\nimport { Link as RawLink } from 'gatsby'\nimport styled from 'styled-components'\nimport theme from '../../util/theme'\nimport {\n  FaAngleDown as ExpandedIconRaw,\n  FaAngleRight as CollapsedIconRaw,\n} from 'react-icons/fa'\n\nexport interface LinkTreeProps {\n  node: TreeNode\n  depth: number\n  expanded?: boolean\n  activePath: string\n}\n\nconst ToggleSize = 15\n\nexport interface LinkTreeState {\n  expanded: boolean\n  hasBeenManuallyToggled: boolean\n}\n\nexport default class LinkTree extends React.Component<\n  LinkTreeProps,\n  LinkTreeState\n> {\n  constructor(props: LinkTreeProps) {\n    super(props)\n    this.state = { expanded: !!props.expanded, hasBeenManuallyToggled: false }\n  }\n\n  public componentDidMount() {\n    const { activePath, node } = this.props\n    if (activePath.startsWith(node.item.path)) {\n      this.setState({ expanded: true })\n    }\n  }\n\n  public render(): JSX.Element | null {\n    const { node } = this.props\n    const { item, children } = node\n    if (!item) {\n      return null\n    }\n\n    const childKeys = Object.keys(children)\n    const linkStyle = this.getLinkStyle()\n\n    return (\n      <Container>\n        <CurrentLevel>\n          {this.renderIcon(childKeys)}\n          <Link to={item.path} {...{ style: linkStyle }}>\n            {item.title || node.pathKey}\n          </Link>\n        </CurrentLevel>\n        {this.renderChildren(childKeys)}\n      </Container>\n    )\n  }\n\n  private getLinkStyle(): React.CSSProperties {\n    const {\n      activePath,\n      depth,\n      node: { item },\n    } = this.props\n\n    const marginLeft = 15 + depth * 15\n    const fontSize = 16 - depth * 2\n    const linkStyle: React.CSSProperties = {\n      marginLeft,\n      fontSize,\n      color: '#3173BD',\n    }\n\n    if (activePath === item.path) {\n      linkStyle.fontWeight = 'bold'\n    }\n    return linkStyle\n  }\n\n  private renderIcon(childKeys: string[]) {\n    if (childKeys.length === 0) {\n      return <IconSpacer />\n    } else if (this.state.expanded) {\n      return (\n        <ExpandedIcon onClick={this.onExpandCollapseClick} size={ToggleSize} />\n      )\n    } else {\n      return (\n        <CollapsedIcon onClick={this.onExpandCollapseClick} size={ToggleSize} />\n      )\n    }\n  }\n\n  private renderChildren(childKeys: string[]) {\n    const { node, depth, activePath } = this.props\n    const { expanded } = this.state\n    if (!expanded) {\n      return null\n    }\n\n    // Get the nodes for the children and sort them\n    const childNodes = childKeys.map(ck => node.children[ck])\n    childNodes.sort((a, b) => (a.item.order || 0) - (b.item.order || 0))\n\n    return childNodes.map(c => (\n      <LinkTree\n        key={c.pathKey}\n        node={c}\n        depth={depth + 1}\n        activePath={activePath}\n      />\n    ))\n  }\n\n  private onExpandCollapseClick = () => {\n    this.setState({\n      expanded: !this.state.expanded,\n      hasBeenManuallyToggled: true,\n    })\n  }\n}\n\nconst Container = styled.div``\n\nconst IconSpacer = styled.span`\n  width: 15px;\n`\n\nconst CurrentLevel = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`\n\nconst ExpandedIcon = styled(ExpandedIconRaw)`\n  color: #999;\n  cursor: pointer;\n  width: 15px;\n`\n\nconst CollapsedIcon = styled(CollapsedIconRaw)`\n  color: #999;\n  cursor: pointer;\n  width: 15px;\n`\n\nconst Link = styled(RawLink)`\n  font-family: ${theme.text.fontFamily};\n  line-height: ${theme.text.lineHeight * 1.5};\n  font-weight: 100;\n  font-size: 16px;\n  display: flex;\n  flex-direction: column;\n`\n","import * as React from 'react'\nimport styled from 'styled-components'\nimport { SidebarItem, TreeNode } from './interfaces'\nimport { createTree } from './createTree'\nimport LinkTree from './link_tree'\n\nexport { SidebarItem } from './interfaces'\n\nexport interface SidebarProps {\n  items: SidebarItem[]\n  activePath: string\n}\n\nconst Sidebar: React.SFC<SidebarProps> = ({ items, activePath }) => {\n  const tree: TreeNode[] = createTree(items)\n  return (\n    <Container>\n      {tree\n        .map(subtree => {\n          return !subtree.item ? null : (\n            <LinkTree\n              key={subtree.pathKey}\n              node={subtree}\n              depth={0}\n              activePath={activePath}\n            />\n          )\n        })\n        .filter(t => !!t)}\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  height: 100%;\n`\n\nexport default Sidebar\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * A supertype for every node in the scene. Both marks and items extend this\n */\nclass SceneNode {\n    constructor() {\n        /**\n         * Metadata about this mark\n         */\n        this.metadata = {};\n    }\n}\nexports.SceneNode = SceneNode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass SceneNodeBuilder {\n    constructor() {\n        this.markBuilders = [];\n        this.axisBuilders = [];\n        /**\n         * The scales defined for children of this node\n         */\n        this.scales = [];\n    }\n    /**\n     * Adds a scale-creator to the scene configuration\n     * @param name The name of the scale-creator to add\n     * @param table The name of the bound datatable to use\n     * @param creator The scale-creator\n     */\n    scale(...creators) {\n        creators.forEach(c => {\n            const scaleCreator = typeof c === 'function' ? c : c.build;\n            this.scales.push(scaleCreator);\n        });\n        return this;\n    }\n    mark(...builders) {\n        this.markBuilders.push(...builders);\n        return this;\n    }\n    axes(...builders) {\n        this.axisBuilders.push(...builders);\n        return this;\n    }\n    /**\n     * Builds the scene object\n     */\n    build() {\n        const { scales, markBuilders, axisBuilders } = this;\n        return {\n            marks: markBuilders.map(m => m.build()),\n            axes: axisBuilders.map(m => m.build()),\n            scales,\n        };\n    }\n}\nexports.SceneNodeBuilder = SceneNodeBuilder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst get = require('lodash/get');\nclass DomainScale {\n    constructor() {\n        this.build = (arg) => {\n            if (!this.nameValue) {\n                throw new Error('scale name must be defined');\n            }\n            return this.createScale(arg);\n        };\n    }\n    /**\n     * Sets the name of the scale\n     * @param value The name of the scale\n     */\n    name(value) {\n        this.nameValue = value;\n        return this;\n    }\n    /**\n     * Sets the domain of the scale\n     * @param arg The domain argument\n     */\n    domain(arg) {\n        if (typeof arg === 'function') {\n            this.domainValue = arg;\n        }\n        else if (Array.isArray(arg)) {\n            this.domainValue = () => arg;\n        }\n        else if (arg !== undefined && typeof arg === 'string') {\n            this.bindDomainValue = arg;\n        }\n        else {\n            this.domainValue = undefined;\n            this.bindDomainValue = undefined;\n        }\n        return this;\n    }\n    processDomainValues(values) {\n        return values;\n    }\n    getDomain(args) {\n        if (this.domainValue) {\n            return this.domainValue(args);\n        }\n        else if (!this.tableBind && !this.fieldBind) {\n            // If there's no value and no binding, use a unit-domain\n            return [0, 1];\n        }\n        else {\n            return this.getDomainFromTableBinding(args);\n        }\n    }\n    getDomainFromTableBinding(args) {\n        const table = this.tableBind;\n        const field = this.fieldBind;\n        if (!table || !field) {\n            throw new Error('Domain scale domain bind must have a table and field accessor name. The expected format is <table>.<field>');\n        }\n        const data = args.data[table];\n        if (!data) {\n            throw new Error(`DomainScale could not find source table ${table}`);\n        }\n        const domainValues = data.map((d) => get(d, field));\n        const result = this.processDomainValues(domainValues);\n        return result;\n    }\n    get bindDomainArray() {\n        const bindDomain = this.bindDomainValue;\n        if (!bindDomain) {\n            throw new Error('Either bindDomain or domain must be set');\n        }\n        return typeof bindDomain === 'string'\n            ? [bindDomain]\n            : bindDomain;\n    }\n    get tableBind() {\n        const bind = this.bindDomainValue;\n        if (!bind) {\n            return undefined;\n        }\n        const splitIndex = bind.indexOf('.');\n        if (splitIndex === -1) {\n            return undefined;\n        }\n        const tableName = bind.slice(0, splitIndex);\n        return tableName;\n    }\n    get fieldBind() {\n        const bind = this.bindDomainValue;\n        if (!bind) {\n            return undefined;\n        }\n        const splitIndex = bind.indexOf('.');\n        if (splitIndex === -1) {\n            return undefined;\n        }\n        const filedName = bind.slice(splitIndex + 1);\n        return filedName;\n    }\n}\nexports.DomainScale = DomainScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nfunction getBoundRange(args, rangeBind) {\n    const { viewBounds: { x, y }, } = args;\n    // If an origin is defined, this will use the origin in the scale calculatinos\n    return rangeBind === interfaces_1.Dimension.Height ? y : x;\n}\nexports.getBoundRange = getBoundRange;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// tslint:disable max-classes-per-file\nconst React = require(\"react\");\nconst Context_1 = require(\"../Context\");\nclass DomainScale extends React.PureComponent {\n    render() {\n        return (React.createElement(Context_1.SceneNodeBuilderConsumer, null, (api) => {\n            this.apiInstance = api;\n            this.addScale();\n            return null;\n        }));\n    }\n    get api() {\n        if (!this.apiInstance) {\n            throw new Error('api must be defined');\n        }\n        return this.apiInstance;\n    }\n    addScale() {\n        this.api.scale(this.createScale());\n    }\n}\nexports.DomainScale = DomainScale;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Orchestrator\"));\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./items\"));\n__export(require(\"./Mark\"));\n__export(require(\"./SceneNode\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Elements = require(\"./elements\");\nconst registry_1 = require(\"./registry\");\nconst MarkBuilder_1 = require(\"./MarkBuilder\");\n/**\n *\n * @param markType The type of mark item to create\n * @param item The mark items to add\n */\nfunction createMark(markType, items) {\n    items.forEach((item, index) => {\n        if (item.itemtype !== markType) {\n            throw new Error(`Mark type must match the type of it's child items. Mark ${markType}, child ${item.itemtype}@${index}`);\n        }\n    });\n    const result = new Elements.Mark();\n    result.marktype = markType;\n    result.items = items;\n    return result;\n}\nexports.createMark = createMark;\nfunction createItem(itemType, props = {}) {\n    return registry_1.createItemType(itemType, props);\n}\nexports.createItem = createItem;\nfunction buildMark(markType) {\n    return new MarkBuilder_1.MarkBuilder(markType);\n}\nexports.buildMark = buildMark;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst registry_1 = require(\"./registry\");\nconst ArcRenderer_1 = require(\"./ArcRenderer\");\nconst AreaRenderer_1 = require(\"./AreaRenderer\");\nconst GroupRenderer_1 = require(\"./GroupRenderer\");\nconst LineRenderer_1 = require(\"./LineRenderer\");\nconst PathRenderer_1 = require(\"./PathRenderer\");\nconst RectRenderer_1 = require(\"./RectRenderer\");\nconst RuleRenderer_1 = require(\"./RuleRenderer\");\nconst SymbolRenderer_1 = require(\"./SymbolRenderer\");\nconst TextRenderer_1 = require(\"./TextRenderer\");\nregistry_1.registerRenderer(interfaces_1.MarkType.Arc, new ArcRenderer_1.ArcRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Area, new AreaRenderer_1.AreaRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Group, new GroupRenderer_1.GroupRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Line, new LineRenderer_1.LineRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Path, new PathRenderer_1.PathRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Rect, new RectRenderer_1.RectRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Rule, new RuleRenderer_1.RuleRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Symbol, new SymbolRenderer_1.SymbolRenderer());\nregistry_1.registerRenderer(interfaces_1.MarkType.Text, new TextRenderer_1.TextRenderer());\n__export(require(\"./registry\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst itemRendererRegistry = new Map();\nfunction registerRenderer(markType, markRenderer) {\n    itemRendererRegistry.set(markType, markRenderer);\n}\nexports.registerRenderer = registerRenderer;\nfunction renderMark(mark, context) {\n    if (!mark.marktype) {\n        throw new Error(`Unhandled mark type \"${mark.marktype}\"`);\n    }\n    const renderer = itemRendererRegistry.get(mark.marktype);\n    return renderer ? renderer.render(mark, context) : { nodes: [] };\n}\nexports.renderMark = renderMark;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// tslint:disable no-this-assignment unified-signatures\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst SceneNodeBuilder_1 = require(\"./SceneNodeBuilder\");\nclass MarkBuilder {\n    constructor(type) {\n        this.type = type;\n        this.singletonValue = true;\n        this.channelsValue = {};\n        this.encodingsValue = {};\n    }\n    table(table) {\n        this.tableValue = table;\n        return this;\n    }\n    singleton(value) {\n        this.singletonValue = value;\n        return this;\n    }\n    role(role) {\n        this.roleValue = role;\n        return this;\n    }\n    name(name) {\n        this.nameValue = name;\n        return this;\n    }\n    idGenerator(generator) {\n        this.itemIdGenerator = generator;\n        return this;\n    }\n    metadata(value) {\n        this.metadataValue = value;\n        return this;\n    }\n    zIndex(zIndex) {\n        if (zIndex !== undefined) {\n            this.encode(interfaces_1.MarkEncodingKey.zIndex, () => zIndex);\n        }\n        else {\n            delete this.encodingsValue.zIndex;\n        }\n        return this;\n    }\n    handle(name, handler) {\n        if (typeof name === 'string') {\n            if (!handler) {\n                throw new Error(`handler function must be defined for handler ${name}`);\n            }\n            this.channelsValue[name] = handler;\n        }\n        else {\n            const channels = name;\n            Object.entries(channels).forEach(([nameVal, handlerVal]) => (this.channelsValue[nameVal] = handlerVal));\n        }\n        return this;\n    }\n    // #endregion\n    // Polymorphic function definition\n    encode(first, encoding) {\n        if (typeof first === 'string') {\n            // Handle encode(key, encoding) invocations\n            const key = first;\n            if (!encoding) {\n                throw new Error(`encoding must be defined for key ${key}`);\n            }\n            this.encodingsValue[key] = encoding;\n        }\n        else {\n            // Handle encode(map) invocations\n            const encodings = first;\n            Object.entries(encodings).forEach(([name, entryEncoding]) => (this.encodingsValue[name] = entryEncoding));\n            return this;\n        }\n        return this;\n    }\n    facet(facet) {\n        if (facet !== undefined && this.type !== interfaces_1.MarkType.Group) {\n            throw new Error('faceting can only be applied to \"group\" type marks');\n        }\n        this.facetValue = facet;\n        return this;\n    }\n    /**\n     * Pushes a new scene node onto the graph\n     */\n    child(callback) {\n        this.childNode = new SceneNodeBuilder_1.SceneNodeBuilder();\n        callback(this.childNode);\n        return this;\n    }\n    build() {\n        const { type, tableValue: table, channelsValue: channels, encodingsValue: encodings, roleValue: role, nameValue: name, facetValue: facet, singletonValue: singleton, childNode, itemIdGenerator: idGenerator, metadataValue: metadata, } = this;\n        if (!type) {\n            throw new Error('mark type must be set');\n        }\n        return {\n            table,\n            type,\n            channels,\n            encodings,\n            role,\n            name,\n            facet,\n            singleton,\n            idGenerator,\n            metadata,\n            child: childNode && childNode.build(),\n        };\n    }\n}\nexports.MarkBuilder = MarkBuilder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nclass ChartOptionsManager {\n    constructor(options = {}) {\n        this.options = options;\n    }\n    get ariaTitle() {\n        return this.options.ariaTitle || 'data visualization using chart-parts';\n    }\n    get ariaDescription() {\n        return this.options.ariaDescription || '';\n    }\n    get chartSpace() {\n        const chartWidth = this.options.width || interfaces_1.DEFAULT_WIDTH;\n        const chartHeight = this.options.height || interfaces_1.DEFAULT_HEIGHT;\n        const paddingLeft = this.paddingLeft;\n        const paddingRight = this.paddingRight;\n        const paddingTop = this.paddingTop;\n        const paddingBottom = this.paddingBottom;\n        const x = paddingLeft;\n        const y = paddingTop;\n        const width = chartWidth - paddingLeft - paddingRight;\n        const height = chartHeight - paddingTop - paddingBottom;\n        return {\n            origin: { x, y },\n            shape: { width, height },\n        };\n    }\n    get paddingTop() {\n        return this.getPadding('top');\n    }\n    get paddingBottom() {\n        return this.getPadding('bottom');\n    }\n    get paddingLeft() {\n        return this.getPadding('left');\n    }\n    get paddingRight() {\n        return this.getPadding('right');\n    }\n    getPadding(name) {\n        const paddingType = typeof this.options.padding;\n        if (paddingType === 'number') {\n            return this.options.padding;\n        }\n        else if (paddingType === 'object') {\n            return this.options.padding[name] || 0;\n        }\n        return 0;\n    }\n}\nexports.ChartOptionsManager = ChartOptionsManager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst processMark_1 = require(\"./marks/processMark\");\nconst axes_1 = require(\"./axes\");\nconst scenegraph_1 = require(\"@chart-parts/scenegraph\");\n/**\n * Processes a scene specification node into the SceneGraph model\n * @param node The scene node to process\n * @param scaleFrame The scales available for the given scene node\n */\nfunction processNode(node, parentFrame) {\n    // Push the new node, which registers channels and recomputes scales\n    const frame = parentFrame.pushNode(node);\n    // Build out the axes, which may or may not update the frame\n    const { remainingSpace, axes } = axes_1.buildAxes(node, frame);\n    // Construct the items for the marks\n    const viewFrame = frame.pushView(remainingSpace.shape);\n    const markItems = node.marks.map(mark => processMark_1.processMark(mark, viewFrame));\n    // Emit the result - if axes are present, wrap the marks in a group to put them in the correct space\n    if (axes.length > 0) {\n        return [...axes, createMarkGrouping(markItems, remainingSpace)];\n    }\n    else {\n        return markItems;\n    }\n}\nexports.processNode = processNode;\nfunction createMarkGrouping(items, space) {\n    return scenegraph_1.buildMark(interfaces_1.MarkType.Group)\n        .role('marks')\n        .items(Object.assign({}, space.origin, space.shape, { items }))\n        .build();\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction captureCommonEncodings(props) {\n    const result = {};\n    const transferProp = (name) => {\n        const propVal = props[name];\n        if (propVal !== undefined) {\n            result[name] = propVal;\n        }\n    };\n    [\n        'x',\n        'x2',\n        'xc',\n        'width',\n        'y',\n        'y2',\n        'yc',\n        'height',\n        'opacity',\n        'fill',\n        'fillOpacity',\n        'stroke',\n        'strokeOpacity',\n        'strokeWidth',\n        'strokeCap',\n        'strokeDash',\n        'strokeDashOffset',\n        'strokeJoin',\n        'strokeMiterLimit',\n        'cursor',\n        'href',\n        'tooltip',\n        'zIndex',\n        'ariaTitle',\n        'ariaDescription',\n        'tabIndex',\n    ].map(pv => transferProp(pv));\n    return result;\n}\nexports.captureCommonEncodings = captureCommonEncodings;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./LinearScale\"));\n__export(require(\"./LogScale\"));\n__export(require(\"./PowScale\"));\n__export(require(\"./SequentialScale\"));\n__export(require(\"./SqrtScale\"));\n__export(require(\"./TimeScale\"));\n__export(require(\"./UtcScale\"));\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./BandScale\"));\n__export(require(\"./OrdinalScale\"));\n__export(require(\"./PointScale\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst category10 = [\n    '#1f77b4',\n    '#ff7f0e',\n    '#2ca02c',\n    '#d62728',\n    '#9467bd',\n    '#8c564b',\n    '#e377c2',\n    '#7f7f7f',\n    '#bcbd22',\n    '#17becf',\n];\nconst category20 = [\n    '#1f77b4',\n    '#aec7e8',\n    '#ff7f0e',\n    '#ffbb78',\n    '#2ca02c',\n    '#98df8a',\n    '#d62728',\n    '#ff9896',\n    '#9467bd',\n    '#c5b0d5',\n    '#8c564b',\n    '#c49c94',\n    '#e377c2',\n    '#f7b6d2',\n    '#7f7f7f',\n    '#c7c7c7',\n    '#bcbd22',\n    '#dbdb8d',\n    '#17becf',\n    '#9edae5',\n];\nconst category20b = [\n    '#393b79',\n    '#5254a3',\n    '#6b6ecf',\n    '#9c9ede',\n    '#637939',\n    '#8ca252',\n    '#b5cf6b',\n    '#cedb9c',\n    '#8c6d31',\n    '#bd9e39',\n    '#e7ba52',\n    '#e7cb94',\n    '#843c39',\n    '#ad494a',\n    '#d6616b',\n    '#e7969c',\n    '#7b4173',\n    '#a55194',\n    '#ce6dbd',\n    '#de9ed6',\n];\nconst category20c = [\n    '#3182bd',\n    '#6baed6',\n    '#9ecae1',\n    '#c6dbef',\n    '#e6550d',\n    '#fd8d3c',\n    '#fdae6b',\n    '#fdd0a2',\n    '#31a354',\n    '#74c476',\n    '#a1d99b',\n    '#c7e9c0',\n    '#756bb1',\n    '#9e9ac8',\n    '#bcbddc',\n    '#dadaeb',\n    '#636363',\n    '#969696',\n    '#bdbdbd',\n    '#d9d9d9',\n];\nvar CategoricalColorScheme;\n(function (CategoricalColorScheme) {\n    CategoricalColorScheme[\"category10\"] = \"category10\";\n    CategoricalColorScheme[\"category20\"] = \"category20\";\n    CategoricalColorScheme[\"category20b\"] = \"category20b\";\n    CategoricalColorScheme[\"category20c\"] = \"category20c\";\n})(CategoricalColorScheme = exports.CategoricalColorScheme || (exports.CategoricalColorScheme = {}));\nexports.colorSchemeMap = new Map();\nexports.colorSchemeMap.set(CategoricalColorScheme.category10, category10);\nexports.colorSchemeMap.set(CategoricalColorScheme.category20, category20);\nexports.colorSchemeMap.set(CategoricalColorScheme.category20b, category20b);\nexports.colorSchemeMap.set(CategoricalColorScheme.category20c, category20c);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst d3_array_1 = require(\"d3-array\");\nconst DomainRangeScale_1 = require(\"./DomainRangeScale\");\nconst util_1 = require(\"./util\");\nclass QuantizeScale extends DomainRangeScale_1.DomainRangeScale {\n    handleRangeBind(args, rangeBind) {\n        throw new Error('cannot use range binding on Quantize scale');\n    }\n    /**\n     * Extends the domain so that it starts and ends on nice round values.\n     */\n    nice(value) {\n        this.niceValue = util_1.optionalArgument(value, arguments.length, true, false);\n        return this;\n    }\n    /**\n     * Boolean flag indicating if the scale domain should include zero.\n     * The default value is true for linear, sqrt and pow, and false otherwise.\n     */\n    zero(value) {\n        this.zeroValue = util_1.optionalArgument(value, arguments.length, true, false);\n        return this;\n    }\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const scale = d3_scale_1.scaleQuantize()\n            .domain(domain)\n            .range(range);\n        this.applyNice(scale);\n        return {\n            [this.nameValue]: scale,\n        };\n    }\n    processDomainValues(values) {\n        const result = d3_array_1.extent(values);\n        if (this.zeroValue && !this.domainContainsZero(result)) {\n            const [min, max] = result;\n            const zero = 0;\n            return 0 < min ? [zero, max] : [min, zero];\n        }\n        return result;\n    }\n    domainContainsZero(domain) {\n        return 0 >= domain[0] && 0 <= domain[1];\n    }\n    applyNice(scale) {\n        const v = this.niceValue;\n        if (v != null) {\n            if (v === true) {\n                scale.nice();\n            }\n            else if (typeof v === 'number') {\n                scale.nice(v);\n            }\n        }\n    }\n}\nexports.QuantizeScale = QuantizeScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst DomainRangeScale_1 = require(\"./DomainRangeScale\");\nclass QuantileScale extends DomainRangeScale_1.DomainRangeScale {\n    handleRangeBind(args, rangeBind) {\n        throw new Error('cannot use range binding on Quantize scale');\n    }\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const scale = d3_scale_1.scaleQuantile()\n            .domain(domain)\n            .range(range);\n        return {\n            [this.nameValue]: scale,\n        };\n    }\n}\nexports.QuantileScale = QuantileScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextCaseTransform;\n(function (TextCaseTransform) {\n    TextCaseTransform[\"lower\"] = \"lower\";\n    TextCaseTransform[\"upper\"] = \"upper\";\n    TextCaseTransform[\"mixed\"] = \"mixed\";\n})(TextCaseTransform = exports.TextCaseTransform || (exports.TextCaseTransform = {}));\nvar CompareOrder;\n(function (CompareOrder) {\n    CompareOrder[\"ascending\"] = \"asc\";\n    CompareOrder[\"descending\"] = \"desc\";\n})(CompareOrder = exports.CompareOrder || (exports.CompareOrder = {}));\nvar Offset;\n(function (Offset) {\n    Offset[\"zero\"] = \"zero\";\n    Offset[\"center\"] = \"center\";\n    Offset[\"normalize\"] = \"normalize\";\n})(Offset = exports.Offset || (exports.Offset = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"./interfaces\");\n// tslint:disable-next-line\nconst get = require('lodash/get');\nfunction getField(data, field) {\n    return get(data, field);\n}\nexports.getField = getField;\nfunction createSorter(sorts) {\n    return (a, b) => {\n        let result = 0;\n        for (const sort of sorts) {\n            const { order = interfaces_1.CompareOrder.descending, field } = sort;\n            const valueA = getField(a, field);\n            const valueB = getField(b, field);\n            result =\n                order === interfaces_1.CompareOrder.ascending ? valueA - valueB : valueB - valueA;\n            if (result !== 0) {\n                break;\n            }\n        }\n        return result;\n    };\n}\nexports.createSorter = createSorter;\nfunction identity(t) {\n    return t;\n}\nexports.identity = identity;\nfunction defaultComparator(a, b) {\n    return a - b;\n}\nexports.defaultComparator = defaultComparator;\nfunction defaultEquality(a, b) {\n    return a === b;\n}\nexports.defaultEquality = defaultEquality;\n","\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// tslint:disable no-var-requires\nconst React = require(\"react\");\nconst orchestrator_1 = require(\"@chart-parts/orchestrator\");\nconst ChartSpec_1 = require(\"./ChartSpec\");\nconst shallowequal = require('shallowequal');\nclass Chart extends React.Component {\n    constructor(props) {\n        super(props);\n        this.receiveSpec = (spec) => {\n            const rendered = this.pipeline.renderScene(spec, {\n                width: this.props.width,\n                height: this.props.height,\n                padding: this.props.padding,\n                ariaTitle: this.props.title,\n                ariaDescription: this.props.description,\n            }, this.props.data);\n            this.setState({ rendered });\n        };\n        this.pipeline = new orchestrator_1.Orchestrator(props.renderer);\n        this.state = { rendered: null };\n    }\n    shouldComponentUpdate(props, state) {\n        return !shallowequal(this.props, props) || !shallowequal(this.state, state);\n    }\n    componentDidMount() {\n        if (this.props.scene) {\n            this.receiveSpec(this.props.scene);\n        }\n    }\n    render() {\n        const _a = this.props, { renderer, data } = _a, props = __rest(_a, [\"renderer\", \"data\"]);\n        return (React.createElement(React.Fragment, null,\n            React.createElement(ChartSpec_1.ChartSpec, Object.assign({}, props, { onSpecReady: this.receiveSpec }), this.props.children),\n            this.state.rendered));\n    }\n}\nexports.Chart = Chart;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scenegraph_1 = require(\"@chart-parts/scenegraph\");\nconst vsvg_1 = require(\"@chart-parts/vsvg\");\nconst scene_1 = require(\"@chart-parts/scene\");\nclass Orchestrator {\n    constructor(renderer, prerenderer = new vsvg_1.VirtualSvgConverter()) {\n        this.renderer = renderer;\n        this.prerenderer = prerenderer;\n    }\n    /**\n     * Renders a raw scenegraph object into view. This is mostly useful for internal debugging\n     * @param rawScene The raw scenegraph object to render\n     * @param options Charting options\n     */\n    renderScenegraph(rawScene, options = {}) {\n        try {\n            const scenegraph = scenegraph_1.parseScene(rawScene);\n            const intermediate = this.prerenderer.render(scenegraph, options);\n            return this.renderer.render(intermediate, {});\n        }\n        catch (err) {\n            console.log('error rendering scenegraph', err);\n            throw err;\n        }\n    }\n    /**\n     * Binds data to a scene and renders it into view.\n     * @param scene The scene to rendre\n     * @param options The chart options\n     * @param tables The charting data\n     */\n    renderScene(scene, options = {}, tables) {\n        try {\n            const sg = scene_1.createScenegraph(scene, tables, options);\n            const vdom = this.prerenderer.render(sg.root, options);\n            return this.renderer.render(vdom, sg.channelHandlers);\n        }\n        catch (err) {\n            console.log('error rendering scene', err);\n            throw err;\n        }\n    }\n}\nexports.Orchestrator = Orchestrator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst elements_1 = require(\"./elements\");\nconst registry_1 = require(\"./registry\");\nconst KNOWN_KEYS = [\n    'marktype',\n    'name',\n    'role',\n    'interactive',\n    'clip',\n    'items',\n    'zindex',\n    // layout\n    'x',\n    'y',\n    'width',\n    'height',\n    'align',\n    'baseline',\n    // fill\n    'fill',\n    'fillOpacity',\n    'opacity',\n    // stroke\n    'stroke',\n    'strokeOpacity',\n    'strokeWidth',\n    'strokeCap',\n    // stroke dash\n    'strokeDash',\n    'strokeDashOffset',\n    // arc\n    'startAngle',\n    'endAngle',\n    'innerRadius',\n    'outerRadius',\n    // arc, rect\n    'cornerRadius',\n    'padAngle',\n    // area, line\n    'interpolate',\n    'tension',\n    'orient',\n    'defined',\n    // image\n    'url',\n    // path\n    'path',\n    // rule\n    'x2',\n    'y2',\n    // symbol\n    'size',\n    'shape',\n    // text\n    'text',\n    'angle',\n    'theta',\n    'radius',\n    'dx',\n    'dy',\n    // font\n    'font',\n    'fontSize',\n    'fontWeight',\n    'fontStyle',\n    'fontVariant',\n];\nfunction sceneToJSON(scene, indent) {\n    return JSON.stringify(scene, KNOWN_KEYS, indent);\n}\nexports.sceneToJSON = sceneToJSON;\nfunction parseScene(json) {\n    const scene = typeof json === 'string' ? JSON.parse(json) : json;\n    return initializeMark(scene);\n}\nexports.parseScene = parseScene;\n/**\n * Unpack a raw scenegraph Mark node into the scenegraph object model\n * @param rawMark The raw mark object\n */\nfunction initializeMark(rawMark) {\n    const { marktype, role } = rawMark;\n    // Construct the output mark\n    const result = new elements_1.Mark();\n    result.marktype = marktype;\n    result.role = role;\n    result.items = (rawMark.items || []).map((rawItem) => {\n        const parentType = marktype ? interfaces_1.SGNodeType.Mark : interfaces_1.SGNodeType.Item;\n        // Initialize the data for this child node\n        const item = parentType === interfaces_1.SGNodeType.Mark\n            ? initializeItem(marktype, rawItem)\n            : initializeMark(rawItem);\n        // Set parentage information\n        item.parent = result;\n        item.parentType = parentType;\n        return item;\n    });\n    if (rawMark.hasOwnProperty('clip')) {\n        result.clip = rawMark.clip;\n    }\n    if (rawMark.hasOwnProperty('interactive')) {\n        result.interactive = rawMark.interactive;\n    }\n    return result;\n}\n/**\n * Unpack a raw scenegraph Item node into the scenegraph object model\n * @param marktype The mark type of the item\n * @param rawItem The raw item object\n */\nfunction initializeItem(marktype, rawItem) {\n    const result = registry_1.createItemType(marktype, rawItem);\n    // If this is a group item, populate the nested marks\n    if (result.itemtype === elements_1.GroupItem.ITEM_TYPE) {\n        const group = result;\n        const items = (rawItem.items || []).map((item) => initializeMark(item));\n        group.items = items;\n    }\n    return result;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * An enumeration for the possible mark types.\n * Possible values are\n * \t'arc',\n *  'area',\n *  'group',\n *  'image',\n *  'line',\n *  'path',\n *  'rect',\n *  'rule',\n *  'symbol',\n *  'text', and\n *  'trail'.\n */\nvar MarkType;\n(function (MarkType) {\n    MarkType[\"Arc\"] = \"arc\";\n    MarkType[\"Area\"] = \"area\";\n    MarkType[\"Group\"] = \"group\";\n    MarkType[\"Image\"] = \"image\";\n    MarkType[\"Line\"] = \"line\";\n    MarkType[\"Path\"] = \"path\";\n    MarkType[\"Rect\"] = \"rect\";\n    MarkType[\"Rule\"] = \"rule\";\n    MarkType[\"Symbol\"] = \"symbol\";\n    MarkType[\"Text\"] = \"text\";\n    MarkType[\"Trail\"] = \"trail\";\n    MarkType[\"Shape\"] = \"shape\";\n})(MarkType = exports.MarkType || (exports.MarkType = {}));\n/**\n * An enumeration for area marks. May be 'horizontal' or 'vertical'\n */\nvar Orientation;\n(function (Orientation) {\n    Orientation[\"Horizontal\"] = \"horizontal\";\n    Orientation[\"Vertical\"] = \"vertical\";\n})(Orientation = exports.Orientation || (exports.Orientation = {}));\n/**\n * Line interpolation types. These define if and how curves are\n * smoothed in line, area, and stream marks.\n */\nvar Interpolation;\n(function (Interpolation) {\n    Interpolation[\"Basis\"] = \"basis\";\n    Interpolation[\"Bundle\"] = \"bundle\";\n    Interpolation[\"Cardinal\"] = \"cardinal\";\n    Interpolation[\"CatmullRom\"] = \"catmull-rom\";\n    Interpolation[\"Linear\"] = \"linear\";\n    Interpolation[\"Monotone\"] = \"monotone\";\n    Interpolation[\"Natural\"] = \"natural\";\n    Interpolation[\"step\"] = \"step\";\n    Interpolation[\"stepAfter\"] = \"step-after\";\n    Interpolation[\"stepBefore\"] = \"step-before\";\n})(Interpolation = exports.Interpolation || (exports.Interpolation = {}));\n/**\n * Horizontal Alignment parameter for marks. Mostly useful for Text marks.\n */\nvar HorizontalAlignment;\n(function (HorizontalAlignment) {\n    HorizontalAlignment[\"Left\"] = \"left\";\n    HorizontalAlignment[\"Center\"] = \"center\";\n    HorizontalAlignment[\"Right\"] = \"right\";\n})(HorizontalAlignment = exports.HorizontalAlignment || (exports.HorizontalAlignment = {}));\n/**\n * Vertical Alignment enumeration for marks (Image and Text)\n */\nvar VerticalAlignment;\n(function (VerticalAlignment) {\n    VerticalAlignment[\"Top\"] = \"top\";\n    VerticalAlignment[\"Middle\"] = \"middle\";\n    VerticalAlignment[\"Bottom\"] = \"bottom\";\n})(VerticalAlignment = exports.VerticalAlignment || (exports.VerticalAlignment = {}));\n/**\n * Vertical Text Alignment parameter for Text marks.\n */\nvar VerticalTextAlignment;\n(function (VerticalTextAlignment) {\n    VerticalTextAlignment[\"Alphabetic\"] = \"alphabetic\";\n    VerticalTextAlignment[\"Top\"] = \"top\";\n    VerticalTextAlignment[\"Middle\"] = \"middle\";\n    VerticalTextAlignment[\"Bottom\"] = \"bottom\";\n})(VerticalTextAlignment = exports.VerticalTextAlignment || (exports.VerticalTextAlignment = {}));\n/**\n * An enumeration of the kinds of symbols the Symbol mark may represent.\n */\nvar SymbolType;\n(function (SymbolType) {\n    SymbolType[\"Circle\"] = \"circle\";\n    SymbolType[\"Square\"] = \"square\";\n    SymbolType[\"Cross\"] = \"cross\";\n    SymbolType[\"Diamond\"] = \"diamond\";\n    SymbolType[\"TriangleUp\"] = \"triangle-up\";\n    SymbolType[\"TriangleDown\"] = \"triangle-down\";\n    SymbolType[\"TriangleRight\"] = \"triangle-right\";\n    SymbolType[\"TriangleLeft\"] = \"triangle-left\";\n})(SymbolType = exports.SymbolType || (exports.SymbolType = {}));\n/**\n * An enumeration of the TextDirection values for Text marks.\n */\nvar TextDirection;\n(function (TextDirection) {\n    TextDirection[\"LTR\"] = \"ltr\";\n    TextDirection[\"RTL\"] = \"rtl\";\n})(TextDirection = exports.TextDirection || (exports.TextDirection = {}));\n/**\n * Stroke-cap style for Marks with lines.\n */\nvar StrokeCap;\n(function (StrokeCap) {\n    StrokeCap[\"Butt\"] = \"butt\";\n    StrokeCap[\"Round\"] = \"round\";\n    StrokeCap[\"Square\"] = \"square\";\n})(StrokeCap = exports.StrokeCap || (exports.StrokeCap = {}));\n/**\n * Stroke-join style for Marks with lines.\n */\nvar StrokeJoin;\n(function (StrokeJoin) {\n    StrokeJoin[\"Miter\"] = \"miter\";\n    StrokeJoin[\"Round\"] = \"round\";\n    StrokeJoin[\"Bevel\"] = \"bevel\";\n})(StrokeJoin = exports.StrokeJoin || (exports.StrokeJoin = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SGNodeType;\n(function (SGNodeType) {\n    SGNodeType[\"Mark\"] = \"mark\";\n    SGNodeType[\"Item\"] = \"item\";\n})(SGNodeType = exports.SGNodeType || (exports.SGNodeType = {}));\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./scene\"));\n__export(require(\"./axes\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MarkEncodingKey;\n(function (MarkEncodingKey) {\n    // Common encoding keys\n    MarkEncodingKey[\"x\"] = \"x\";\n    MarkEncodingKey[\"x2\"] = \"x2\";\n    MarkEncodingKey[\"xc\"] = \"xc\";\n    MarkEncodingKey[\"y\"] = \"y\";\n    MarkEncodingKey[\"y2\"] = \"y2\";\n    MarkEncodingKey[\"yc\"] = \"yc\";\n    MarkEncodingKey[\"width\"] = \"width\";\n    MarkEncodingKey[\"height\"] = \"height\";\n    MarkEncodingKey[\"opacity\"] = \"opacity\";\n    MarkEncodingKey[\"fill\"] = \"fill\";\n    MarkEncodingKey[\"fillOpacity\"] = \"fillOpacity\";\n    MarkEncodingKey[\"stroke\"] = \"stroke\";\n    MarkEncodingKey[\"strokeOpacity\"] = \"strokeOpacity\";\n    MarkEncodingKey[\"strokeWidth\"] = \"strokeWidth\";\n    MarkEncodingKey[\"strokeCap\"] = \"strokeCap\";\n    MarkEncodingKey[\"strokeDash\"] = \"strokeDash\";\n    MarkEncodingKey[\"strokeDashOffset\"] = \"strokeDashOffset\";\n    MarkEncodingKey[\"strokeJoin\"] = \"strokeJoin\";\n    MarkEncodingKey[\"strokeMiterLimit\"] = \"strokeMiterLimit\";\n    MarkEncodingKey[\"cursor\"] = \"cursor\";\n    MarkEncodingKey[\"href\"] = \"href\";\n    MarkEncodingKey[\"tooltip\"] = \"tooltip\";\n    MarkEncodingKey[\"zIndex\"] = \"zIndex\";\n    // Arc encoding keys\n    MarkEncodingKey[\"startAngle\"] = \"startAngle\";\n    MarkEncodingKey[\"endAngle\"] = \"endAngle\";\n    MarkEncodingKey[\"padAngle\"] = \"padAngle\";\n    MarkEncodingKey[\"innerRadius\"] = \"innerRadius\";\n    MarkEncodingKey[\"outerRadius\"] = \"outerRadius\";\n    MarkEncodingKey[\"cornerRadius\"] = \"cornerRadius\";\n    // Area encoding keys\n    MarkEncodingKey[\"orient\"] = \"orient\";\n    MarkEncodingKey[\"interpolate\"] = \"interpolate\";\n    MarkEncodingKey[\"tension\"] = \"tension\";\n    MarkEncodingKey[\"defined\"] = \"defined\";\n    // Group encoding keys\n    MarkEncodingKey[\"clip\"] = \"clip\";\n    // Image encoding keys\n    MarkEncodingKey[\"url\"] = \"url\";\n    MarkEncodingKey[\"aspect\"] = \"aspect\";\n    MarkEncodingKey[\"align\"] = \"align\";\n    MarkEncodingKey[\"baseline\"] = \"baseline\";\n    // Path encoding keys\n    MarkEncodingKey[\"path\"] = \"path\";\n    // Symbol encoding keys\n    MarkEncodingKey[\"size\"] = \"size\";\n    MarkEncodingKey[\"shape\"] = \"shape\";\n    // Text encoding keys\n    MarkEncodingKey[\"angle\"] = \"angle\";\n    MarkEncodingKey[\"dir\"] = \"dir\";\n    MarkEncodingKey[\"dx\"] = \"dx\";\n    MarkEncodingKey[\"dy\"] = \"dy\";\n    MarkEncodingKey[\"ellipsis\"] = \"ellipsis\";\n    MarkEncodingKey[\"font\"] = \"font\";\n    MarkEncodingKey[\"fontSize\"] = \"fontSize\";\n    MarkEncodingKey[\"fontWeight\"] = \"fontWeight\";\n    MarkEncodingKey[\"fontVariant\"] = \"fontVariant\";\n    MarkEncodingKey[\"fontStyle\"] = \"fontStyle\";\n    MarkEncodingKey[\"limit\"] = \"limit\";\n    MarkEncodingKey[\"radius\"] = \"radius\";\n    MarkEncodingKey[\"text\"] = \"text\";\n    MarkEncodingKey[\"theta\"] = \"theta\";\n    // Accessibility keys\n    MarkEncodingKey[\"ariaTitle\"] = \"aria-title\";\n    MarkEncodingKey[\"ariaDescription\"] = \"aria-description\";\n    MarkEncodingKey[\"tabIndex\"] = \"tab-index\";\n})(MarkEncodingKey = exports.MarkEncodingKey || (exports.MarkEncodingKey = {}));\nvar Dimension;\n(function (Dimension) {\n    Dimension[\"Height\"] = \"height\";\n    Dimension[\"Width\"] = \"width\";\n})(Dimension = exports.Dimension || (exports.Dimension = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AxisOrientation;\n(function (AxisOrientation) {\n    AxisOrientation[\"Top\"] = \"top\";\n    AxisOrientation[\"Left\"] = \"left\";\n    AxisOrientation[\"Bottom\"] = \"bottom\";\n    AxisOrientation[\"Right\"] = \"right\";\n})(AxisOrientation = exports.AxisOrientation || (exports.AxisOrientation = {}));\n// #region TODO: Support These Options?\n// /**\n//  * Indicates if labels should be hidden if they exceed the axis range. If false (the default) no bounds overlap analysis is performed.\n//  * If true, labels will be hidden if they exceed the axis range by more than 1 pixel.\n//  * If this property is a number, it specifies the pixel tolerance: the maximum amount by which a label bounding box may exceed the axis range.\n//  */\n// labelBound?: boolean | number\n// /**\n//  * The maximum allowed length in pixels of axis tick labels.\n//  */\n// labelLimit?: number\n// /**\n//  * The strategy to use for resolving overlap of axis labels. If false (the default), no overlap reduction is attempted.\n//  * If set to true or \"parity\", a strategy of removing every other label is used (this works well for standard linear axes).\n//  * If set to \"greedy\", a linear scan of the labels is performed, removing any label that overlaps with the last visible label (this often works better for log-scaled axes).\n//  */\n// labelOverlap?: boolean | string\n// /**\n//  * \tIndicates if labels at the beginning or end of the axis should be aligned flush with the scale range.\n//  * If a number, indicates a pixel distance threshold: labels with anchor coordinates within the threshold distance for an axis end-point will be flush-adjusted.\n//  * If true, a default threshold of 1 pixel is used. Flush alignment for a horizontal axis will left-align labels near the beginning of the axis and right-align\n//  * labels near the end. For vertical axes, bottom and top text baselines will be applied instead.\n//  */\n// labelFlush?: boolean | number\n// /**\n//  * Indicates the number of pixels by which to offset flush-adjusted labels (default 0). For example, a value of 2 will push flush-adjusted labels 2 pixels outward\n//  * from the center of the axis. Offsets can help the labels better visually group with corresponding axis ticks.\n//  */\n// labelFlushOffset?: number\n// Tick Count Options\n// export type TickUnit =\n// \t| 'millisecond'\n// \t| 'second'\n// \t| 'minute'\n// \t| 'hour'\n// \t| 'day'\n// \t| 'week'\n// \t| 'month'\n// \t| 'year'\n// export interface TickUnitInterval {\n// \tinterval: TickUnit\n// \tstep: number\n// }\n// #endregion\n// // encode? Object\tOptional mark encodings for custom axis styling. Supports encoding blocks for axis, ticks, grid, labels, title, and domain. See custom axis encodings.\n// /**\n//  * A boolean flag indicating if grid lines should be included as part of the axis (default false).\n//  */\n// grid?: boolean\n// /**\n//  * Color of axis grid lines.\n//  */\n// gridColor?: boolean\n// /**\n//  * Stroke dash of axis grid lines (or [] for solid lines).\n//  */\n// gridDash?: number[]\n// /**\n//  * Opacity of axis grid lines.\n//  */\n// gridOpacity?: number\n// /**\n//  * The name of the scale to use for including grid lines. By default grid lines are driven by the same scale as the ticks and labels.\n//  */\n// gridScale?: string\n// /**\n//  * \tStroke width of axis grid lines.\n//  */\n// gridWidth?: number\n// /**\n//  * The minimum extent in pixels that axis ticks and labels should use. This determines a minimum offset value for axis titles.\n//  */\n// minExtent?: number\n// /**\n//  * The maximum extent in pixels that axis ticks and labels should use. This determines a maximum offset value for axis titles.\n//  */\n// maxExtent?: number\n// /**\n//  * The orthogonal offset in pixels by which to displace the axis from its position along the edge of the chart.\n//  */\n// offset?: number\n// /**\n//  * The anchor position of the axis in pixels (default 0). For x-axes with top or bottom orientation, this sets the axis group x coordinate. For y-axes with left or right orientation, this sets the axis group y coordinate.\n//  */\n// position?: number\n// /**\n//  * A title for the axis (none by default).\n//  */\n// title?: string\n// /**\n//  * \tHorizontal text alignment of axis titles.\n//  */\n// titleAlign?: string\n// /**\n//  * \tAngle in degrees of axis titles.\n//  */\n// titleAngle?: number\n// /**\n//  * \tVertical text baseline for axis titles.\n//  */\n// titleBaseline?: string\n// /**\n//  * Text color of axis titles.\n//  */\n// titleColor?: string\n// /**\n//  * \tFont name for axis titles.\n//  */\n// titleFont?: string\n// /**\n//  * \tFont size of axis titles.\n//  */\n// titleFontSize?: number\n// /**\n//  * \tFont weight of axis titles.\n//  */\n// titleFontWeight?: string | number\n// /**\n//  * \tThe maximum allowed length in pixels of axis titles.\n//  */\n// titleLimit?: number\n// /**\n//  * \tThe padding in pixels between the axis labels and axis title.\n//  */\n// titlePadding?: number\n// /**\n//  * \tCustom X position of the axis title relative to the axis group, overriding the standard layout.\n//  */\n// titleX?: number\n// /**\n//  * \tCustom Y position of the axis title relative to the axis group, overriding the standard layout.\n//  */\n// titleY?: number\n// /**\n//  * The integer z-index indicating the layering of the axis group relative to other axis, mark and legend groups. The default value is 0 and axes and grid lines are drawn behind any marks defined in the same specification level. Higher values (1) will cause axes and grid lines to be drawn on top of marks.\n//  */\n// zindex?: number\n// #region TODO should we even support these options?\n// /**\n//  * Boolean flag indicating if an extra axis tick should be added for the initial position of the axis.\n//  * This flag is useful for styling axes for band scales such that ticks are placed on band boundaries rather in the middle of a band.\n//  * Use in conjunction with \"bandPostion\": 1 and an axis \"padding\" value of 0.\n//  */\n// tickExtra?: boolean\n// #endregion\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./getItemSpace\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * For marks that support width and height settings (including rect and area),\n * the horizontal dimensions are determined (in order of precedence) by the x and x2 properties,\n * the x and width properties, the x2 and width properties, or the xc and width properties.\n * If all three of x, x2 and width are specified, the width value is ignored.\n * The y, y2, yc and height properties are treated similarly.\n * @param item\n */\nfunction getItemSpace(item) {\n    const { x, xc, x2, y, yc, y2, width, height } = item;\n    const computeDimension = (low, high, center, span) => {\n        let origin;\n        let resultSpan;\n        // Snap dimensions to lower-bound first.\n        // Then try to snap to the upper bound.\n        // Then, if those don't exist, try to snap to the center and span\n        if (low !== undefined) {\n            if (high !== undefined) {\n                origin = Math.min(low, high);\n                resultSpan = Math.abs(high - low);\n            }\n            else if (span !== undefined) {\n                origin = low;\n                resultSpan = span;\n            }\n            else if (center !== undefined) {\n                origin = Math.min(low, center);\n                resultSpan = Math.abs(center - low) * 2;\n            }\n            else {\n                origin = low;\n            }\n        }\n        else if (high !== undefined) {\n            if (span !== undefined) {\n                origin = high - span;\n                resultSpan = span;\n            }\n            else if (center !== undefined) {\n                resultSpan = Math.abs(high - center) * 2;\n                origin =\n                    center < high ? high - (high - center) * 2 : center - (center - high);\n            }\n        }\n        else if (span !== undefined && center !== undefined) {\n            origin = center - span / 2;\n            resultSpan = span;\n        }\n        return [origin, resultSpan];\n    };\n    const [originX, resultWidth] = computeDimension(x, x2, xc, width);\n    const [originY, resultHeight] = computeDimension(y, y2, yc, height);\n    return {\n        origin: {\n            x: originX || 0,\n            y: originY || 0,\n        },\n        shape: {\n            width: resultWidth,\n            height: resultHeight,\n        },\n    };\n}\nexports.getItemSpace = getItemSpace;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./svg\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VSvgTransformType;\n(function (VSvgTransformType) {\n    VSvgTransformType[\"translate\"] = \"translate\";\n    VSvgTransformType[\"rotate\"] = \"rotate\";\n    VSvgTransformType[\"scale\"] = \"scale\";\n})(VSvgTransformType = exports.VSvgTransformType || (exports.VSvgTransformType = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_WIDTH = 250;\nexports.DEFAULT_HEIGHT = 250;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ArcItem_1 = require(\"./ArcItem\");\nexports.ArcItem = ArcItem_1.ArcItem;\nconst AreaItem_1 = require(\"./AreaItem\");\nexports.AreaItem = AreaItem_1.AreaItem;\nconst GroupItem_1 = require(\"./GroupItem\");\nexports.GroupItem = GroupItem_1.GroupItem;\nconst LineItem_1 = require(\"./LineItem\");\nexports.LineItem = LineItem_1.LineItem;\nconst PathItem_1 = require(\"./PathItem\");\nexports.PathItem = PathItem_1.PathItem;\nconst RectItem_1 = require(\"./RectItem\");\nexports.RectItem = RectItem_1.RectItem;\nconst RuleItem_1 = require(\"./RuleItem\");\nexports.RuleItem = RuleItem_1.RuleItem;\nconst SymbolItem_1 = require(\"./SymbolItem\");\nexports.SymbolItem = SymbolItem_1.SymbolItem;\nconst TextItem_1 = require(\"./TextItem\");\nexports.TextItem = TextItem_1.TextItem;\n// Register the core item types\nconst registry_1 = require(\"../../registry\");\nregistry_1.registerItemType(ArcItem_1.ArcItem);\nregistry_1.registerItemType(AreaItem_1.AreaItem);\nregistry_1.registerItemType(GroupItem_1.GroupItem);\nregistry_1.registerItemType(LineItem_1.LineItem);\nregistry_1.registerItemType(PathItem_1.PathItem);\nregistry_1.registerItemType(RectItem_1.RectItem);\nregistry_1.registerItemType(RuleItem_1.RuleItem);\nregistry_1.registerItemType(SymbolItem_1.SymbolItem);\nregistry_1.registerItemType(TextItem_1.TextItem);\n__export(require(\"./Item\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass ArcItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = ArcItem.ITEM_TYPE;\n        this.cornerRadius = 0;\n    }\n}\nArcItem.ITEM_TYPE = interfaces_1.MarkType.Arc;\nexports.ArcItem = ArcItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass AreaItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = AreaItem.ITEM_TYPE;\n        this.orient = interfaces_1.Orientation.Vertical;\n        this.interpolate = interfaces_1.Interpolation.Linear;\n    }\n}\nAreaItem.ITEM_TYPE = interfaces_1.MarkType.Area;\nexports.AreaItem = AreaItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass GroupItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = GroupItem.ITEM_TYPE;\n        this.cornerRadius = 0;\n        this.items = [];\n    }\n}\nGroupItem.ITEM_TYPE = interfaces_1.MarkType.Group;\nexports.GroupItem = GroupItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass LineItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = LineItem.ITEM_TYPE;\n        this.interpolate = interfaces_1.Interpolation.Linear;\n    }\n}\nLineItem.ITEM_TYPE = interfaces_1.MarkType.Line;\nexports.LineItem = LineItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass PathItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = PathItem.ITEM_TYPE;\n    }\n}\nPathItem.ITEM_TYPE = interfaces_1.MarkType.Path;\nexports.PathItem = PathItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass RectItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = RectItem.ITEM_TYPE;\n        this.cornerRadius = 0;\n    }\n}\nRectItem.ITEM_TYPE = interfaces_1.MarkType.Rect;\nexports.RectItem = RectItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass RuleItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = RuleItem.ITEM_TYPE;\n    }\n}\nRuleItem.ITEM_TYPE = interfaces_1.MarkType.Rule;\nexports.RuleItem = RuleItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass SymbolItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = SymbolItem.ITEM_TYPE;\n        this.shape = interfaces_1.SymbolType.Circle;\n    }\n}\nSymbolItem.ITEM_TYPE = interfaces_1.MarkType.Symbol;\nexports.SymbolItem = SymbolItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst Item_1 = require(\"./Item\");\nclass TextItem extends Item_1.Item {\n    constructor() {\n        super(...arguments);\n        this.itemtype = TextItem.ITEM_TYPE;\n        this.align = interfaces_1.HorizontalAlignment.Left;\n        this.angle = 0;\n        this.baseline = interfaces_1.VerticalTextAlignment.Alphabetic;\n        this.dir = interfaces_1.TextDirection.LTR;\n        this.ellipsis = '...';\n        this.limit = 0;\n        this.radius = 0;\n    }\n}\nTextItem.ITEM_TYPE = interfaces_1.MarkType.Text;\nexports.TextItem = TextItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst SceneNode_1 = require(\"./SceneNode\");\nclass Mark extends SceneNode_1.SceneNode {\n    constructor() {\n        super(...arguments);\n        this.nodetype = interfaces_1.SGNodeType.Mark;\n        this.items = [];\n    }\n}\nexports.Mark = Mark;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst factory_1 = require(\"./factory\");\nclass MarkBuilder {\n    constructor(markType) {\n        this.markType = markType;\n        this.itemsValue = [];\n    }\n    items(...values) {\n        this.itemsValue.push(...values.map(itemProps => factory_1.createItem(this.markType, itemProps)));\n        return this;\n    }\n    clip(value) {\n        this.clipValue = value;\n        return this;\n    }\n    interactive(value) {\n        this.interactiveValue = value;\n        return this;\n    }\n    role(value) {\n        this.roleValue = value;\n        return this;\n    }\n    name(value) {\n        this.nameValue = value;\n        return this;\n    }\n    zIndex(value) {\n        this.zIndexValue = value;\n        return this;\n    }\n    build() {\n        const result = factory_1.createMark(this.markType, this.itemsValue);\n        result.clip = this.clipValue;\n        result.interactive = this.interactiveValue;\n        result.role = this.roleValue;\n        result.name = this.nameValue;\n        result.zIndex = this.zIndexValue;\n        return result;\n    }\n}\nexports.MarkBuilder = MarkBuilder;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./VirtualSvgConverter\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst element_renderers_1 = require(\"./element_renderers\");\nconst interfaces_2 = require(\"./element_renderers/interfaces\");\nconst DEFAULT_BG_COLOR = 'transparent';\nconst DEFAULT_ORIGIN = [0, 0];\n/**\n * The VirtualSvgRender renders Scenegraph data into a serializable Virtual DOM.\n *\n * The Virtual Dom acts as an intermediate form that can be rendered out into many forms.\n */\nclass VirtualSvgConverter {\n    render(mark, options) {\n        const { width = interfaces_1.DEFAULT_WIDTH, height = interfaces_1.DEFAULT_HEIGHT, backgroundColor = DEFAULT_BG_COLOR, origin = DEFAULT_ORIGIN, ariaTitle, ariaDescription, } = options;\n        const [x = 0, y = 0] = origin;\n        // Create the rendering Context\n        let id = 0;\n        const context = {\n            nextId: () => `${++id}`,\n        };\n        // Get the rendering of the root mark\n        const root = element_renderers_1.renderMark(mark, context);\n        const children = [\n            {\n                type: 'defs',\n                children: root.defs,\n            },\n            {\n                type: 'g',\n                transforms: [interfaces_2.translate(x, y)],\n                children: root.nodes,\n            },\n        ];\n        // Wrap the rendered root in an SVG\n        const svg = {\n            type: 'svg',\n            attrs: {\n                width: width + x,\n                height: height + y,\n                /**\n                 * This allows screen-readers to pass over the svg\n                 * https://css-tricks.com/accessible-svgs/\n                 */\n                role: 'img',\n            },\n            ariaTitle,\n            ariaDescription,\n            metadata: {\n                id: 'root',\n            },\n            style: {\n                backgroundColor,\n            },\n            children,\n        };\n        return svg;\n    }\n}\nexports.VirtualSvgConverter = VirtualSvgConverter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst util_1 = require(\"./util\");\nconst path_1 = require(\"../path\");\nconst interfaces_2 = require(\"./interfaces\");\nclass ArcRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, ArcRenderer.TARGET_MARK_TYPE);\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Arc, mark.role, mark.items.map(item => {\n            const { x, y } = item;\n            const result = {\n                type: 'path',\n                attrs: Object.assign({}, util_1.commonProps(item), { d: path_1.arc(item) }),\n                ariaTitle: item.ariaTitle,\n                ariaDescription: item.ariaDescription,\n                transforms: [interfaces_2.translate(x || 0, y || 0)],\n                channels: item.channels,\n                metadata: item.metadata,\n            };\n            return result;\n        }));\n        return { nodes };\n    }\n}\nArcRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Arc;\nexports.ArcRenderer = ArcRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_shape_1 = require(\"d3-shape\");\nconst Rectangle_1 = require(\"./Rectangle\");\nconst symbols_1 = require(\"./symbols\");\nconst x = (item) => item.x || 0;\nconst x2 = (item) => item.x2 || 0;\nconst y = (item) => item.y || 0;\nconst y2 = (item) => item.y2 || 0;\nconst w = (item) => item.width || 0;\nconst h = (item) => item.height || 0;\nconst sa = (item) => item.startAngle || 0;\nconst ea = (item) => item.endAngle || 0;\nconst pa = (item) => item.padAngle || 0;\nconst ir = (item) => item.innerRadius || 0;\nconst or = (item) => item.outerRadius || 0;\nconst cr = (item) => item.cornerRadius || 0;\nconst def = (item) => item.defined == null ? true : item.defined;\nconst symbolSize = (item) => (item.size == null ? 64 : item.size);\nconst symbolType = (item) => symbols_1.default(item.shape || 'circle');\nexports.rectShape = new Rectangle_1.Rectangle(x, y, w, h, cr);\nexports.arcShape = d3_shape_1.arc()\n    .startAngle(sa)\n    .endAngle(ea)\n    .padAngle(pa)\n    .innerRadius(ir)\n    .outerRadius(or)\n    .cornerRadius(cr);\nexports.areahShape = d3_shape_1.area()\n    .x1(x)\n    .x0(x2)\n    .y(y)\n    .defined(def);\nexports.areavShape = d3_shape_1.area()\n    .y1(y)\n    .y0(y2)\n    .x(x)\n    .defined(def);\nexports.lineShape = d3_shape_1.line()\n    .x(x)\n    .y(y)\n    .defined(def);\nexports.symbolShape = d3_shape_1.symbol()\n    .type(symbolType)\n    .size(symbolSize);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_path_1 = require(\"d3-path\");\nclass Rectangle {\n    constructor(x = d => d.x || 0, y = d => d.y || 0, width = d => d.width || 0, height = d => d.height || 0, cornerRadius = d => d.cornerRadius || 0) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.cornerRadius = cornerRadius;\n    }\n    /**\n     * Draws out the Rectangle Shape\n     * @param d The bound datum\n     * @param x0 The offset x\n     * @param y0 The offset y\n     * @param context The drawing context (compatible with Canvas2DRenderingContext)\n     *\n     */\n    build(d, x0, y0, context) {\n        // tslint:disable-next-line no-this-assignment\n        const { x, y, width, height, cornerRadius } = this;\n        const x1 = x0 != null ? x0 : +x(d);\n        const y1 = y0 != null ? y0 : +y(d);\n        const w = +width(d);\n        const h = +height(d);\n        const cr = +cornerRadius(d);\n        if (!context) {\n            context = d3_path_1.path();\n        }\n        if (cr <= 0) {\n            context.rect(x1, y1, w, h);\n        }\n        else {\n            const x2 = x1 + w;\n            const y2 = y1 + h;\n            context.moveTo(x1 + cr, y1);\n            context.lineTo(x2 - cr, y1);\n            context.quadraticCurveTo(x2, y1, x2, y1 + cr);\n            context.lineTo(x2, y2 - cr);\n            context.quadraticCurveTo(x2, y2, x2 - cr, y2);\n            context.lineTo(x1 + cr, y2);\n            context.quadraticCurveTo(x1, y2, x1, y2 - cr);\n            context.lineTo(x1, y1 + cr);\n            context.quadraticCurveTo(x1, y1, x1 + cr, y1);\n            context.closePath();\n        }\n        return context;\n    }\n}\nexports.Rectangle = Rectangle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_path_1 = require(\"d3-path\");\nconst parse_1 = require(\"./parse\");\nconst render_1 = require(\"./render\");\nconst tau = 2 * Math.PI;\nconst halfSqrt3 = Math.sqrt(3) / 2;\nconst builtins = {\n    circle: {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const r = Math.sqrt(size) / 2;\n            context.moveTo(r, 0);\n            context.arc(0, 0, r, 0, tau);\n            return context;\n        },\n    },\n    cross: {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const r = Math.sqrt(size) / 2;\n            const s = r / 2.5;\n            context.moveTo(-r, -s);\n            context.lineTo(-r, s);\n            context.lineTo(-s, s);\n            context.lineTo(-s, r);\n            context.lineTo(s, r);\n            context.lineTo(s, s);\n            context.lineTo(r, s);\n            context.lineTo(r, -s);\n            context.lineTo(s, -s);\n            context.lineTo(s, -r);\n            context.lineTo(-s, -r);\n            context.lineTo(-s, -s);\n            context.closePath();\n            return context;\n        },\n    },\n    diamond: {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const r = Math.sqrt(size) / 2;\n            context.moveTo(-r, 0);\n            context.lineTo(0, -r);\n            context.lineTo(r, 0);\n            context.lineTo(0, r);\n            context.closePath();\n            return context;\n        },\n    },\n    square: {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const w = Math.sqrt(size);\n            const x = -w / 2;\n            context.rect(x, x, w, w);\n            return context;\n        },\n    },\n    'triangle-up': {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const r = Math.sqrt(size) / 2;\n            const h = halfSqrt3 * r;\n            context.moveTo(0, -h);\n            context.lineTo(-r, h);\n            context.lineTo(r, h);\n            context.closePath();\n            return context;\n        },\n    },\n    'triangle-down': {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const r = Math.sqrt(size) / 2;\n            const h = halfSqrt3 * r;\n            context.moveTo(0, h);\n            context.lineTo(-r, -h);\n            context.lineTo(r, -h);\n            context.closePath();\n            return context;\n        },\n    },\n    'triangle-right': {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const r = Math.sqrt(size) / 2;\n            const h = halfSqrt3 * r;\n            context.moveTo(h, 0);\n            context.lineTo(-h, -r);\n            context.lineTo(-h, r);\n            context.closePath();\n            return context;\n        },\n    },\n    'triangle-left': {\n        draw(context, size) {\n            if (!context) {\n                context = d3_path_1.path();\n            }\n            const r = Math.sqrt(size) / 2;\n            const h = halfSqrt3 * r;\n            context.moveTo(-h, 0);\n            context.lineTo(h, -r);\n            context.lineTo(h, r);\n            context.closePath();\n            return context;\n        },\n    },\n};\nfunction symbols(symbolName) {\n    return builtins.hasOwnProperty(symbolName)\n        ? builtins[symbolName]\n        : customSymbol(symbolName);\n}\nexports.default = symbols;\nconst custom = {};\nfunction customSymbol(symbolPath) {\n    if (!custom.hasOwnProperty(symbolPath)) {\n        const parsed = parse_1.default(symbolPath);\n        custom[symbolPath] = {\n            draw(context, size) {\n                if (!context) {\n                    context = d3_path_1.path();\n                }\n                render_1.default(context, parsed, 0, 0, Math.sqrt(size) / 2);\n                return context;\n            },\n        };\n    }\n    return custom[symbolPath];\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Path parsing and rendering code adapted from fabric.js -- Thanks!\nconst cmdlen = {\n    m: 2,\n    l: 2,\n    h: 1,\n    v: 1,\n    c: 6,\n    s: 4,\n    q: 4,\n    t: 2,\n    a: 7,\n};\nconst regexp = [/([MLHVCSQTAZmlhvcsqtaz])/g, /###/, /(\\d)([-+])/g, /\\s|,|###/];\nfunction default_1(pathstr) {\n    const result = [];\n    // First, break path into command sequence\n    const path = pathstr\n        .slice()\n        .replace(regexp[0], '###$1')\n        .split(regexp[1])\n        .slice(1);\n    // Next, parse each command in turn\n    path.forEach(command => {\n        const chunks = command\n            .slice(1)\n            .trim()\n            .replace(regexp[2], '$1###$2')\n            .split(regexp[3]);\n        const cmd = command.charAt(0);\n        const cmdLength = cmdlen[cmd.toLowerCase()];\n        const parsed = [cmd];\n        chunks.forEach(chunk => {\n            const param = +chunks;\n            if (param === param) {\n                // not NaN\n                parsed.push(param);\n            }\n        });\n        // Force the parameters into the expected command length\n        if (parsed.length - 1 > cmdLength) {\n            for (let i = 1; i < parsed.length; i += cmdLength) {\n                result.push([cmd].concat(parsed.slice(i, i + cmdLength)));\n            }\n        }\n        else {\n            result.push(parsed);\n        }\n    });\n    return result;\n}\nexports.default = default_1;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst arc_1 = require(\"./arc\");\nconst temp = ['l', 0, 0, 0, 0, 0, 0, 0];\nfunction scale(current, s) {\n    const c = (temp[0] = current[0]);\n    if (c === 'a' || c === 'A') {\n        temp[1] = s * current[1];\n        temp[2] = s * current[2];\n        temp[6] = s * current[6];\n        temp[7] = s * current[7];\n    }\n    else {\n        for (let i = 1, n = current.length; i < n; ++i) {\n            temp[i] = s * current[i];\n        }\n    }\n    return temp;\n}\nfunction default_1(context, path, l, t, s) {\n    let current; // current instruction\n    let previous = null;\n    let x = 0; // current x\n    let y = 0; // current y\n    let controlX = 0; // current control point x\n    let controlY = 0; // current control point y\n    let tempX;\n    let tempY;\n    let tempControlX;\n    let tempControlY;\n    if (l == null) {\n        l = 0;\n    }\n    if (t == null) {\n        t = 0;\n    }\n    if (s == null) {\n        s = 1;\n    }\n    if (context.beginPath) {\n        context.beginPath();\n    }\n    for (let i = 0, len = path.length; i < len; ++i) {\n        current = path[i];\n        if (s !== 1) {\n            current = scale(current, s);\n        }\n        switch (current[0] // first letter\n        ) {\n            case 'l': // lineto, relative\n                x += current[1];\n                y += current[2];\n                context.lineTo(x + l, y + t);\n                break;\n            case 'L': // lineto, absolute\n                x = current[1];\n                y = current[2];\n                context.lineTo(x + l, y + t);\n                break;\n            case 'h': // horizontal lineto, relative\n                x += current[1];\n                context.lineTo(x + l, y + t);\n                break;\n            case 'H': // horizontal lineto, absolute\n                x = current[1];\n                context.lineTo(x + l, y + t);\n                break;\n            case 'v': // vertical lineto, relative\n                y += current[1];\n                context.lineTo(x + l, y + t);\n                break;\n            case 'V': // verical lineto, absolute\n                y = current[1];\n                context.lineTo(x + l, y + t);\n                break;\n            case 'm': // moveTo, relative\n                x += current[1];\n                y += current[2];\n                context.moveTo(x + l, y + t);\n                break;\n            case 'M': // moveTo, absolute\n                x = current[1];\n                y = current[2];\n                context.moveTo(x + l, y + t);\n                break;\n            case 'c': // bezierCurveTo, relative\n                tempX = x + current[5];\n                tempY = y + current[6];\n                controlX = x + current[3];\n                controlY = y + current[4];\n                context.bezierCurveTo(x + current[1] + l, // x1\n                y + current[2] + t, // y1\n                controlX + l, // x2\n                controlY + t, // y2\n                tempX + l, tempY + t);\n                x = tempX;\n                y = tempY;\n                break;\n            case 'C': // bezierCurveTo, absolute\n                x = current[5];\n                y = current[6];\n                controlX = current[3];\n                controlY = current[4];\n                context.bezierCurveTo(current[1] + l, current[2] + t, controlX + l, controlY + t, x + l, y + t);\n                break;\n            case 's': // shorthand cubic bezierCurveTo, relative\n                // transform to absolute x,y\n                tempX = x + current[3];\n                tempY = y + current[4];\n                // calculate reflection of previous control points\n                controlX = 2 * x - controlX;\n                controlY = 2 * y - controlY;\n                context.bezierCurveTo(controlX + l, controlY + t, x + current[1] + l, y + current[2] + t, tempX + l, tempY + t);\n                // set control point to 2nd one of this command\n                // the first control point is assumed to be the reflection of\n                // the second control point on the previous command relative\n                // to the current point.\n                controlX = x + current[1];\n                controlY = y + current[2];\n                x = tempX;\n                y = tempY;\n                break;\n            case 'S': // shorthand cubic bezierCurveTo, absolute\n                tempX = current[3];\n                tempY = current[4];\n                // calculate reflection of previous control points\n                controlX = 2 * x - controlX;\n                controlY = 2 * y - controlY;\n                context.bezierCurveTo(controlX + l, controlY + t, current[1] + l, current[2] + t, tempX + l, tempY + t);\n                x = tempX;\n                y = tempY;\n                // set control point to 2nd one of this command\n                // the first control point is assumed to be the reflection of\n                // the second control point on the previous command relative\n                // to the current point.\n                controlX = current[1];\n                controlY = current[2];\n                break;\n            case 'q': // quadraticCurveTo, relative\n                // transform to absolute x,y\n                tempX = x + current[3];\n                tempY = y + current[4];\n                controlX = x + current[1];\n                controlY = y + current[2];\n                context.quadraticCurveTo(controlX + l, controlY + t, tempX + l, tempY + t);\n                x = tempX;\n                y = tempY;\n                break;\n            case 'Q': // quadraticCurveTo, absolute\n                tempX = current[3];\n                tempY = current[4];\n                context.quadraticCurveTo(current[1] + l, current[2] + t, tempX + l, tempY + t);\n                x = tempX;\n                y = tempY;\n                controlX = current[1];\n                controlY = current[2];\n                break;\n            case 't': // shorthand quadraticCurveTo, relative\n                // transform to absolute x,y\n                tempX = x + current[1];\n                tempY = y + current[2];\n                if (previous[0].match(/[QqTt]/) === null) {\n                    // If there is no previous command or if the previous command was not a Q, q, T or t,\n                    // assume the control point is coincident with the current point\n                    controlX = x;\n                    controlY = y;\n                }\n                else if (previous[0] === 't') {\n                    // calculate reflection of previous control points for t\n                    controlX = 2 * x - tempControlX;\n                    controlY = 2 * y - tempControlY;\n                }\n                else if (previous[0] === 'q') {\n                    // calculate reflection of previous control points for q\n                    controlX = 2 * x - controlX;\n                    controlY = 2 * y - controlY;\n                }\n                tempControlX = controlX;\n                tempControlY = controlY;\n                context.quadraticCurveTo(controlX + l, controlY + t, tempX + l, tempY + t);\n                x = tempX;\n                y = tempY;\n                controlX = x + current[1];\n                controlY = y + current[2];\n                break;\n            case 'T':\n                tempX = current[1];\n                tempY = current[2];\n                // calculate reflection of previous control points\n                controlX = 2 * x - controlX;\n                controlY = 2 * y - controlY;\n                context.quadraticCurveTo(controlX + l, controlY + t, tempX + l, tempY + t);\n                x = tempX;\n                y = tempY;\n                break;\n            case 'a':\n                drawArc(context, x + l, y + t, [\n                    current[1],\n                    current[2],\n                    current[3],\n                    current[4],\n                    current[5],\n                    current[6] + x + l,\n                    current[7] + y + t,\n                ]);\n                x += current[6];\n                y += current[7];\n                break;\n            case 'A':\n                drawArc(context, x + l, y + t, [\n                    current[1],\n                    current[2],\n                    current[3],\n                    current[4],\n                    current[5],\n                    current[6] + l,\n                    current[7] + t,\n                ]);\n                x = current[6];\n                y = current[7];\n                break;\n            case 'z':\n            case 'Z':\n                context.closePath();\n                break;\n        }\n        previous = current;\n    }\n}\nexports.default = default_1;\nfunction drawArc(context, x, y, coords) {\n    const seg = arc_1.segments(coords[5], // end x\n    coords[6], // end y\n    coords[0], // radius x\n    coords[1], // radius y\n    coords[3], // large flag\n    coords[4], // sweep flag\n    coords[2], // rotation\n    x, y);\n    seg.forEach((bez) => {\n        context.bezierCurveTo(bez[0], bez[1], bez[2], bez[3], bez[4], bez[5]);\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.segmentCache = {};\nexports.bezierCache = {};\nconst join = [].join;\n// Copied from Inkscape svgtopdf, thanks!\nfunction segments(x, y, rx, ry, large, sweep, rotateX, ox, oy) {\n    const key = join.call(arguments);\n    if (exports.segmentCache[key]) {\n        return exports.segmentCache[key];\n    }\n    const th = rotateX * (Math.PI / 180);\n    const sin_th = Math.sin(th);\n    const cos_th = Math.cos(th);\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n    const px = cos_th * (ox - x) * 0.5 + sin_th * (oy - y) * 0.5;\n    const py = cos_th * (oy - y) * 0.5 - sin_th * (ox - x) * 0.5;\n    let pl = px * px / (rx * rx) + py * py / (ry * ry);\n    if (pl > 1) {\n        pl = Math.sqrt(pl);\n        rx *= pl;\n        ry *= pl;\n    }\n    const a00 = cos_th / rx;\n    const a01 = sin_th / rx;\n    const a10 = -sin_th / ry;\n    const a11 = cos_th / ry;\n    const x0 = a00 * ox + a01 * oy;\n    const y0 = a10 * ox + a11 * oy;\n    const x1 = a00 * x + a01 * y;\n    const y1 = a10 * x + a11 * y;\n    const d = (x1 - x0) * (x1 - x0) + (y1 - y0) * (y1 - y0);\n    let sfactor_sq = 1 / d - 0.25;\n    if (sfactor_sq < 0) {\n        sfactor_sq = 0;\n    }\n    let sfactor = Math.sqrt(sfactor_sq);\n    if (sweep === large) {\n        sfactor = -sfactor;\n    }\n    const xc = 0.5 * (x0 + x1) - sfactor * (y1 - y0);\n    const yc = 0.5 * (y0 + y1) + sfactor * (x1 - x0);\n    const th0 = Math.atan2(y0 - yc, x0 - xc);\n    const th1 = Math.atan2(y1 - yc, x1 - xc);\n    let th_arc = th1 - th0;\n    if (th_arc < 0 && sweep === 1) {\n        th_arc += 2 * Math.PI;\n    }\n    else if (th_arc > 0 && sweep === 0) {\n        th_arc -= 2 * Math.PI;\n    }\n    const segs = Math.ceil(Math.abs(th_arc / (Math.PI * 0.5 + 0.001)));\n    const result = [];\n    for (let i = 0; i < segs; ++i) {\n        const th2 = th0 + i * th_arc / segs;\n        const th3 = th0 + (i + 1) * th_arc / segs;\n        result[i] = [xc, yc, th2, th3, rx, ry, sin_th, cos_th];\n    }\n    return (exports.segmentCache[key] = result);\n}\nexports.segments = segments;\nfunction bezier(params) {\n    const key = join.call(params);\n    if (exports.bezierCache[key]) {\n        return exports.bezierCache[key];\n    }\n    const cx = params[0];\n    const cy = params[1];\n    const th0 = params[2];\n    const th1 = params[3];\n    const rx = params[4];\n    const ry = params[5];\n    const sin_th = params[6];\n    const cos_th = params[7];\n    const a00 = cos_th * rx;\n    const a01 = -sin_th * ry;\n    const a10 = sin_th * rx;\n    const a11 = cos_th * ry;\n    const cos_th0 = Math.cos(th0);\n    const sin_th0 = Math.sin(th0);\n    const cos_th1 = Math.cos(th1);\n    const sin_th1 = Math.sin(th1);\n    const th_half = 0.5 * (th1 - th0);\n    const sin_th_h2 = Math.sin(th_half * 0.5);\n    const t = 8 / 3 * sin_th_h2 * sin_th_h2 / Math.sin(th_half);\n    const x1 = cx + cos_th0 - t * sin_th0;\n    const y1 = cy + sin_th0 + t * cos_th0;\n    const x3 = cx + cos_th1;\n    const y3 = cy + sin_th1;\n    const x2 = x3 + t * sin_th1;\n    const y2 = y3 - t * cos_th1;\n    return (exports.bezierCache[key] = [\n        a00 * x1 + a01 * y1,\n        a10 * x1 + a11 * y1,\n        a00 * x2 + a01 * y2,\n        a10 * x2 + a11 * y2,\n        a00 * x3 + a01 * y3,\n        a10 * x3 + a11 * y3,\n    ]);\n}\nexports.bezier = bezier;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_shape_1 = require(\"d3-shape\");\nconst lookup = {\n    basis: {\n        curve: d3_shape_1.curveBasis,\n    },\n    'basis-closed': {\n        curve: d3_shape_1.curveBasisClosed,\n    },\n    'basis-open': {\n        curve: d3_shape_1.curveBasisOpen,\n    },\n    bundle: {\n        curve: d3_shape_1.curveBundle,\n        tension: 'beta',\n        value: 0.85,\n    },\n    cardinal: {\n        curve: d3_shape_1.curveCardinal,\n        tension: 'tension',\n        value: 0,\n    },\n    'cardinal-open': {\n        curve: d3_shape_1.curveCardinalOpen,\n        tension: 'tension',\n        value: 0,\n    },\n    'cardinal-closed': {\n        curve: d3_shape_1.curveCardinalClosed,\n        tension: 'tension',\n        value: 0,\n    },\n    'catmull-rom': {\n        curve: d3_shape_1.curveCatmullRom,\n        tension: 'alpha',\n        value: 0.5,\n    },\n    'catmull-rom-closed': {\n        curve: d3_shape_1.curveCatmullRomClosed,\n        tension: 'alpha',\n        value: 0.5,\n    },\n    'catmull-rom-open': {\n        curve: d3_shape_1.curveCatmullRomOpen,\n        tension: 'alpha',\n        value: 0.5,\n    },\n    linear: {\n        curve: d3_shape_1.curveLinear,\n    },\n    'linear-closed': {\n        curve: d3_shape_1.curveLinearClosed,\n    },\n    monotone: {\n        horizontal: d3_shape_1.curveMonotoneY,\n        vertical: d3_shape_1.curveMonotoneX,\n    },\n    natural: {\n        curve: d3_shape_1.curveNatural,\n    },\n    step: {\n        curve: d3_shape_1.curveStep,\n    },\n    'step-after': {\n        curve: d3_shape_1.curveStepAfter,\n    },\n    'step-before': {\n        curve: d3_shape_1.curveStepBefore,\n    },\n};\nfunction curves(type, orientation, tension) {\n    const entry = lookup.hasOwnProperty(type) && lookup[type];\n    // let curve: CurveFactory | CurveBundleFactory\n    if (entry) {\n        const curveFactory = entry.curve || entry[orientation || 'vertical'];\n        if (entry.tension && tension != null) {\n            return curveFactory[entry.tension](tension);\n        }\n        else {\n            return curveFactory;\n        }\n    }\n    else {\n        throw new Error(`could not retrieve curveFactory type ${type}, orientation ${orientation}`);\n    }\n}\nexports.default = curves;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst util_1 = require(\"./util\");\nconst path_1 = require(\"../path\");\nclass AreaRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, AreaRenderer.TARGET_MARK_TYPE);\n        if (mark.items.map.length === 0) {\n            return { nodes: [] };\n        }\n        const areaItems = mark.items.map(a => {\n            const space = interfaces_1.getItemSpace(a);\n            const ai = a;\n            ai.width = space.shape.width;\n            ai.height = space.shape.height;\n            return ai;\n        });\n        const firstItem = mark.items[0];\n        const areaItem = {\n            type: 'path',\n            attrs: Object.assign({ d: path_1.area(areaItems) }, util_1.commonProps(firstItem)),\n            ariaTitle: firstItem.ariaTitle,\n            ariaDescription: firstItem.ariaDescription,\n            metadata: areaItems[0].metadata,\n            channels: areaItems[0].channels,\n        };\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Area, mark.role, [areaItem]);\n        return { nodes };\n    }\n}\nAreaRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Area;\nexports.AreaRenderer = AreaRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// tslint:disable no-submodule-imports\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst util_1 = require(\"./util\");\nconst index_1 = require(\"./index\");\nconst path_1 = require(\"../path\");\nconst interfaces_2 = require(\"./interfaces\");\nfunction flatMap(items, lambda) {\n    const mappedItems = items.map(lambda);\n    return Array.prototype.concat.apply([], mappedItems);\n}\n/**\n * Renders a group's \"rectangle\", which can have a fill and stroke\n * @param item\n */\nfunction renderGroupRectangle(item, space) {\n    const groupRectCommonProps = util_1.commonProps(item);\n    const originX = space.origin.x || 0;\n    const originY = space.origin.y || 0;\n    const rectItem = item;\n    rectItem.width = space.shape.width;\n    rectItem.height = space.shape.height;\n    const groupRectShape = {\n        d: path_1.rectangle(item, originX, originY).toString(),\n    };\n    const attrs = Object.assign({}, groupRectCommonProps, groupRectShape);\n    const { metadata, channels } = item;\n    const groupRect = {\n        type: 'path',\n        attrs,\n        metadata,\n        channels,\n        ariaTitle: item.ariaTitle,\n        ariaDescription: item.ariaDescription,\n    };\n    return groupRect;\n}\n/**\n * Renders children of the group\n * @param item The group item\n */\nfunction renderChildren(item, context) {\n    let nodes = [];\n    let defs = [];\n    const groupItems = item.items || [];\n    groupItems.forEach(m => {\n        const renderedChild = index_1.renderMark(m, context);\n        if (renderedChild.defs) {\n            defs = [...defs, ...renderedChild.defs];\n        }\n        nodes = [...nodes, ...renderedChild.nodes];\n    });\n    return { defs, nodes };\n}\nfunction renderGroup(item, space, children) {\n    const { channels, metadata } = item;\n    const group = {\n        type: 'g',\n        transforms: [interfaces_2.translate(space.origin.x, space.origin.y)],\n        children,\n        metadata,\n        channels,\n    };\n    return group;\n}\nfunction renderGroupClip(clipId, group, groupRect) {\n    const clipPath = {\n        type: 'clipPath',\n        attrs: {\n            id: clipId,\n        },\n        children: [groupRect],\n    };\n    group = {\n        type: 'g',\n        attrs: {\n            clipPath: `url(#${clipId})`,\n        },\n        children: [group],\n    };\n    return { clipPath, group };\n}\nclass GroupRenderer {\n    render(mark, context) {\n        util_1.assertTypeIs(mark, GroupRenderer.TARGET_MARK_TYPE);\n        const defs = [];\n        const nodes = flatMap(mark.items, (item) => {\n            const space = interfaces_1.getItemSpace(item);\n            // Render the Group's Rectangle\n            const groupRect = renderGroupRectangle(item, space);\n            // Render the Group's children\n            const { defs: groupDefs, nodes: groupChildren } = renderChildren(item, context);\n            defs.push(...(groupDefs || []));\n            // Render the group\n            let group = renderGroup(item, space, groupChildren);\n            // Handle if the group is clipped\n            if (item.clip) {\n                const { group: groupWrapper, clipPath } = renderGroupClip(`clip${context.nextId()}`, group, groupRect);\n                defs.push(clipPath);\n                group = groupWrapper;\n            }\n            return [groupRect, group];\n        });\n        return { nodes, defs };\n    }\n}\nGroupRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Group;\nexports.GroupRenderer = GroupRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst util_1 = require(\"./util\");\nconst path_1 = require(\"../path\");\nclass LineRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, LineRenderer.TARGET_MARK_TYPE);\n        if (mark.items.map.length === 0) {\n            return { nodes: [] };\n        }\n        const firstItem = mark.items[0];\n        const lineItem = {\n            type: 'path',\n            attrs: Object.assign({ d: path_1.line(mark.items) }, util_1.commonProps(firstItem)),\n            metadata: firstItem.metadata,\n            channels: firstItem.channels,\n            ariaTitle: firstItem.ariaTitle,\n            ariaDescription: firstItem.ariaDescription,\n        };\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Line, mark.role, [lineItem]);\n        return { nodes };\n    }\n}\nLineRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Line;\nexports.LineRenderer = LineRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst util_1 = require(\"./util\");\nconst interfaces_2 = require(\"./interfaces\");\nclass PathRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, PathRenderer.TARGET_MARK_TYPE);\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Path, mark.role, mark.items.map(item => {\n            const { x, y } = item;\n            const result = {\n                type: 'path',\n                attrs: Object.assign({}, util_1.commonProps(item), { d: item.path }),\n                transforms: [interfaces_2.translate(x || 0, y || 0)],\n                metadata: item.metadata,\n                channels: item.channels,\n                ariaTitle: item.ariaTitle,\n                ariaDescription: item.ariaDescription,\n            };\n            return result;\n        }));\n        return { nodes };\n    }\n}\nPathRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Path;\nexports.PathRenderer = PathRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst util_1 = require(\"./util\");\nconst path_1 = require(\"../path\");\nclass RectRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, RectRenderer.TARGET_MARK_TYPE);\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Rect, mark.role, mark.items.map(item => {\n            const { metadata, channels } = item;\n            const space = interfaces_1.getItemSpace(item);\n            const attrs = util_1.commonProps(item);\n            const rectItem = item;\n            rectItem.width = space.shape.width;\n            rectItem.height = space.shape.height;\n            attrs.d = path_1.rectangle(rectItem, space.origin.x, space.origin.y).toString();\n            const result = {\n                type: 'path',\n                attrs,\n                metadata,\n                channels,\n                ariaTitle: item.ariaTitle,\n                ariaDescription: item.ariaDescription,\n            };\n            return result;\n        }));\n        return { nodes };\n    }\n}\nRectRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Rect;\nexports.RectRenderer = RectRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst util_1 = require(\"./util\");\nconst interfaces_2 = require(\"./interfaces\");\nclass RuleRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, RuleRenderer.TARGET_MARK_TYPE);\n        // Render each item embedded in this mark\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Rule, mark.role, mark.items.map(item => {\n            const x = item.x || 0;\n            const y = item.y || 0;\n            const attrs = util_1.commonProps(item);\n            if (item.x2 !== undefined) {\n                attrs.x2 = item.x2 - x;\n            }\n            if (item.y2 !== undefined) {\n                attrs.y2 = item.y2 - y;\n            }\n            const result = {\n                type: 'line',\n                attrs,\n                transforms: [interfaces_2.translate(x, y)],\n                channels: item.channels,\n                metadata: item.metadata,\n                ariaTitle: item.ariaTitle,\n                ariaDescription: item.ariaDescription,\n            };\n            return result;\n        }));\n        return { nodes };\n    }\n}\nRuleRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Rule;\nexports.RuleRenderer = RuleRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst util_1 = require(\"./util\");\nconst path_1 = require(\"../path\");\nconst interfaces_2 = require(\"./interfaces\");\nclass SymbolRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, SymbolRenderer.TARGET_MARK_TYPE);\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Symbol, mark.role, mark.items.map(item => {\n            const { x = 0, y = 0 } = item;\n            const result = {\n                type: 'path',\n                attrs: Object.assign({}, util_1.commonProps(item), { d: path_1.symbol(item) }),\n                transforms: [interfaces_2.translate(x, y)],\n                metadata: item.metadata,\n                channels: item.channels,\n                ariaTitle: item.ariaTitle,\n                ariaDescription: item.ariaDescription,\n            };\n            return result;\n        }));\n        return { nodes };\n    }\n}\nSymbolRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Symbol;\nexports.SymbolRenderer = SymbolRenderer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst util_1 = require(\"./util\");\nconst interfaces_2 = require(\"./interfaces\");\nconst alignments = { left: 'start', center: 'middle', right: 'end' };\nconst DEFAULT_FONT_SIZE = 11;\nconst DEFAULT_FONT_FAMILY = 'sans-serif';\nfunction calculateTextOrigin({ x, y, baseline, fontSize, radius = 0, theta = 0, }) {\n    x = x || 0;\n    y = y || 0;\n    if (radius) {\n        const t = theta - Math.PI / 2;\n        x += radius * Math.cos(t);\n        y += radius * Math.sin(t);\n    }\n    return [x, y];\n}\nfunction calculateBaseline(alignment) {\n    switch (alignment) {\n        case interfaces_1.VerticalTextAlignment.Top:\n            return 'hanging';\n        case interfaces_1.VerticalTextAlignment.Middle:\n            return 'central';\n        case interfaces_1.VerticalTextAlignment.Bottom:\n            return 'baseline';\n        default:\n            return undefined;\n    }\n}\nfunction getTextTransforms(item) {\n    const origin = calculateTextOrigin(item);\n    const transforms = [];\n    if (item.angle !== undefined) {\n        transforms.push(interfaces_2.translate(origin[0], origin[1]), interfaces_2.rotate(item.angle));\n        if (item.dx !== undefined || item.dy !== undefined) {\n            transforms.push(interfaces_2.translate(item.dx || 0, item.dy || 0));\n        }\n    }\n    else {\n        transforms.push(interfaces_2.translate(origin[0] + (item.dx || 0) || 0, origin[1] + (item.dy || 0) || 0));\n    }\n    return transforms;\n}\nclass TextRenderer {\n    render(mark) {\n        util_1.assertTypeIs(mark, TextRenderer.TARGET_MARK_TYPE);\n        const nodes = util_1.emitMarkGroup(interfaces_1.MarkType.Text, mark.role, mark.items.map(item => {\n            const attrs = Object.assign({}, util_1.commonProps(item), { alignmentBaseline: calculateBaseline(item.baseline) });\n            if (item.align) {\n                attrs.textAnchor = alignments[item.align];\n            }\n            const children = item.text !== undefined ? ['' + item.text] : undefined;\n            const result = {\n                type: 'text',\n                attrs,\n                style: {\n                    fontSize: item.fontSize || DEFAULT_FONT_SIZE,\n                    fontFamily: item.font || DEFAULT_FONT_FAMILY,\n                    fontWeight: item.fontWeight,\n                    fontStyle: item.fontStyle,\n                    fontVariant: item.fontVariant,\n                },\n                transforms: getTextTransforms(item),\n                metadata: item.metadata,\n                channels: item.channels,\n                ariaTitle: item.ariaTitle,\n                ariaDescription: item.ariaDescription,\n                children,\n            };\n            return result;\n        }));\n        return { nodes };\n    }\n}\nTextRenderer.TARGET_MARK_TYPE = interfaces_1.MarkType.Text;\nexports.TextRenderer = TextRenderer;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./scene\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst builder_1 = require(\"@chart-parts/builder\");\nconst SceneFrame_1 = require(\"./SceneFrame\");\nconst processNode_1 = require(\"./processNode\");\n/**\n * Builds a new scenegraph instance by binding data to a scene specification.\n *\n * @param data The data to bind with\n */\nfunction createScenegraph(root, data, options) {\n    const optionsManager = new builder_1.ChartOptionsManager(options);\n    const width = optionsManager.chartSpace.shape.width;\n    const height = optionsManager.chartSpace.shape.height;\n    const emptyNode = undefined;\n    const rootFrame = new SceneFrame_1.SceneFrame(emptyNode, undefined, data, {\n        width,\n        height,\n    });\n    return {\n        root: processNode_1.processNode(root, rootFrame)[0],\n        channelHandlers: rootFrame.channelHandlers,\n    };\n}\nexports.createScenegraph = createScenegraph;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst DEFAULT_COLOR = '#777';\nconst DEFAULT_TEXT_COLOR = '#000';\nconst DEFAULT_STROKE = 1;\nconst DEFAULT_TICK_SIZE = 5;\nconst DEFAULT_FONT_SIZE = 10;\nconst DEFAULT_FONT = 'sans-serif';\nconst DEFAULT_LABEL_PADDING = 1;\nconst DEFAULT_BAND_POSITION = 0.5;\nconst DEFAULT_THICKNESS = 25;\nclass AxisBuilder {\n    // #endregion\n    constructor(scaleName, orientValue) {\n        this.scaleName = scaleName;\n        this.orientValue = orientValue;\n        this.thicknessValue = DEFAULT_THICKNESS;\n        // #region Domain Configuration Fields\n        this.domainValue = true;\n        this.domainColorValue = DEFAULT_COLOR;\n        this.domainWidthValue = DEFAULT_STROKE;\n        // #endregion\n        // #region Tick Configuration Fields\n        this.ticksValue = true;\n        this.tickColorValue = DEFAULT_COLOR;\n        this.tickOffsetValue = 0;\n        this.tickRoundValue = false;\n        this.tickSizeValue = DEFAULT_TICK_SIZE;\n        this.tickWidthValue = DEFAULT_STROKE;\n        // #endregion\n        // #region Label Configuration Fields\n        this.labelsValue = true;\n        this.labelFontValue = DEFAULT_FONT;\n        this.labelFontSizeValue = DEFAULT_FONT_SIZE;\n        this.labelColorValue = DEFAULT_TEXT_COLOR;\n        this.labelPaddingValue = DEFAULT_LABEL_PADDING;\n        this.bandPositionValue = DEFAULT_BAND_POSITION;\n        if (!this.scaleName) {\n            throw new Error('scale name must be defined');\n        }\n        if (!this.orientValue) {\n            throw new Error('axis orientation must be defined');\n        }\n    }\n    // #region Domain Configuration\n    domain(value) {\n        this.domainValue = value;\n        return this;\n    }\n    domainWidth(value) {\n        this.domainWidthValue = value;\n        return this;\n    }\n    domainColor(value) {\n        this.domainColorValue = value;\n        return this;\n    }\n    // #endregion\n    // #region Tick Configuration\n    ticks(value) {\n        this.ticksValue = value;\n        return this;\n    }\n    tickColor(value) {\n        this.tickColorValue = value;\n        return this;\n    }\n    tickCount(value) {\n        this.tickCountValue = value;\n        return this;\n    }\n    tickOffset(value) {\n        this.tickOffsetValue = value;\n        return this;\n    }\n    tickRound(value) {\n        this.tickRoundValue = value;\n        return this;\n    }\n    tickSize(value) {\n        this.tickSizeValue = value;\n        return this;\n    }\n    tickWidth(value) {\n        this.tickWidthValue = value;\n        return this;\n    }\n    bandPosition(value) {\n        this.bandPositionValue = value;\n        return this;\n    }\n    values(values) {\n        this.tickValues = values;\n        return this;\n    }\n    // #endregion\n    // #region Labels Configuratino\n    labels(value) {\n        this.labelsValue = value;\n        return this;\n    }\n    labelFont(value) {\n        this.labelFontValue = value;\n        return this;\n    }\n    labelFontSize(value) {\n        this.labelFontSizeValue = value;\n        return this;\n    }\n    labelColor(value) {\n        this.labelColorValue = value;\n        return this;\n    }\n    labelPadding(value) {\n        this.labelPaddingValue = value;\n        return this;\n    }\n    labelFontWeight(value) {\n        this.labelFontWeightValue = value;\n        return this;\n    }\n    labelAngle(value) {\n        this.labelAngleValue = value;\n        return this;\n    }\n    labelFormat(value) {\n        this.labelFormatValue = value;\n        return this;\n    }\n    thickness(value) {\n        this.thicknessValue = value;\n        return this;\n    }\n    // #endregion\n    build() {\n        return {\n            scale: this.scaleName,\n            orient: this.orientValue,\n            domain: this.domainValue,\n            domainWidth: this.domainWidthValue,\n            domainColor: this.domainColorValue,\n            ticks: this.ticksValue,\n            tickCount: this.tickCountValue,\n            tickColor: this.tickColorValue,\n            tickOffset: this.tickOffsetValue,\n            tickRound: this.tickRoundValue,\n            tickSize: this.tickSizeValue,\n            tickWidth: this.tickWidthValue,\n            values: this.tickValues,\n            labels: this.labelsValue,\n            labelFont: this.labelFontValue,\n            labelFontSize: this.labelFontSizeValue,\n            labelColor: this.labelColorValue,\n            labelPadding: this.labelPaddingValue,\n            labelAlign: this.labelAlignValue,\n            labelFontWeight: this.labelFontWeightValue,\n            bandPosition: this.bandPositionValue,\n            labelAngle: this.labelAngleValue,\n            labelFormat: this.labelFormatValue,\n            thickness: this.thicknessValue,\n        };\n    }\n}\nexports.AxisBuilder = AxisBuilder;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * The scene frame is analagous to a stack-frame - it contains contextual\n * information for a section of a scene, including dimensions, scales, data, and event handlers\n */\nclass SceneFrame {\n    constructor(node, mark, data, view, viewTL = [0, 0], viewBR = [view.height, view.width], scales = {}, channels = {}, channelId = 0, channelHandlers = {}, boundDataItem = {}, parentId = '') {\n        this.node = node;\n        this.mark = mark;\n        this.data = data;\n        this.view = view;\n        this.viewTL = viewTL;\n        this.viewBR = viewBR;\n        this.scales = scales;\n        this.channels = channels;\n        this.channelId = channelId;\n        this.channelHandlers = channelHandlers;\n        this.boundDataItem = boundDataItem;\n        this.parentId = parentId;\n    }\n    /**\n     * Pushes a new scene frame with a given scene node; recomputes scales.\n     */\n    pushNode(node) {\n        const scales = this.getRecomputedScales(node, this.viewTL, this.viewBR);\n        return new SceneFrame(node, undefined, this.data, this.view, this.viewTL, this.viewBR, scales, {}, this.channelId, this.channelHandlers, this.boundDataItem, this.parentId);\n    }\n    /**\n     * Pushes a new mark context.\n     */\n    pushMark(mark) {\n        const channels = this.registerChannels(mark.channels);\n        return new SceneFrame(this.node, mark, this.data, this.view, this.viewTL, this.viewBR, this.scales, channels, this.channelId, this.channelHandlers, this.boundDataItem, `${this.parentId}.${mark.name || mark.type}`);\n    }\n    /**\n     * Push data into a new frame\n     * @param data The new data tables eto register\n     * @param facetKey If present, registers the current facet key for id generation\n     */\n    pushData(data, facetKey) {\n        const dataFrame = Object.assign({}, this.data, data);\n        const id = facetKey ? `${this.parentId}.facet(${facetKey})` : this.parentId;\n        return new SceneFrame(this.node, this.mark, dataFrame, this.view, this.viewTL, this.viewBR, this.scales, this.channels, this.channelId, this.channelHandlers, this.boundDataItem, id);\n    }\n    /**\n     * Pushes a new sceneframe with an updated viewspace. Recomputes scales.\n     *\n     * @param view The new view to push. This is the size of the group that will be inserted\n     * @param viewTL The top-left of the draw-area within the view. This does not affect the emitted\n     * group, but does affect draw-scales\n     * @param viewBR The bottom-right of the draw-area within the view. This does not affect the emitted\n     * group, but does affect draw-scales\n     */\n    pushView(view, viewTL = [0, 0], viewBR = [view.height, view.width]) {\n        // if the view has not changed, then don't return a new frame - recomputing the\n        // scales can be expensive\n        if (areViewSizesEqual(view, this.view) &&\n            areCoordsEqual(viewTL, this.viewTL)) {\n            return this;\n        }\n        const scales = this.getRecomputedScales(this.node, viewTL, viewBR);\n        return new SceneFrame(this.node, this.mark, this.data, view, viewTL, viewBR, scales, this.channels, this.channelId, this.channelHandlers, this.boundDataItem, this.parentId);\n    }\n    /**\n     * Pushes a new data item to bind to\n     * @param dataItem The data item to bind to\n     */\n    pushBoundDataItem(dataItem) {\n        return new SceneFrame(this.node, this.mark, this.data, this.view, this.viewTL, this.viewBR, this.scales, this.channels, this.channelId, this.channelHandlers, dataItem, this.parentId);\n    }\n    getRecomputedScales(node, viewTL, viewBR) {\n        const data = this.data;\n        let scales = Object.assign({}, this.scales);\n        const xBounds = [viewTL[1], viewBR[1]];\n        const yBounds = [viewBR[0], viewTL[0]];\n        node.scales.forEach(creator => {\n            const args = {\n                view: this.view,\n                viewBounds: { x: xBounds, y: yBounds },\n                data,\n                scales,\n            };\n            const newScales = creator(args);\n            scales = Object.assign({}, scales, newScales);\n        });\n        return scales;\n    }\n    registerChannels(channels) {\n        // For each channel the client specifies, encode the name-mapping in the Scenegraph and\n        // map the handler function in our scene result\n        return Object.entries(channels).reduce((prev, [eventName, handler]) => {\n            prev[eventName] = this.registerHandler(handler);\n            return prev;\n        }, {});\n    }\n    registerHandler(handler) {\n        const id = `evt${this.channelId++}`;\n        this.channelHandlers[id] = handler;\n        return id;\n    }\n}\nexports.SceneFrame = SceneFrame;\nfunction areViewSizesEqual(a, b) {\n    return a.height === b.height && a.width === b.width;\n}\nfunction areCoordsEqual(a, b) {\n    return a[0] === b[0] && a[1] === b[1];\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scenegraph_1 = require(\"@chart-parts/scenegraph\");\nconst createBoundItem_1 = require(\"./createBoundItem\");\nfunction processMark(mark, frame) {\n    const markFrame = frame.pushMark(mark);\n    const boundData = getBoundData(mark, markFrame);\n    const items = createItems(markFrame, boundData);\n    return scenegraph_1.createMark(mark.type, items);\n}\nexports.processMark = processMark;\nfunction createItems(frame, boundData) {\n    if (Array.isArray(boundData)) {\n        return createItemPerDataRow(frame, boundData);\n    }\n    return createItemPerFacet(frame, boundData);\n}\n/**\n * Creates one scenegraph item per facet partition\n *\n * @param frame The current scene frame\n * @param partitions the item faceting configuration\n */\nfunction createItemPerFacet(frame, { name, keyRowName, facets }) {\n    return facets.map((facet, index) => {\n        const newData = {\n            [name]: facet.data,\n        };\n        if (keyRowName) {\n            newData[keyRowName] = facet.parent;\n        }\n        const facetFrame = frame.pushData(newData, facet.key);\n        return createBoundItem_1.createBoundItem(facetFrame, facet.parent || facet.data, index, facets);\n    });\n}\n/**\n * Creates one sceengraph item per row in a data-table\n * @param frame The current scene frame\n * @param data The data table\n */\nfunction createItemPerDataRow(frame, data) {\n    return data.map((row, index) => createBoundItem_1.createBoundItem(frame, row, index, data));\n}\n/**\n * Gets the bound data for a mark.\n * * If the mark is a singleton, this will return an array with a single sentinel object.\n * * If the mark is not faceted, this will return the source table specified by the mark\n * * If the mark is faceted, this will return a partition set, with data for each facet partition.\n *\n * @param mark The mark to bind data to\n * @param dataFrame The current data-frame, which provides data-sets at this scope\n */\nfunction getBoundData(mark, frame) {\n    const { singleton, table, facet } = mark;\n    // If the table is unset, render as a singleton of the existing bound data-item\n    if (singleton) {\n        return [frame.boundDataItem];\n    }\n    if (!table && !facet) {\n        throw new Error(`unfaceted mark must either have singleton set to true or have no data defined, name=${mark.name} type=${mark.type}`);\n    }\n    const markSourceTable = frame.data[table];\n    if (facet) {\n        const facetSourceTable = facet.table || table;\n        if (!facetSourceTable) {\n            throw new Error('mark does not have table or faceting table defined');\n        }\n        const facetSource = frame.data[facetSourceTable];\n        if (facet.groupBy) {\n            return createFacetedData(facet, facetSource, markSourceTable);\n        }\n        else {\n            throw new Error('faceting must groupBy defined');\n        }\n    }\n    else {\n        if (!markSourceTable) {\n            throw new Error(`could not find table ${table}`);\n        }\n        return markSourceTable;\n    }\n}\nfunction createFacetedData(facet, facetSourceTable, markSourceTable) {\n    const getKey = keyGetter(facet.groupBy);\n    const facetMap = new Map();\n    const markMap = new Map();\n    const facets = [];\n    // If the mark source table is defineod, then the rows _should_ represent\n    // aggregations over the facet source table, so try to link them up\n    // start by mapping them by key\n    if (markSourceTable) {\n        markSourceTable.forEach(markRow => {\n            const key = getKey(markRow);\n            markMap.set(key, markRow);\n        });\n    }\n    // Map the data from the facet source table into the faceting structure\n    facetSourceTable.forEach((row) => {\n        const key = getKey(row);\n        if (!facetMap.has(key)) {\n            const parent = markMap.get(key);\n            const newFacet = {\n                data: [],\n                key,\n                parent,\n            };\n            facets.push(newFacet);\n            facetMap.set(key, newFacet);\n        }\n        const f = facetMap.get(key);\n        f.data.push(row);\n    });\n    // Return the faceting results\n    const result = {\n        name: facet.name,\n        keyRowName: facet.keyRowName,\n        facets,\n    };\n    return result;\n}\nfunction keyGetter(groupBy) {\n    if (typeof groupBy === 'function') {\n        return groupBy;\n    }\n    else {\n        const groupByKeys = typeof groupBy === 'string' ? [groupBy] : groupBy;\n        return (row) => groupByKeys.map(g => row[g]).join('|');\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst scenegraph_1 = require(\"@chart-parts/scenegraph\");\nconst processNode_1 = require(\"../processNode\");\n/**\n * Creates a scenegraph item bound to a data row\n *\n * @param frame The current scene frame\n * @param row The data row\n * @param index The data row index\n * @param table The data table\n */\nfunction createBoundItem(frame, row, index, table) {\n    const mark = frame.mark;\n    const item = createItemFromMark(mark, row, index, table, frame);\n    if (mark.type !== interfaces_1.MarkType.Group) {\n        return item;\n    }\n    // Update the view and recompute scales\n    const itemSpace = interfaces_1.getItemSpace(item);\n    const drawRect = getNextDrawRect(itemSpace, frame.view);\n    const nextView = {\n        width: drawRect.right - drawRect.left,\n        height: drawRect.bottom - drawRect.top,\n    };\n    const itemFrame = frame.pushView(nextView).pushBoundDataItem(row);\n    // Mash in the children and the bounds\n    const items = mark.child ? processNode_1.processNode(mark.child, itemFrame) : [];\n    const groupItem = Object.assign({}, item, { items, x: drawRect.left, y: drawRect.top, x2: drawRect.right, y2: drawRect.bottom });\n    return groupItem;\n}\nexports.createBoundItem = createBoundItem;\n/**\n * Creates a scenegraph item for a giver mark\n * @param mark The mark being used to specify the new item\n * @param row The data row bound to the mark\n * @param index The index of the data-row relative to its table\n * @param data The data table containing the row bound to the mark\n * @param channelNames The event-handling channel names to attach to this item\n * @param scales The current scale frame, required to encode item properties\n * @param dataFrame The current data frame, required to encode item properties\n */\nfunction createItemFromMark(mark, row, index, data, frame) {\n    const { type, encodings, name, role, idGenerator } = mark;\n    const id = `${frame.parentId}.${getItemId(row, index, data, idGenerator)}`;\n    const context = getEncodingContext(id, row, index, frame);\n    let metadata = {};\n    if (mark.metadata) {\n        metadata = mark.metadata(context);\n    }\n    const props = Object.assign({}, transferEncodings(encodings, context), { name,\n        role, metadata: Object.assign({ index, id }, metadata), channels: frame.channels });\n    return scenegraph_1.createItem(type, props);\n}\nfunction getItemId(row, index, data, idGenerator) {\n    if (!idGenerator) {\n        return `${index}`;\n    }\n    else {\n        return idGenerator(row, index, data);\n    }\n}\n/**\n * Computes the draw-rectangle for a group given its item-space and it's parent's draw space.\n *\n * It's important to note that these are a group's dimensions, because they will greedily\n * use parent space if their space has not been specified\n *\n * @param space The space measured for the group item\n * @param drawRect\n */\nfunction getNextDrawRect(space, viewSize) {\n    const { width: availableWidth, height: availableHeight } = viewSize;\n    const { origin: { x = 0, y = 0 }, shape: { width = availableWidth, height = availableHeight }, } = space;\n    const top = y;\n    const left = x;\n    const right = left + width;\n    const bottom = top + height;\n    return {\n        top,\n        left,\n        bottom,\n        right,\n    };\n}\nfunction transferEncodings(encodings, context) {\n    const props = {};\n    Object.keys(encodings)\n        .filter(t => t !== 'items')\n        .forEach(key => {\n        const encoding = encodings[key];\n        if (encoding) {\n            const value = encoding(context);\n            props[key] = value;\n        }\n    });\n    return props;\n}\nfunction getEncodingContext(id, d, index, frame) {\n    const encodingContext = Object.assign({ id,\n        d,\n        index, view: frame.view }, frame.data, frame.scales);\n    return encodingContext;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst buildAxis_1 = require(\"../axes/buildAxis\");\n/**\n * TODO: Store these defaults in a unified place\n */\nconst DEFAULT_AXIS_THICKNESS = 25;\n/**\n * Builds axes into a screen frame\n * @param node The current scene node\n * @param frame Thec curren scene frame\n */\nfunction buildAxes(node, frame) {\n    // If no axes are present, return an empty axis array and an unchanged view\n    if (node.axes.length === 0) {\n        return {\n            axes: [],\n            remainingSpace: { origin: { x: 0, y: 0 }, shape: frame.view },\n        };\n    }\n    const axisSpace = getAxisSpace(frame);\n    const axes = node.axes.map(axis => buildAxis_1.buildAxis(axis, frame, axisSpace));\n    // Build the frame here so that the marks have updated scales\n    const remainingSpace = getRemainingSpace(frame, axisSpace);\n    return {\n        axes,\n        remainingSpace,\n    };\n}\nexports.buildAxes = buildAxes;\nfunction getRemainingSpace(frame, axisSpace) {\n    const { width: availableWidth = 0, height: availableHeight = 0 } = frame.view;\n    // Build the frame here so that the marks have updated scales\n    const remainingSpace = {\n        origin: {\n            x: axisSpace.left,\n            y: axisSpace.top,\n        },\n        shape: {\n            width: availableWidth - axisSpace.left - axisSpace.right,\n            height: availableHeight - axisSpace.top - axisSpace.bottom,\n        },\n    };\n    return remainingSpace;\n}\n/**\n * Gets the space consumed by the axes. Each key is an axis orientation, and the values are their respective thickness\n * @param frame\n */\nfunction getAxisSpace(frame) {\n    /**\n     * Hard space is space required by an axis. Soft space is space\n     * required for labels to not bleed over the edge. Soft space is only used\n     * if hard space is zero.\n     */\n    const space = {\n        top: {\n            hard: 0,\n            soft: 0,\n        },\n        left: {\n            hard: 0,\n            soft: 0,\n        },\n        bottom: {\n            hard: 0,\n            soft: 0,\n        },\n        right: {\n            hard: 0,\n            soft: 0,\n        },\n    };\n    frame.node.axes.forEach(a => {\n        const thickness = axisThickness(a);\n        const fontSize = a.labelFontSize;\n        const fontPad = fontSize / 2;\n        switch (a.orient) {\n            case interfaces_1.AxisOrientation.Top:\n                space.top.hard = Math.max(space.top.hard, thickness);\n                break;\n            case interfaces_1.AxisOrientation.Right:\n                space.right.hard = Math.max(space.right.hard, thickness);\n                space.top.soft = Math.max(space.top.soft, fontPad);\n                space.bottom.soft = Math.max(space.top.soft, fontPad);\n                break;\n            case interfaces_1.AxisOrientation.Bottom:\n                space.bottom.hard = Math.max(space.bottom.hard, thickness);\n                break;\n            case interfaces_1.AxisOrientation.Left:\n                space.left.hard = Math.max(space.left.hard, thickness);\n                space.top.soft = Math.max(space.top.soft, fontPad);\n                space.bottom.soft = Math.max(space.top.soft, fontPad);\n                break;\n        }\n    });\n    return {\n        top: Math.max(space.top.hard, space.top.soft),\n        left: Math.max(space.left.hard, space.left.soft),\n        bottom: Math.max(space.bottom.hard, space.bottom.soft),\n        right: Math.max(space.right.hard, space.right.soft),\n    };\n}\nfunction axisThickness(axis) {\n    return axis.thickness || DEFAULT_AXIS_THICKNESS;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst scenegraph_1 = require(\"@chart-parts/scenegraph\");\nconst components_1 = require(\"./components\");\nconst getContext_1 = require(\"./getContext\");\nfunction buildAxis(axis, frame, axisSpace) {\n    const context = createPopulatedContext(axis, frame, axisSpace);\n    const groupSize = getGroupSize(context, frame.view);\n    const origin = getGroupOrigin(context, frame.view);\n    // Build the components of the axis\n    const items = [];\n    components_1.components.forEach(e => {\n        if (e.isScenegraphElementGenerated(context)) {\n            items.push(e.createScenegraphElement(context));\n        }\n    });\n    return scenegraph_1.buildMark(interfaces_1.MarkType.Group)\n        .role('axis')\n        .items(Object.assign({ items, x: origin.x, y: origin.y }, groupSize))\n        .build();\n}\nexports.buildAxis = buildAxis;\nfunction createPopulatedContext(axis, frame, axisSpace) {\n    const initialContext = getContext_1.getContext(axis, frame, axisSpace);\n    let result = initialContext;\n    components_1.components.forEach(component => (result = component.createContext(result)));\n    return result;\n}\nfunction getGroupOrigin(context, availableSpace) {\n    const { height = 0, width = 0 } = availableSpace;\n    switch (context.axis.orient) {\n        case interfaces_1.AxisOrientation.Top:\n            return { x: 0, y: 0 };\n        case interfaces_1.AxisOrientation.Bottom:\n            return {\n                x: 0,\n                y: height - context.thickness,\n            };\n        case interfaces_1.AxisOrientation.Left:\n            return { x: 0, y: 0 };\n        case interfaces_1.AxisOrientation.Right:\n            return { x: width - context.thickness, y: 0 };\n    }\n}\nfunction getGroupSize(context, availableSpace) {\n    const { height = 0, width = 0 } = availableSpace;\n    if (context.horizontal) {\n        return {\n            width,\n            height: context.thickness,\n        };\n    }\n    else {\n        return {\n            width: context.thickness,\n            height,\n        };\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst domain_1 = require(\"./domain\");\nconst tickLines_1 = require(\"./tickLines\");\nconst tickLabels_1 = require(\"./tickLabels\");\n/**\n * The axis component class instances\n */\nexports.components = [\n    new domain_1.Domain(),\n    new tickLines_1.TickLines(),\n    new tickLabels_1.TickLabels(),\n];\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst scenegraph_1 = require(\"@chart-parts/scenegraph\");\nconst crossValue_1 = require(\"./crossValue\");\nclass Domain {\n    createContext(context) {\n        const range = context.range;\n        const maxRange = Math.max(...range);\n        const minRange = Math.min(...range);\n        return Object.assign({}, context, { domainMinRange: minRange, domainMaxRange: maxRange, domainCross: crossValue_1.crossValue(context.axis, context.thickness) });\n    }\n    isScenegraphElementGenerated(context) {\n        return !!context.axis.domain;\n    }\n    createScenegraphElement(context) {\n        const { axis, rangeProperty, rangeEndProperty, crossProperty, domainCross, domainMinRange, domainMaxRange, } = context;\n        return scenegraph_1.buildMark(interfaces_1.MarkType.Rule)\n            .role('axis-domain')\n            .items({\n            stroke: axis.domainColor,\n            strokeWidth: axis.domainWidth,\n            [rangeProperty]: domainMinRange,\n            [rangeEndProperty]: domainMaxRange + axis.domainWidth,\n            [crossProperty]: domainCross,\n        })\n            .build();\n    }\n}\nexports.Domain = Domain;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nfunction crossValue(axis, thickness) {\n    const domainWidth = axis.domainWidth;\n    const { orient } = axis;\n    let result = domainWidth;\n    switch (orient) {\n        case interfaces_1.AxisOrientation.Bottom: {\n            result = domainWidth / 2;\n            break;\n        }\n        case interfaces_1.AxisOrientation.Left: {\n            result = thickness - domainWidth / 2;\n            break;\n        }\n        case interfaces_1.AxisOrientation.Right: {\n            result = domainWidth / 2;\n            break;\n        }\n        case interfaces_1.AxisOrientation.Top: {\n            result = thickness + domainWidth / 2;\n            break;\n        }\n    }\n    return result;\n}\nexports.crossValue = crossValue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst scenegraph_1 = require(\"@chart-parts/scenegraph\");\nconst getTickValues_1 = require(\"./getTickValues\");\nconst getLabelFormatter_1 = require(\"./getLabelFormatter\");\nclass TickLines {\n    createContext(context) {\n        const tickCrossStart = getTickCrossStart(context);\n        const tickCrossEnd = getTickCrossEnd(context);\n        const labelFormatter = getLabelFormatter_1.getLabelFormatter(context);\n        context = Object.assign({}, context, { labelFormatter, tickCrossEnd, tickCrossStart });\n        const ticks = getTickValues_1.getTickValues(context);\n        context = Object.assign({}, context, { ticks });\n        return context;\n    }\n    isScenegraphElementGenerated(context) {\n        return !!context.axis.ticks;\n    }\n    createScenegraphElement(context) {\n        return scenegraph_1.buildMark(interfaces_1.MarkType.Rule)\n            .role('axis-ticks')\n            .items(...context.ticks.map(tick => createTickItem(tick, context)))\n            .build();\n    }\n}\nexports.TickLines = TickLines;\nfunction getTickCrossStart(context) {\n    const tickSize = context.axis.tickSize;\n    return context.topOrLeft ? context.thickness - tickSize : tickSize;\n}\nfunction getTickCrossEnd(context) {\n    return context.topOrLeft\n        ? context.thickness\n        : context.axis.tickWidth;\n}\nfunction createTickItem(tick, context) {\n    const { axis: { tickColor: stroke, tickWidth: strokeWidth }, } = context;\n    const crossStart = getCrossStart(context);\n    const crossEnd = getCrossEnd(context);\n    const rangeStart = getRangeStart(tick, context);\n    return {\n        [context.rangeProperty]: rangeStart,\n        [context.crossProperty]: crossStart,\n        [context.crossEndProperty]: crossEnd,\n        stroke,\n        strokeWidth,\n    };\n}\nfunction getRangeStart(tick, context) {\n    const strokeWidth = context.axis.tickWidth;\n    return tick.position + strokeWidth;\n}\nfunction getCrossStart(context) {\n    const tickSize = context.axis.tickSize;\n    const tickWidth = context.axis.tickWidth;\n    const result = context.topOrLeft ? context.thickness - tickSize : tickSize;\n    return result + tickWidth / 2;\n}\nfunction getCrossEnd(context) {\n    const tickWidth = context.axis.tickWidth;\n    return context.topOrLeft ? context.thickness : tickWidth;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Gets logical tick values and their associated labels\n * @param context The axis context\n */\nfunction getTickValues(context) {\n    const { axis, scale } = context;\n    if (axis.values != null) {\n        return axis.values.map(av => (Object.assign({}, av, { position: scale(av.value) })));\n    }\n    // Try to get the ticks from the `tick` utility built into d3 scales\n    return scale.ticks\n        ? getTicksFromScaleTicks(context)\n        : scale.domain\n            ? getTicksFromScaleDomain(context, scale)\n            : [];\n}\nexports.getTickValues = getTickValues;\nfunction getDomainScaleValue(t, scale, axis) {\n    const tickRound = axis.tickRound;\n    const bandPosition = axis.bandPosition;\n    const result = scale.bandwidth\n        ? scale(t) + scale.bandwidth() * bandPosition\n        : t;\n    return tickRound ? Math.round(result) : result;\n}\nfunction getTicksFromScaleTicks(context) {\n    const { axis, scale } = context;\n    const tickWidth = axis.tickWidth;\n    if (!scale.ticks) {\n        throw new Error('cannot extract scale domain');\n    }\n    const ticks = axis.tickCount != null ? scale.ticks(axis.tickCount) : scale.ticks();\n    return ticks.map((t) => {\n        const position = scale(t);\n        const label = context.labelFormatter(t);\n        return {\n            value: t,\n            position: axis.tickRound\n                ? Math.round(position)\n                : position - tickWidth / 2,\n            label,\n        };\n    });\n}\nfunction getTicksFromScaleDomain(context, scale) {\n    const { axis } = context;\n    if (!scale.domain) {\n        throw new Error('cannot extract scale domain');\n    }\n    const domain = scale.domain();\n    return domain.map((t) => {\n        const label = context.labelFormatter(t);\n        return {\n            value: t,\n            position: getDomainScaleValue(t, scale, axis),\n            label,\n        };\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_time_format_1 = require(\"d3-time-format\");\nconst d3_format_1 = require(\"d3-format\");\nfunction isTimeScale(scale) {\n    return scale.__scaletype__ === 'utc' || scale.__scaletype__ === 'time';\n}\nfunction getLabelFormatter(context) {\n    const scale = context.scale;\n    const { labelFormat } = context.axis;\n    if (!labelFormat) {\n        return (t) => `${t}`;\n    }\n    return isTimeScale(scale) ? d3_time_format_1.timeFormat(labelFormat) : d3_format_1.format(labelFormat);\n}\nexports.getLabelFormatter = getLabelFormatter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst scenegraph_1 = require(\"@chart-parts/scenegraph\");\nclass TickLabels {\n    createContext(context) {\n        return context;\n    }\n    isScenegraphElementGenerated(context) {\n        return !!context.axis.labels;\n    }\n    createScenegraphElement(context) {\n        return scenegraph_1.buildMark(interfaces_1.MarkType.Text)\n            .role('axis-tick-labels')\n            .items(...(context.ticks || []).map(tick => createTickLabel(tick, context)))\n            .build();\n    }\n}\nexports.TickLabels = TickLabels;\nfunction createTickLabel(tick, context) {\n    const { axis, rangeProperty, crossProperty } = context;\n    const fontSize = axis.labelFontSize;\n    const tickSize = axis.tickSize;\n    const pad = axis.labelPadding;\n    const font = axis.labelFont;\n    const fill = axis.labelColor;\n    const fontWeight = axis.labelFontWeight;\n    const text = tick.label;\n    const align = getHorizontalAlignment(axis);\n    const baseline = getBaseline(axis);\n    const labelAngle = axis.labelAngle;\n    const crossPropertyValue = context.topOrLeft\n        ? context.thickness - tickSize - pad\n        : tickSize + pad + (axis.orient === interfaces_1.AxisOrientation.Bottom ? 1 : 0);\n    const result = {\n        strokeWidth: 0,\n        stroke: 'none',\n        [rangeProperty]: tick.position + 1,\n        [crossProperty]: crossPropertyValue,\n        fontWeight,\n        text,\n        fill,\n        font,\n        fontSize,\n        baseline,\n        align,\n    };\n    if (labelAngle !== undefined) {\n        result.theta = (labelAngle * Math.PI) / 180;\n    }\n    return result;\n}\nfunction getBaseline(axis) {\n    if (axis.labelBaseline) {\n        return axis.labelBaseline;\n    }\n    switch (axis.orient) {\n        case interfaces_1.AxisOrientation.Top:\n            return interfaces_1.VerticalTextAlignment.Bottom;\n        case interfaces_1.AxisOrientation.Bottom:\n            return interfaces_1.VerticalTextAlignment.Top;\n        case interfaces_1.AxisOrientation.Left:\n        case interfaces_1.AxisOrientation.Right:\n            return interfaces_1.VerticalTextAlignment.Middle;\n    }\n}\nfunction getHorizontalAlignment(axis) {\n    if (axis.labelAlign !== undefined) {\n        return axis.labelAlign;\n    }\n    switch (axis.orient) {\n        case interfaces_1.AxisOrientation.Top:\n        case interfaces_1.AxisOrientation.Bottom:\n            return interfaces_1.HorizontalAlignment.Center;\n        case interfaces_1.AxisOrientation.Left:\n            return interfaces_1.HorizontalAlignment.Right;\n        case interfaces_1.AxisOrientation.Right:\n            return interfaces_1.HorizontalAlignment.Left;\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nfunction getContext(axis, frame, axisSpace) {\n    // Create the new axis space\n    const thickness = getThickness(axis, axisSpace);\n    const axisFrame = frame.pushView(getScaleSize(axis, axisSpace, thickness, frame.view), getScaleTL(axis, axisSpace, frame.view), getScaleBR(axis, axisSpace, frame.view));\n    const scaleName = axis.scale;\n    const scale = axisFrame.scales[scaleName];\n    const range = (scale.range && scale.range()) || [0, 0];\n    const horizontal = axis.orient === interfaces_1.AxisOrientation.Top ||\n        axis.orient === interfaces_1.AxisOrientation.Bottom;\n    const topOrLeft = axis.orient === interfaces_1.AxisOrientation.Top || axis.orient === interfaces_1.AxisOrientation.Left;\n    return {\n        axis,\n        range,\n        scale,\n        thickness,\n        horizontal,\n        topOrLeft,\n        frame: axisFrame,\n        rangeProperty: horizontal ? 'x' : 'y',\n        rangeEndProperty: horizontal ? 'x2' : 'y2',\n        crossProperty: horizontal ? 'y' : 'x',\n        crossEndProperty: horizontal ? 'y2' : 'x2',\n    };\n}\nexports.getContext = getContext;\nfunction getThickness(axis, space) {\n    switch (axis.orient) {\n        case interfaces_1.AxisOrientation.Top:\n            return space.top;\n        case interfaces_1.AxisOrientation.Right:\n            return space.right;\n        case interfaces_1.AxisOrientation.Bottom:\n            return space.bottom;\n        case interfaces_1.AxisOrientation.Left:\n            return space.left;\n        default:\n            return 0;\n    }\n}\nfunction getScaleTL(axis, space, availableSpace) {\n    const { width, height } = availableSpace;\n    const { left, top, bottom, right } = space;\n    switch (axis.orient) {\n        case interfaces_1.AxisOrientation.Top:\n            return [0, left];\n        case interfaces_1.AxisOrientation.Bottom:\n            return [height - bottom, left];\n        case interfaces_1.AxisOrientation.Left:\n            return [top, 0];\n        case interfaces_1.AxisOrientation.Right:\n            return [top, width - right];\n    }\n}\nfunction getScaleBR(axis, space, availableSpace) {\n    const { width, height } = availableSpace;\n    const { left, top, bottom, right } = space;\n    switch (axis.orient) {\n        case interfaces_1.AxisOrientation.Top:\n            return [top, width - right];\n        case interfaces_1.AxisOrientation.Bottom:\n            return [height, width - right];\n        case interfaces_1.AxisOrientation.Left:\n            return [height - bottom, left];\n        case interfaces_1.AxisOrientation.Right:\n            return [height - bottom, width];\n    }\n}\nfunction getScaleSize(axis, space, axisThickness, availableSpace) {\n    const { left, right, top, bottom } = space;\n    const { height: viewHeight = 0, width: viewWidth = 0 } = availableSpace;\n    const isHorizontal = axis.orient === interfaces_1.AxisOrientation.Top ||\n        axis.orient === interfaces_1.AxisOrientation.Bottom;\n    if (isHorizontal) {\n        return {\n            width: viewWidth - left - right,\n            height: axisThickness,\n        };\n    }\n    else {\n        return {\n            width: axisThickness,\n            height: viewHeight - top - bottom,\n        };\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst builder_1 = require(\"@chart-parts/builder\");\nconst Context_1 = require(\"./Context\");\nclass ChartSpec extends React.PureComponent {\n    render() {\n        let sceneNodeBuilder;\n        this.sceneBuilder = builder_1.scene(node => (sceneNodeBuilder = node), this.chartOptions);\n        return (React.createElement(Context_1.SceneNodeBuilderProvider, { value: sceneNodeBuilder }, this.props.children));\n    }\n    componentDidMount() {\n        this.updateSpec();\n    }\n    componentDidUpdate() {\n        return this.updateSpec();\n    }\n    get chartOptions() {\n        const opts = {\n            width: this.props.width,\n            height: this.props.height,\n        };\n        if (this.props.padding) {\n            opts.padding = this.props.padding;\n        }\n        return opts;\n    }\n    updateSpec() {\n        if (this.sceneBuilder) {\n            const spec = this.sceneBuilder.build();\n            this.props.onSpecReady(spec);\n        }\n    }\n}\nexports.ChartSpec = ChartSpec;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst builder_1 = require(\"@chart-parts/builder\");\nconst Context_1 = require(\"./Context\");\nclass Axis extends React.PureComponent {\n    render() {\n        return (React.createElement(Context_1.SceneNodeBuilderConsumer, null, api => {\n            this.receiveApi(api);\n            return this.props.children;\n        }));\n    }\n    receiveApi(api) {\n        const { scale, orient } = this.props;\n        const newAxis = builder_1.axis(scale, orient);\n        // For any other properties that are set to defined values, pipe them into the axis builder\n        Object.keys(this.props).forEach(propName => {\n            const propValue = this.props[propName];\n            if (propName !== 'scale' &&\n                propName !== 'orient' &&\n                propValue !== undefined) {\n                ;\n                newAxis[propName](propValue);\n            }\n        });\n        api.axes(newAxis);\n    }\n}\nexports.Axis = Axis;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Scale\"));\n__export(require(\"./quantitative\"));\n__export(require(\"./discrete\"));\n__export(require(\"./QuantizeScale\"));\n__export(require(\"./QuantileScale\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst Context_1 = require(\"../Context\");\nclass Scale extends React.PureComponent {\n    render() {\n        return (React.createElement(Context_1.SceneNodeBuilderConsumer, null, api => {\n            this.apiInstance = api;\n            this.addScale();\n            return null;\n        }));\n    }\n    get api() {\n        if (!this.apiInstance) {\n            throw new Error('api must be defined');\n        }\n        return this.apiInstance;\n    }\n    addScale() {\n        this.api.scale((args) => this.props.create(args));\n    }\n}\nexports.Scale = Scale;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./LinearScale\"));\n__export(require(\"./LogScale\"));\n__export(require(\"./PowScale\"));\n__export(require(\"./SequentialScale\"));\n__export(require(\"./SqrtScale\"));\n__export(require(\"./TimeScale\"));\n__export(require(\"./UtcScale\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@chart-parts/scales\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass LinearScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale() {\n        return scales_1.linear(this.props.name)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .zero(this.props.zero)\n            .clamp(this.props.clamp)\n            .nice(this.props.nice)\n            .reverse(this.props.reverse)\n            .padding(this.props.padding);\n    }\n}\nexports.LinearScale = LinearScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass LinearScale extends QuantitativeScale_1.QuantitativeScale {\n    constructor() {\n        super(...arguments);\n        this.defaultZero = true;\n    }\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const scale = d3_scale_1.scaleLinear()\n            .domain(domain)\n            .range(range);\n        this.addCommonProperties(scale);\n        return {\n            [this.nameValue]: scale,\n        };\n    }\n}\nexports.LinearScale = LinearScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass LogScale extends QuantitativeScale_1.QuantitativeScale {\n    base(value) {\n        this.baseValue = value;\n        return this;\n    }\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const result = d3_scale_1.scaleLog()\n            .domain(domain)\n            .range(range);\n        this.addCommonProperties(result);\n        if (this.baseValue !== undefined) {\n            result.base(this.baseValue);\n        }\n        return { [this.nameValue]: result };\n    }\n}\nexports.LogScale = LogScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass PowScale extends QuantitativeScale_1.QuantitativeScale {\n    constructor() {\n        super(...arguments);\n        this.defaultZero = true;\n    }\n    exponent(value) {\n        this.exponentValue = value;\n        return this;\n    }\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const result = d3_scale_1.scalePow()\n            .domain(domain)\n            .range(range);\n        this.addCommonProperties(result);\n        if (this.exponentValue !== undefined) {\n            result.exponent(this.exponentValue);\n        }\n        return { [this.nameValue]: result };\n    }\n}\nexports.PowScale = PowScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst DomainScale_1 = require(\"../DomainScale\");\nclass SequantialScale extends DomainScale_1.DomainScale {\n    interpolator(value) {\n        this.interpolatorValue = value;\n        return this;\n    }\n    /**\n     * A boolean indicating if output values should be clamped to the range (default false).\n     * If clamping is disabled and the scale is passed a value outside the domain, the scale\n     *  may return a value outside the range through extrapolation. If clamping is enabled,\n     * the output value of the scale is always within the scale’s range.\n     */\n    clamp(value) {\n        this.clampValue = value;\n        return this;\n    }\n    createScale(args) {\n        if (!this.interpolatorValue) {\n            throw new Error('interpolator must be set');\n        }\n        const domain = this.getDomain(args);\n        const result = d3_scale_1.scaleSequential(this.interpolatorValue).domain(domain);\n        if (this.clampValue !== undefined) {\n            result.clamp(this.clampValue);\n        }\n        return {\n            [this.nameValue]: result,\n        };\n    }\n}\nexports.SequantialScale = SequantialScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass SqrtScale extends QuantitativeScale_1.QuantitativeScale {\n    constructor() {\n        super(...arguments);\n        this.defaultZero = true;\n    }\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const result = d3_scale_1.scaleSqrt()\n            .domain(domain)\n            .range(range);\n        this.addCommonProperties(result);\n        return { [this.nameValue]: result };\n    }\n}\nexports.SqrtScale = SqrtScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nfunction setType(result) {\n    result.__scaletype__ = 'time';\n}\nclass TimeScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const result = d3_scale_1.scaleTime()\n            .domain(domain)\n            .range(range);\n        this.addCommonProperties(result);\n        setType(result);\n        return { [this.nameValue]: result };\n    }\n}\nexports.TimeScale = TimeScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nfunction setType(result) {\n    result.__scaletype__ = 'utc';\n}\nclass UtcScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const result = d3_scale_1.scaleUtc()\n            .domain(domain)\n            .range(range);\n        this.addCommonProperties(result);\n        setType(result);\n        return { [this.nameValue]: result };\n    }\n}\nexports.UtcScale = UtcScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst DomainRangeScale_1 = require(\"../DomainRangeScale\");\nconst getBoundRange_1 = require(\"../getBoundRange\");\nclass BandScale extends DomainRangeScale_1.DomainRangeScale {\n    /**\n     * The name of the band-width static scale\n     */\n    bandwidthName(value) {\n        this.bandwidthValue = value;\n        return this;\n    }\n    /**\n     * The outer and inner padding value\n     */\n    padding(value) {\n        this.paddingValue = value;\n        return this;\n    }\n    /**\n     * The inner padding value\n     */\n    paddingInner(value) {\n        this.paddingInnerValue = value;\n        return this;\n    }\n    /**\n     * The outer padding value\n     */\n    paddingOuter(value) {\n        this.paddingOuterValue = value;\n        return this;\n    }\n    /**\n     * Bin alignment 0-beginning, 1=end\n     */\n    align(value) {\n        this.alignValue = value;\n        return this;\n    }\n    round(value) {\n        this.roundValue = value;\n        return this;\n    }\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange(args);\n        const bandscale = d3_scale_1.scaleBand()\n            .domain(domain.map(d => '' + d))\n            .range(range);\n        if (this.alignValue) {\n            bandscale.align(this.alignValue);\n        }\n        if (this.paddingValue) {\n            bandscale.padding(this.paddingValue);\n        }\n        if (this.paddingOuterValue) {\n            bandscale.paddingOuter(this.paddingOuterValue);\n        }\n        if (this.paddingInnerValue) {\n            bandscale.paddingInner(this.paddingInnerValue);\n        }\n        if (this.roundValue) {\n            bandscale.round(this.roundValue);\n        }\n        const result = { [this.nameValue]: bandscale };\n        if (this.bandwidthValue) {\n            result[this.bandwidthValue] = bandscale.bandwidth;\n        }\n        return result;\n    }\n    handleRangeBind(args, rangeBind) {\n        return getBoundRange_1.getBoundRange(args, rangeBind);\n    }\n}\nexports.BandScale = BandScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst DomainScale_1 = require(\"../DomainScale\");\nconst colorSchemeMap_1 = require(\"../colorSchemeMap\");\nclass OrdinalScale extends DomainScale_1.DomainScale {\n    /**\n     * The range of values to map to\n     */\n    range(value) {\n        this.rangeValue = value;\n        return this;\n    }\n    /**\n     * The color scheme to use as the target ordinal domain\n     */\n    colorScheme(value) {\n        this.colorSchemeValue = value;\n        return this;\n    }\n    createScale(args) {\n        const domain = this.getDomain(args);\n        const range = this.getRange();\n        const scale = d3_scale_1.scaleOrdinal(this.rangeValue)\n            .domain(domain)\n            .range(range);\n        return { [this.nameValue]: scale };\n    }\n    getRange() {\n        if (this.colorSchemeValue) {\n            return colorSchemeMap_1.colorSchemeMap.get(this.colorSchemeValue);\n        }\n        else if (this.rangeValue) {\n            return this.rangeValue;\n        }\n        else {\n            throw new Error('Either colorScheme or domain must be set');\n        }\n    }\n}\nexports.OrdinalScale = OrdinalScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst d3_scale_1 = require(\"d3-scale\");\nconst DomainRangeScale_1 = require(\"../DomainRangeScale\");\nconst getBoundRange_1 = require(\"../getBoundRange\");\nconst util_1 = require(\"../util\");\nclass PointScale extends DomainRangeScale_1.DomainRangeScale {\n    /**\n     * Bin alignment 0-beginning, 1=end\n     */\n    align(value) {\n        this.alignValue = value;\n        return this;\n    }\n    /**\n     * The outer and inner padding value\n     */\n    padding(value) {\n        this.paddingValue = value;\n        return this;\n    }\n    round(value) {\n        this.roundValue = util_1.optionalArgument(value, arguments.length, true, false);\n        return this;\n    }\n    stepName(value) {\n        this.stepNameValue = value;\n        return this;\n    }\n    createScale(args) {\n        const scale = d3_scale_1.scalePoint()\n            .domain(this.getDomain(args))\n            .range(this.getRange(args));\n        if (this.paddingValue !== undefined) {\n            scale.padding(this.paddingValue);\n        }\n        if (this.alignValue !== undefined) {\n            scale.align(this.alignValue);\n        }\n        if (this.roundValue !== undefined) {\n            scale.round(this.roundValue);\n        }\n        const result = { [this.nameValue]: scale };\n        if (this.stepNameValue) {\n            result[this.stepNameValue] = scale.step;\n        }\n        return result;\n    }\n    handleRangeBind(args, rangeBind) {\n        return getBoundRange_1.getBoundRange(args, rangeBind);\n    }\n}\nexports.PointScale = PointScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@chart-parts/scales\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass LogScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale() {\n        return scales_1.log(this.props.name)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .zero(this.props.zero)\n            .clamp(this.props.clamp)\n            .nice(this.props.nice)\n            .reverse(this.props.reverse)\n            .base(this.props.base)\n            .padding(this.props.padding);\n    }\n}\nexports.LogScale = LogScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@chart-parts/scales\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass PowScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale() {\n        return scales_1.pow(this.props.name)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .zero(this.props.zero)\n            .clamp(this.props.clamp)\n            .nice(this.props.nice)\n            .reverse(this.props.reverse)\n            .exponent(this.props.exponent)\n            .padding(this.props.padding);\n    }\n}\nexports.PowScale = PowScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@chart-parts/scales\");\nconst DomainScale_1 = require(\"../DomainScale\");\nclass SequantialScale extends DomainScale_1.DomainScale {\n    createScale() {\n        return scales_1.sequential(this.props.name)\n            .domain(this.props.domain)\n            .clamp(this.props.clamp)\n            .interpolator(this.props.interpolator);\n    }\n}\nexports.SequantialScale = SequantialScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@chart-parts/scales\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass SqrtScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale() {\n        return scales_1.sqrt(this.props.name)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .zero(this.props.zero)\n            .clamp(this.props.clamp)\n            .nice(this.props.nice)\n            .reverse(this.props.reverse)\n            .padding(this.props.padding);\n    }\n}\nexports.SqrtScale = SqrtScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@chart-parts/scales\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass TimeScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale() {\n        return scales_1.time(this.props.name)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .zero(this.props.zero)\n            .clamp(this.props.clamp)\n            .nice(this.props.nice)\n            .reverse(this.props.reverse)\n            .padding(this.props.padding);\n    }\n}\nexports.TimeScale = TimeScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@chart-parts/scales\");\nconst QuantitativeScale_1 = require(\"./QuantitativeScale\");\nclass UtcScale extends QuantitativeScale_1.QuantitativeScale {\n    createScale() {\n        return scales_1.utc(this.props.name)\n            .name(this.props.name)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .zero(this.props.zero)\n            .clamp(this.props.clamp)\n            .nice(this.props.nice)\n            .reverse(this.props.reverse)\n            .padding(this.props.padding);\n    }\n}\nexports.UtcScale = UtcScale;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./BandScale\"));\n__export(require(\"./OrdinalScale\"));\n__export(require(\"./PointScale\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@chart-parts/scales\");\nconst DomainRangeScale_1 = require(\"../DomainRangeScale\");\nclass BandScale extends DomainRangeScale_1.DomainRangeScale {\n    createScale() {\n        const bandWidthName = this.props.bandWidth || this.props.name + 'Width';\n        return scales_1.band(this.props.name, bandWidthName)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .align(this.props.align)\n            .padding(this.props.padding)\n            .paddingOuter(this.props.paddingOuter)\n            .paddingInner(this.props.paddingInner)\n            .round(this.props.round)\n            .reverse(this.props.reverse);\n    }\n}\nexports.BandScale = BandScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@chart-parts/scales\");\nconst DomainScale_1 = require(\"../DomainScale\");\nclass OrdinalScale extends DomainScale_1.DomainScale {\n    createScale() {\n        return scales_1.ordinal(this.props.name)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .colorScheme(this.props.colorScheme);\n    }\n}\nexports.OrdinalScale = OrdinalScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@chart-parts/scales\");\nconst DomainRangeScale_1 = require(\"../DomainRangeScale\");\nclass PointScale extends DomainRangeScale_1.DomainRangeScale {\n    createScale() {\n        const stepName = this.props.stepName || this.props.name + 'Step';\n        return scales_1.point(this.props.name)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .stepName(stepName)\n            .align(this.props.align)\n            .padding(this.props.padding)\n            .reverse(this.props.reverse);\n    }\n}\nexports.PointScale = PointScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@chart-parts/scales\");\nconst DomainRangeScale_1 = require(\"./DomainRangeScale\");\nclass QuantizeScale extends DomainRangeScale_1.DomainRangeScale {\n    handleRangeBind(args, rangeBind) {\n        throw new Error('Range bind not supported in Quantize scale');\n    }\n    createScale() {\n        return scales_1.quantize(this.props.name)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .reverse(this.props.reverse)\n            .nice(this.props.nice)\n            .zero(this.props.zero);\n    }\n}\nexports.QuantizeScale = QuantizeScale;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst scales_1 = require(\"@chart-parts/scales\");\nconst DomainRangeScale_1 = require(\"./DomainRangeScale\");\nclass QuantileScale extends DomainRangeScale_1.DomainRangeScale {\n    handleRangeBind(args, rangeBind) {\n        throw new Error('Range bind not supported in Quantize scale');\n    }\n    createScale() {\n        return scales_1.quantize(this.props.name)\n            .domain(this.props.domain)\n            .range(this.props.range)\n            .reverse(this.props.reverse);\n    }\n}\nexports.QuantileScale = QuantileScale;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Arc\"));\n__export(require(\"./Area\"));\n__export(require(\"./Group\"));\n__export(require(\"./Line\"));\n__export(require(\"./Path\"));\n__export(require(\"./Rect\"));\n__export(require(\"./Rule\"));\n__export(require(\"./Symbol\"));\n__export(require(\"./Text\"));\n__export(require(\"./SymbolTypes\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Arc extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Arc;\n    }\n    encodeCustomProperties() {\n        const { startAngle, endAngle, padAngle, innerRadius, outerRadius, cornerRadius, } = this.props;\n        return {\n            startAngle,\n            endAngle,\n            padAngle,\n            innerRadius,\n            outerRadius,\n            cornerRadius,\n        };\n    }\n}\nexports.Arc = Arc;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Area extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Area;\n    }\n    encodeCustomProperties() {\n        const { orient, interpolate, tension, defined } = this.props;\n        return {\n            orient,\n            interpolate,\n            tension,\n            defined,\n        };\n    }\n}\nexports.Area = Area;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Group extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Group;\n    }\n    encodeCustomProperties() {\n        const { clip, cornerRadius } = this.props;\n        return {\n            clip,\n            cornerRadius,\n        };\n    }\n    addMark() {\n        let node;\n        this.api.mark(this.createMark().child(n => (node = n)));\n        return node;\n    }\n    createMark() {\n        const nodeBuilder = super.createMark();\n        const { facet } = this.props;\n        if (facet) {\n            nodeBuilder.facet(facet);\n        }\n        return nodeBuilder;\n    }\n}\nexports.Group = Group;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Line extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Line;\n    }\n    encodeCustomProperties() {\n        const { interpolate, tension, defined } = this.props;\n        return { interpolate, tension, defined };\n    }\n}\nexports.Line = Line;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Path extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Path;\n    }\n    encodeCustomProperties() {\n        const { path } = this.props;\n        return { path };\n    }\n}\nexports.Path = Path;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Rect extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Rect;\n    }\n    encodeCustomProperties() {\n        return {\n            cornerRadius: this.props.cornerRadius,\n        };\n    }\n}\nexports.Rect = Rect;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Rule extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Rule;\n    }\n    encodeCustomProperties() {\n        return {};\n    }\n}\nexports.Rule = Rule;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Symbol extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Symbol;\n    }\n    encodeCustomProperties() {\n        const { size, shape } = this.props;\n        return { size, shape };\n    }\n}\nexports.Symbol = Symbol;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass Text extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Text;\n    }\n    encodeCustomProperties() {\n        const { align, angle, baseline, dir, dx, dy, ellipsis, font, fontSize, fontWeight, fontVariant, fontStyle, limit, radius, text, theta, } = this.props;\n        return {\n            align,\n            angle,\n            baseline,\n            dir,\n            dx,\n            dy,\n            ellipsis,\n            font,\n            fontSize,\n            fontWeight,\n            fontVariant,\n            fontStyle,\n            limit,\n            radius,\n            text,\n            theta,\n        };\n    }\n}\nexports.Text = Text;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// tslint:disable max-classes-per-file\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nconst BaseMark_1 = require(\"./BaseMark\");\nclass SymbolOfType extends BaseMark_1.BaseMark {\n    constructor() {\n        super(...arguments);\n        this.markType = interfaces_1.MarkType.Symbol;\n    }\n    encodeCustomProperties() {\n        const { size } = this.props;\n        const shape = this.getShape();\n        return { size, shape };\n    }\n}\nclass Circle extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.Circle;\n    }\n}\nexports.Circle = Circle;\nclass Cross extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.Cross;\n    }\n}\nexports.Cross = Cross;\nclass Diamond extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.Diamond;\n    }\n}\nexports.Diamond = Diamond;\nclass Square extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.Square;\n    }\n}\nexports.Square = Square;\nclass TriangleDown extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.TriangleDown;\n    }\n}\nexports.TriangleDown = TriangleDown;\nclass TriangleUp extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.TriangleUp;\n    }\n}\nexports.TriangleUp = TriangleUp;\nclass TriangleLeft extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.TriangleLeft;\n    }\n}\nexports.TriangleLeft = TriangleLeft;\nclass TriangleRight extends SymbolOfType {\n    getShape() {\n        return interfaces_1.SymbolType.Circle;\n    }\n}\nexports.TriangleRight = TriangleRight;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst interfaces_1 = require(\"@chart-parts/interfaces\");\nfunction createElementFor(vdom, key, handlers) {\n    const { type, children, attrs = {}, style, transforms: vdomTransforms = [], channels = {}, metadata = { index: -1, id: 'unknown' }, ariaDescription, ariaTitle, } = vdom;\n    const reactAttrs = Object.assign({ key,\n        style, transform: getTransformAttribute(vdomTransforms) }, attrs);\n    // Map the handlers into the vdom\n    Object.keys(channels).forEach(eventName => {\n        const eventId = channels[eventName];\n        const reactEventName = eventName;\n        const handler = handlers[eventId];\n        reactAttrs[reactEventName] = (event) => handler(Object.assign({}, metadata, { event }));\n    });\n    const childrenElements = (children || [])\n        .filter(c => !!c)\n        .map((c, index) => typeof c !== 'object'\n        ? c\n        : createElementFor(c, `${key}::${index}`, handlers));\n    const labelledBy = [];\n    if (ariaTitle) {\n        const titleId = `${metadata.id}__title`;\n        childrenElements.push(React.createElement(\"title\", { key: \"t\", id: titleId }, ariaTitle));\n        labelledBy.push(titleId);\n    }\n    if (ariaDescription) {\n        const descId = `${metadata.id}__desc`;\n        childrenElements.push(React.createElement(\"desc\", { key: \"d\", id: descId }, ariaDescription));\n        labelledBy.push(descId);\n    }\n    if (labelledBy.length > 0) {\n        reactAttrs['aria-labelledby'] = labelledBy.join(' ');\n    }\n    const visualElement = React.createElement(type, reactAttrs, childrenElements);\n    return visualElement;\n}\nfunction getTransformAttribute(vdomTransforms) {\n    const transforms = [];\n    vdomTransforms.forEach(t => {\n        if (t.type === interfaces_1.VSvgTransformType.rotate) {\n            transforms.push(`rotate(${t.value})`);\n        }\n        else if (t.type === interfaces_1.VSvgTransformType.translate) {\n            transforms.push(`translate(${t.value[0]}, ${t.value[1]})`);\n        }\n    });\n    return transforms.length > 0 ? transforms.join(' ') : undefined;\n}\n/**\n * Renders a Virtual DOM out to React-DOM's Virtual DOM\n */\nclass Renderer {\n    render(vdom, handlers) {\n        return createElementFor(vdom, 'root', handlers);\n    }\n}\nexports.Renderer = Renderer;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Dataset Creation\n__export(require(\"./dataset\"));\n// Transform Types\n__export(require(\"./aggregate\"));\n__export(require(\"./stack\"));\n__export(require(\"./bin\"));\n__export(require(\"./collect\"));\n__export(require(\"./countPattern\"));\n__export(require(\"./cross\"));\n__export(require(\"./density\"));\n__export(require(\"./filter\"));\n__export(require(\"./formula\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst { Dataflow, changeset } = require('vega-dataflow');\nconst { collect } = require('vega-transforms');\nclass DatasetManagerImpl {\n    constructor() {\n        // Datasets are stored in a vega transform pipeline\n        this.pipelines = new Map();\n    }\n    addTable(name, data, ...transforms) {\n        const pipeline = createTransformPipeline(transforms, this);\n        pushData(data, pipeline);\n        this.pipelines.set(name, pipeline);\n        return this;\n    }\n    addDerivedTable(name, from, ...transforms) {\n        const pipeline = createTransformPipeline(transforms, this);\n        const sourceTable = this.getTable(from);\n        pushData(sourceTable, pipeline);\n        this.pipelines.set(name, pipeline);\n        return this;\n    }\n    getTable(name) {\n        const ds = this.pipelines.get(name);\n        const result = ds && ds.end.value;\n        if (!result) {\n            throw new Error(`could not find table ${name}`);\n        }\n        return result;\n    }\n    get tables() {\n        const keys = this.pipelines.keys();\n        const result = {};\n        for (const key of keys) {\n            result[key] = this.getTable(key);\n        }\n        return result;\n    }\n}\nexports.DatasetManagerImpl = DatasetManagerImpl;\nfunction pushData(data, pipeline) {\n    const { dataflow, start } = pipeline;\n    dataflow.pulse(start, changeset().insert(data)).run();\n}\nfunction createTransformPipeline(transforms, ds) {\n    const df = new Dataflow();\n    const entry = df.add(collect);\n    let latest = entry;\n    transforms.forEach(t => {\n        latest = t.build(df, latest, ds);\n        latest = df.add(collect, { pulse: latest });\n    });\n    return {\n        dataflow: df,\n        start: entry,\n        end: latest,\n    };\n}\n/**\n * Create a new dataset builder\n */\nfunction dataset() {\n    return new DatasetManagerImpl();\n}\nexports.dataset = dataset;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst { aggregate: vegaAggregate, collect: vegaCollect, } = require('vega-transforms');\nconst { field: vegaField } = require('vega-util');\n/**\n * Types of aggregate field operations\n */\nvar AggregateOperation;\n(function (AggregateOperation) {\n    /**\n     * The total count of data objects in the group.\n     */\n    AggregateOperation[\"count\"] = \"count\";\n    /**\n     * The count of field values that are not null, undefined or NaN.\n     */\n    AggregateOperation[\"valid\"] = \"valid\";\n    /**\n     * The count of null or undefined field values.\n     */\n    AggregateOperation[\"missing\"] = \"missing\";\n    /**\n     * The count of distinct field values.\n     */\n    AggregateOperation[\"distinct\"] = \"distinct\";\n    /**\n     * The sum of field values.\n     */\n    AggregateOperation[\"sum\"] = \"sum\";\n    /**\n     * The mean (average) field value.\n     */\n    AggregateOperation[\"mean\"] = \"mean\";\n    /**\n     * The sample variance of field values.\n     */\n    AggregateOperation[\"variance\"] = \"variance\";\n    /**\n     * The population variance of field values.\n     */\n    AggregateOperation[\"variancep\"] = \"variancep\";\n    /**\n     * The sample standard deviation of field values.\n     */\n    AggregateOperation[\"stdev\"] = \"stdev\";\n    /**\n     * The population standard deviation of field values.\n     */\n    AggregateOperation[\"stdevp\"] = \"stdevp\";\n    /**\n     * The standard error of field values.\n     */\n    AggregateOperation[\"stderr\"] = \"stderr\";\n    /**\n     * \tThe median field value.\n     */\n    AggregateOperation[\"median\"] = \"median\";\n    /**\n     * The lower quartile boundary of field values.\n     */\n    AggregateOperation[\"q1\"] = \"q1\";\n    /**\n     * The upper quartile boundary of field values.\n     */\n    AggregateOperation[\"q3\"] = \"q3\";\n    /**\n     * The lower boundary of the bootstrapped 95% confidence interval of the mean field value.\n     */\n    AggregateOperation[\"ci0\"] = \"ci0\";\n    /**\n     * The upper boundary of the bootstrapped 95% confidence interval of the mean field value.\n     */\n    AggregateOperation[\"ci1\"] = \"ci1\";\n    /**\n     * The minimum field value.\n     */\n    AggregateOperation[\"min\"] = \"min\";\n    /**\n     * The maximum field value.\n     */\n    AggregateOperation[\"max\"] = \"max\";\n    /**\n     * An input data object containing the minimum field value.\n     */\n    AggregateOperation[\"argmin\"] = \"argmin\";\n    /**\n     * \tAn input data object containing the maximum field value.\n     */\n    AggregateOperation[\"argmax\"] = \"argmax\";\n})(AggregateOperation = exports.AggregateOperation || (exports.AggregateOperation = {}));\nclass AggregateBuilderImpl {\n    constructor() {\n        this.groupByFields = [];\n        this.computeFields = [];\n        this.crossValue = false;\n        this.dropValue = true;\n    }\n    groupBy(...fields) {\n        this.groupByFields = fields;\n        return this;\n    }\n    compute(...computeFields) {\n        this.computeFields = computeFields;\n        return this;\n    }\n    cross(cross) {\n        this.crossValue = cross;\n        return this;\n    }\n    drop(drop) {\n        this.dropValue = drop;\n        return this;\n    }\n    key(value) {\n        this.keyValue = value;\n        return this;\n    }\n    build(df, from) {\n        const spec = {\n            groupby: this.groupByFields.map(c => vegaField(c)),\n            fields: this.computeFields.map(c => (c.field ? vegaField(c.field) : null)),\n            ops: this.computeFields.map(c => c.op || null),\n            as: this.computeFields.map(c => c.as || null),\n            cross: this.crossValue,\n            drop: this.dropValue,\n            key: this.keyValue,\n            pulse: from,\n        };\n        const agg = df.add(vegaAggregate, spec);\n        return df.add(vegaCollect, { pulse: agg });\n    }\n}\nexports.AggregateBuilderImpl = AggregateBuilderImpl;\nfunction aggregate() {\n    return new AggregateBuilderImpl();\n}\nexports.aggregate = aggregate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../util\");\nconst { stack: vegaStack } = require('vega-encode');\nconst { field: vegaField } = require('vega-util');\nclass StackBuilderImpl {\n    field(value) {\n        this.stackField = value;\n        return this;\n    }\n    groupBy(...fields) {\n        this.groupByFields = fields;\n        return this;\n    }\n    sort(...compare) {\n        this.compareValue = compare;\n        return this;\n    }\n    offset(offset) {\n        this.offsetValue = offset;\n        return this;\n    }\n    as(start, end) {\n        this.asValue = [start, end];\n        return this;\n    }\n    build(df, from) {\n        const spec = {\n            field: vegaField(this.stackField),\n            offset: this.offsetValue,\n            pulse: from,\n        };\n        if (this.groupByFields) {\n            spec.groupby = this.groupByFields.map(c => vegaField(c));\n        }\n        if (this.compareValue !== undefined) {\n            spec.sort = util_1.createSorter(this.compareValue);\n        }\n        if (this.asValue) {\n            spec.as = this.asValue;\n        }\n        const stackNode = df.add(vegaStack, spec);\n        return stackNode;\n    }\n}\nexports.StackBuilderImpl = StackBuilderImpl;\nfunction stack(stackField) {\n    return new StackBuilderImpl().field(stackField);\n}\nexports.stack = stack;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst { bin: vegaBin } = require('vega-transforms');\nconst { field: vegaField } = require('vega-util');\nclass BinBuilderImpl {\n    field(value) {\n        this.fieldValue = value;\n        return this;\n    }\n    extent(start, end) {\n        this.extentValue = [start, end];\n        return this;\n    }\n    anchor(value) {\n        this.anchorValue = value;\n        return this;\n    }\n    maxBins(value) {\n        this.maxBinsValue = value;\n        return this;\n    }\n    base(value) {\n        this.baseValue = value;\n        return this;\n    }\n    step(value) {\n        this.stepValue = value;\n        return this;\n    }\n    steps(values) {\n        this.stepsValue = values;\n        return this;\n    }\n    minStep(value) {\n        this.minStepValue = value;\n        return this;\n    }\n    divide(values) {\n        this.divideValue = values;\n        return this;\n    }\n    nice(value) {\n        this.niceValue = value;\n        return this;\n    }\n    as(start, end) {\n        this.asValue = [start, end];\n        return this;\n    }\n    ref(cb) {\n        this.refValue = cb;\n        return this;\n    }\n    build(df, from) {\n        if (this.fieldValue === undefined) {\n            throw new Error('field() must be set on bin transform');\n        }\n        if (this.extentValue === undefined) {\n            throw new Error('extent() must be set on bin transform');\n        }\n        const spec = {\n            field: vegaField(this.fieldValue),\n            extent: this.extentValue,\n            pulse: from,\n        };\n        if (this.anchorValue) {\n            spec.anchor = this.anchorValue;\n        }\n        if (this.maxBins) {\n            spec.maxbins = this.maxBinsValue;\n        }\n        if (this.baseValue) {\n            spec.base = this.baseValue;\n        }\n        if (this.stepValue) {\n            spec.step = this.stepValue;\n        }\n        if (this.stepsValue) {\n            spec.stepsValue = this.stepsValue;\n        }\n        if (this.minStepValue) {\n            spec.minstep = this.minStepValue;\n        }\n        if (this.divideValue) {\n            spec.divide = this.divideValue;\n        }\n        if (this.niceValue !== undefined) {\n            spec.nice = this.niceValue;\n        }\n        if (this.asValue) {\n            spec.as = this.asValue;\n        }\n        const binNode = df.add(vegaBin, spec);\n        if (this.refValue) {\n            this.refValue(binNode);\n        }\n        return binNode;\n    }\n}\nexports.BinBuilderImpl = BinBuilderImpl;\nfunction bin(fieldName) {\n    return new BinBuilderImpl().field(fieldName);\n}\nexports.bin = bin;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../util\");\nconst { collect: vegaCollect } = require('vega-transforms');\nclass CollectBuilderImpl {\n    sort(...compare) {\n        this.compareValue = compare;\n        return this;\n    }\n    build(df, from) {\n        const spec = {\n            pulse: from,\n        };\n        if (this.compareValue !== undefined) {\n            spec.sort = util_1.createSorter(this.compareValue);\n        }\n        return df.add(vegaCollect, spec);\n    }\n}\nexports.CollectBuilderImpl = CollectBuilderImpl;\nfunction collect() {\n    return new CollectBuilderImpl();\n}\nexports.collect = collect;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst { countpattern: vegaCountPattern } = require('vega-transforms');\nconst { field: vegaField } = require('vega-util');\nclass CountPatternBuilderImpl {\n    field(value) {\n        this.fieldValue = value;\n        return this;\n    }\n    pattern(value) {\n        this.patternValue = value;\n        return this;\n    }\n    case(value) {\n        this.caseValue = value;\n        return this;\n    }\n    stopWords(value) {\n        this.stopWordsValue = value;\n        return this;\n    }\n    as(textField, countField) {\n        this.asValue = [textField, countField];\n        return this;\n    }\n    build(df, from) {\n        if (!this.fieldValue) {\n            throw new Error('countPattern field() must be defined');\n        }\n        const spec = {\n            field: vegaField(this.fieldValue),\n            pulse: from,\n        };\n        if (this.caseValue) {\n            spec.case = this.caseValue;\n        }\n        if (this.patternValue) {\n            spec.pattern = this.patternValue;\n        }\n        if (this.stopWordsValue) {\n            spec.stopwords = this.stopWordsValue;\n        }\n        if (this.asValue) {\n            spec.as = this.asValue;\n        }\n        const countPatternNode = df.add(vegaCountPattern, spec);\n        return countPatternNode;\n    }\n}\nexports.CountPatternBuilderImpl = CountPatternBuilderImpl;\nfunction countPattern(fieldValue) {\n    return new CountPatternBuilderImpl().field(fieldValue);\n}\nexports.countPattern = countPattern;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst { cross: vegaCross } = require('vega-transforms');\nclass CrossBuilderImpl {\n    filter(value) {\n        this.filterValue = value;\n        return this;\n    }\n    as(field1, field2) {\n        this.asValue = [field1, field2];\n        return this;\n    }\n    build(df, from) {\n        const spec = {\n            pulse: from,\n        };\n        if (this.filterValue) {\n            spec.filter = this.filterValue;\n        }\n        if (this.asValue) {\n            spec.as = this.asValue;\n        }\n        const crossNode = df.add(vegaCross, spec);\n        return crossNode;\n    }\n}\nexports.CrossBuilderImpl = CrossBuilderImpl;\nfunction cross() {\n    return new CrossBuilderImpl();\n}\nexports.cross = cross;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./interfaces\"));\n__export(require(\"./densityBuilder\"));\n__export(require(\"./normalDistributionBuilder\"));\n__export(require(\"./uniformDistributionBuilder\"));\n__export(require(\"./kdeDistributionBuilder\"));\n__export(require(\"./mixtureDistributionBuilder\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DensityMethod;\n(function (DensityMethod) {\n    /**\n     * Probability Density Funciton\n     */\n    DensityMethod[\"pdf\"] = \"pdf\";\n    /**\n     * Cumulative Distribution Function\n     */\n    DensityMethod[\"cdf\"] = \"cdf\";\n})(DensityMethod = exports.DensityMethod || (exports.DensityMethod = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst { density: vegaDensity } = require('vega-transforms');\nclass DensityBuilderImpl {\n    distribution(value) {\n        this.distributionValue = value;\n        return this;\n    }\n    extent(start, end) {\n        this.extentValue = [start, end];\n        return this;\n    }\n    method(value) {\n        this.methodValue = value;\n        return this;\n    }\n    steps(value) {\n        this.stepsValue = value;\n        return this;\n    }\n    as(valueString, probabilityField) {\n        this.asValue = [valueString, probabilityField];\n        return this;\n    }\n    build(df, from, ds) {\n        if (!this.distributionValue) {\n            throw new Error('density distribution() must be defined');\n        }\n        const spec = {\n            distribution: this.distributionValue.build(ds),\n            pulse: from,\n        };\n        if (this.extentValue) {\n            spec.extent = this.extentValue;\n        }\n        if (this.methodValue) {\n            spec.method = this.methodValue;\n        }\n        if (this.stepsValue) {\n            spec.steps = this.stepsValue;\n        }\n        if (this.asValue) {\n            spec.as = this.asValue;\n        }\n        return df.add(vegaDensity, spec);\n    }\n}\nexports.DensityBuilderImpl = DensityBuilderImpl;\nfunction density() {\n    return new DensityBuilderImpl();\n}\nexports.density = density;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass NormalDistributionBuilderImpl {\n    mean(value) {\n        this.meanValue = value;\n        return this;\n    }\n    stdev(value) {\n        this.stdevValue = value;\n        return this;\n    }\n    build() {\n        return {\n            function: 'normal',\n            mean: this.meanValue,\n            stdev: this.stdevValue,\n        };\n    }\n}\nexports.NormalDistributionBuilderImpl = NormalDistributionBuilderImpl;\nfunction normal() {\n    return new NormalDistributionBuilderImpl();\n}\nexports.normal = normal;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass UniformDistributionBuilderImpl {\n    min(value) {\n        this.minValue = value;\n        return this;\n    }\n    max(value) {\n        this.maxValue = value;\n        return this;\n    }\n    build() {\n        return {\n            function: 'uniform',\n            min: this.minValue,\n            max: this.maxValue,\n        };\n    }\n}\nexports.UniformDistributionBuilderImpl = UniformDistributionBuilderImpl;\nfunction uniform() {\n    return new UniformDistributionBuilderImpl();\n}\nexports.uniform = uniform;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst { field: vegaField } = require('vega-util');\nclass KdeDistributionBuilderImpl {\n    from(value) {\n        this.fromValue = value;\n        return this;\n    }\n    field(field) {\n        this.fieldValue = field;\n        return this;\n    }\n    bandwidth(value) {\n        this.bandwidthValue = value;\n        return this;\n    }\n    build(ds) {\n        // TODO: wire in source\n        if (!this.fromValue) {\n            throw new Error('kde distribution must define a source table');\n        }\n        if (!this.fieldValue) {\n            throw new Error('kde distribution must define a field value');\n        }\n        return {\n            function: 'kde',\n            from: ds.getTable(this.fromValue),\n            field: vegaField(this.fieldValue),\n            bandwidth: this.bandwidthValue,\n        };\n    }\n}\nexports.KdeDistributionBuilderImpl = KdeDistributionBuilderImpl;\nfunction kde() {\n    return new KdeDistributionBuilderImpl();\n}\nexports.kde = kde;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass MixtureDistributionBuilderImpl {\n    distributions(...values) {\n        this.distributionsValue = values;\n        return this;\n    }\n    weights(...values) {\n        this.weightsValue = values;\n        return this;\n    }\n    build(ds) {\n        if (!this.distributionsValue) {\n            throw new Error('mixture distribution must have inner distributions set');\n        }\n        return {\n            function: 'mixture',\n            weights: this.weightsValue,\n            distributions: this.distributionsValue.map(d => d.build(ds)),\n        };\n    }\n}\nexports.MixtureDistributionBuilderImpl = MixtureDistributionBuilderImpl;\nfunction mixture() {\n    return new MixtureDistributionBuilderImpl();\n}\nexports.mixture = mixture;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst { filter: vegaFilter } = require('vega-transforms');\nclass FilterBuilderImpl {\n    filter(value) {\n        this.filterValue = value;\n        return this;\n    }\n    build(df, from) {\n        if (!this.filterValue) {\n            throw new Error('filter predicate must be defined');\n        }\n        const spec = {\n            expr: this.filterValue,\n            pulse: from,\n        };\n        const crossNode = df.add(vegaFilter, spec);\n        return crossNode;\n    }\n}\nexports.FilterBuilderImpl = FilterBuilderImpl;\nfunction filter(predicate) {\n    return new FilterBuilderImpl().filter(predicate);\n}\nexports.filter = filter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst { formula: vegaFormula } = require('vega-transforms');\nclass FormulaBuilderImpl {\n    formula(value) {\n        this.formulaValue = value;\n        return this;\n    }\n    as(field) {\n        this.asValue = field;\n        return this;\n    }\n    initOnly(value) {\n        this.initOnlyValue = value;\n        return this;\n    }\n    build(df, from) {\n        if (!this.formulaValue) {\n            throw new Error('formula predicate must be defined');\n        }\n        if (!this.asValue) {\n            throw new Error('formula as must be defined');\n        }\n        const spec = {\n            expr: this.formulaValue,\n            as: this.asValue,\n            pulse: from,\n        };\n        if (this.initOnlyValue) {\n            spec.initonly = this.initOnlyValue;\n        }\n        const formulaNode = df.add(vegaFormula, spec);\n        return formulaNode;\n    }\n}\nexports.FormulaBuilderImpl = FormulaBuilderImpl;\nfunction formula(predicate) {\n    return new FormulaBuilderImpl().formula(predicate);\n}\nexports.formula = formula;\n"],"sourceRoot":""}